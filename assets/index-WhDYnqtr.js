(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Zs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vv={exports:{}},yu={},Ov={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=Symbol.for("react.element"),PT=Symbol.for("react.portal"),kT=Symbol.for("react.fragment"),NT=Symbol.for("react.strict_mode"),DT=Symbol.for("react.profiler"),VT=Symbol.for("react.provider"),OT=Symbol.for("react.context"),LT=Symbol.for("react.forward_ref"),bT=Symbol.for("react.suspense"),MT=Symbol.for("react.memo"),FT=Symbol.for("react.lazy"),Bm=Symbol.iterator;function $T(t){return t===null||typeof t!="object"?null:(t=Bm&&t[Bm]||t["@@iterator"],typeof t=="function"?t:null)}var Lv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bv=Object.assign,Mv={};function _o(t,e,n){this.props=t,this.context=e,this.refs=Mv,this.updater=n||Lv}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Fv(){}Fv.prototype=_o.prototype;function qd(t,e,n){this.props=t,this.context=e,this.refs=Mv,this.updater=n||Lv}var Kd=qd.prototype=new Fv;Kd.constructor=qd;bv(Kd,_o.prototype);Kd.isPureReactComponent=!0;var zm=Array.isArray,$v=Object.prototype.hasOwnProperty,Gd={current:null},jv={key:!0,ref:!0,__self:!0,__source:!0};function Uv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)$v.call(e,r)&&!jv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:ea,type:t,key:o,ref:s,props:i,_owner:Gd.current}}function jT(t,e){return{$$typeof:ea,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ea}function UT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wm=/\/+/g;function Pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UT(""+t.key):e.toString(36)}function al(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ea:case PT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Pc(s,0):r,zm(i)?(n="",t!=null&&(n=t.replace(Wm,"$&/")+"/"),al(i,e,n,"",function(c){return c})):i!=null&&(Qd(i)&&(i=jT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Wm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",zm(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+Pc(o,l);s+=al(o,e,n,u,i)}else if(u=$T(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+Pc(o,l++),s+=al(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function La(t,e,n){if(t==null)return t;var r=[],i=0;return al(t,r,"","",function(o){return e.call(n,o,i++)}),r}function BT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},ll={transition:null},zT={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:ll,ReactCurrentOwner:Gd};function Bv(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:La,forEach:function(t,e,n){La(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return La(t,function(){e++}),e},toArray:function(t){return La(t,function(e){return e})||[]},only:function(t){if(!Qd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=_o;Z.Fragment=kT;Z.Profiler=DT;Z.PureComponent=qd;Z.StrictMode=NT;Z.Suspense=bT;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zT;Z.act=Bv;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=bv({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Gd.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)$v.call(e,u)&&!jv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:ea,type:t.type,key:i,ref:o,props:r,_owner:s}};Z.createContext=function(t){return t={$$typeof:OT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VT,_context:t},t.Consumer=t};Z.createElement=Uv;Z.createFactory=function(t){var e=Uv.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:LT,render:t}};Z.isValidElement=Qd;Z.lazy=function(t){return{$$typeof:FT,_payload:{_status:-1,_result:t},_init:BT}};Z.memo=function(t,e){return{$$typeof:MT,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=ll.transition;ll.transition={};try{t()}finally{ll.transition=e}};Z.unstable_act=Bv;Z.useCallback=function(t,e){return yt.current.useCallback(t,e)};Z.useContext=function(t){return yt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return yt.current.useEffect(t,e)};Z.useId=function(){return yt.current.useId()};Z.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return yt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};Z.useRef=function(t){return yt.current.useRef(t)};Z.useState=function(t){return yt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return yt.current.useTransition()};Z.version="18.3.1";Ov.exports=Z;var E=Ov.exports;const Ze=Zs(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT=E,HT=Symbol.for("react.element"),qT=Symbol.for("react.fragment"),KT=Object.prototype.hasOwnProperty,GT=WT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QT={key:!0,ref:!0,__self:!0,__source:!0};function zv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)KT.call(e,r)&&!QT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HT,type:t,key:o,ref:s,props:i,_owner:GT.current}}yu.Fragment=qT;yu.jsx=zv;yu.jsxs=zv;Vv.exports=yu;var V=Vv.exports,Eh={},Wv={exports:{}},bt={},Hv={exports:{}},qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,K){var q=j.length;j.push(K);e:for(;0<q;){var te=q-1>>>1,J=j[te];if(0<i(J,K))j[te]=K,j[q]=J,q=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],q=j.pop();if(q!==K){j[0]=q;e:for(var te=0,J=j.length,oe=J>>>1;te<oe;){var de=2*(te+1)-1,ve=j[de],Ge=de+1,rt=j[Ge];if(0>i(ve,q))Ge<J&&0>i(rt,ve)?(j[te]=rt,j[Ge]=q,te=Ge):(j[te]=ve,j[de]=q,te=de);else if(Ge<J&&0>i(rt,q))j[te]=rt,j[Ge]=q,te=Ge;else break e}}return K}function i(j,K){var q=j.sortIndex-K.sortIndex;return q!==0?q:j.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,m=3,v=!1,C=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(j){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=j)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function D(j){if(P=!1,S(j),!C)if(n(u)!==null)C=!0,le(b);else{var K=n(c);K!==null&&he(D,K.startTime-j)}}function b(j,K){C=!1,P&&(P=!1,w(g),g=-1),v=!0;var q=m;try{for(S(K),p=n(u);p!==null&&(!(p.expirationTime>K)||j&&!x());){var te=p.callback;if(typeof te=="function"){p.callback=null,m=p.priorityLevel;var J=te(p.expirationTime<=K);K=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),S(K)}else r(u);p=n(u)}if(p!==null)var oe=!0;else{var de=n(c);de!==null&&he(D,de.startTime-K),oe=!1}return oe}finally{p=null,m=q,v=!1}}var L=!1,T=null,g=-1,I=5,A=-1;function x(){return!(t.unstable_now()-A<I)}function N(){if(T!==null){var j=t.unstable_now();A=j;var K=!0;try{K=T(!0,j)}finally{K?R():(L=!1,T=null)}}else L=!1}var R;if(typeof y=="function")R=function(){y(N)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=N,R=function(){me.postMessage(null)}}else R=function(){k(N,0)};function le(j){T=j,L||(L=!0,R())}function he(j,K){g=k(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,le(b))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var q=m;m=K;try{return j()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=m;m=j;try{return K()}finally{m=q}},t.unstable_scheduleCallback=function(j,K,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,j={id:d++,callback:K,priorityLevel:j,startTime:q,expirationTime:J,sortIndex:-1},q>te?(j.sortIndex=q,e(c,j),n(u)===null&&j===n(c)&&(P?(w(g),g=-1):P=!0,he(D,q-te))):(j.sortIndex=J,e(u,j),C||v||(C=!0,le(b))),j},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(j){var K=m;return function(){var q=m;m=K;try{return j.apply(this,arguments)}finally{m=q}}}})(qv);Hv.exports=qv;var XT=Hv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT=E,Ot=XT;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Kv=new Set,Cs={};function fi(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Cs[t]=e,t=0;t<e.length;t++)Kv.add(e[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wh=Object.prototype.hasOwnProperty,JT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hm={},qm={};function ZT(t){return wh.call(qm,t)?!0:wh.call(Hm,t)?!1:JT.test(t)?qm[t]=!0:(Hm[t]=!0,!1)}function eS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tS(t,e,n,r){if(e===null||typeof e>"u"||eS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xd=/[\-:]([a-z])/g;function Yd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xd,Yd);tt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xd,Yd);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xd,Yd);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jd(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tS(e,n,i,r)&&(n=null),r||i===null?ZT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var qn=YT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),Zd=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Gv=Symbol.for("react.provider"),Qv=Symbol.for("react.context"),ef=Symbol.for("react.forward_ref"),Sh=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),tf=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Xv=Symbol.for("react.offscreen"),Km=Symbol.iterator;function zo(t){return t===null||typeof t!="object"?null:(t=Km&&t[Km]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,kc;function es(t){if(kc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kc=e&&e[1]||""}return`
`+kc+t}var Nc=!1;function Dc(t,e){if(!t||Nc)return"";Nc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Nc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?es(t):""}function nS(t){switch(t.tag){case 5:return es(t.type);case 16:return es("Lazy");case 13:return es("Suspense");case 19:return es("SuspenseList");case 0:case 2:case 15:return t=Dc(t.type,!1),t;case 11:return t=Dc(t.type.render,!1),t;case 1:return t=Dc(t.type,!0),t;default:return""}}function Ch(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case Vi:return"Portal";case Th:return"Profiler";case Zd:return"StrictMode";case Sh:return"Suspense";case Ih:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Qv:return(t.displayName||"Context")+".Consumer";case Gv:return(t._context.displayName||"Context")+".Provider";case ef:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case tf:return e=t.displayName||null,e!==null?e:Ch(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Ch(t(e))}catch{}}return null}function rS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ch(e);case 8:return e===Zd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iS(t){var e=Yv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ma(t){t._valueTracker||(t._valueTracker=iS(t))}function Jv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Pl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rh(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Zv(t,e){e=e.checked,e!=null&&Jd(t,"checked",e,!1)}function Ah(t,e){Zv(t,e);var n=Ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xh(t,e.type,n):e.hasOwnProperty("defaultValue")&&xh(t,e.type,Ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xh(t,e,n){(e!=="number"||Pl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ts=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ph(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ts(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ir(n)}}function e_(t,e){var n=Ir(e.value),r=Ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ym(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function t_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?t_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fa,n_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fa=Fa||document.createElement("div"),Fa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oS=["Webkit","ms","Moz","O"];Object.keys(us).forEach(function(t){oS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),us[e]=us[t]})});function r_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||us.hasOwnProperty(t)&&us[t]?(""+e).trim():e+"px"}function i_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=r_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sS=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(sS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Dh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vh=null;function nf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oh=null,Ki=null,Gi=null;function Jm(t){if(t=ra(t)){if(typeof Oh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Tu(e),Oh(t.stateNode,t.type,e))}}function o_(t){Ki?Gi?Gi.push(t):Gi=[t]:Ki=t}function s_(){if(Ki){var t=Ki,e=Gi;if(Gi=Ki=null,Jm(t),e)for(t=0;t<e.length;t++)Jm(e[t])}}function a_(t,e){return t(e)}function l_(){}var Vc=!1;function u_(t,e,n){if(Vc)return t(e,n);Vc=!0;try{return a_(t,e,n)}finally{Vc=!1,(Ki!==null||Gi!==null)&&(l_(),s_())}}function As(t,e){var n=t.stateNode;if(n===null)return null;var r=Tu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var Lh=!1;if(bn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){Lh=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{Lh=!1}function aS(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var cs=!1,kl=null,Nl=!1,bh=null,lS={onError:function(t){cs=!0,kl=t}};function uS(t,e,n,r,i,o,s,l,u){cs=!1,kl=null,aS.apply(lS,arguments)}function cS(t,e,n,r,i,o,s,l,u){if(uS.apply(this,arguments),cs){if(cs){var c=kl;cs=!1,kl=null}else throw Error(U(198));Nl||(Nl=!0,bh=c)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zm(t){if(pi(t)!==t)throw Error(U(188))}function hS(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zm(i),t;if(o===r)return Zm(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function h_(t){return t=hS(t),t!==null?d_(t):null}function d_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d_(t);if(e!==null)return e;t=t.sibling}return null}var f_=Ot.unstable_scheduleCallback,eg=Ot.unstable_cancelCallback,dS=Ot.unstable_shouldYield,fS=Ot.unstable_requestPaint,Oe=Ot.unstable_now,pS=Ot.unstable_getCurrentPriorityLevel,rf=Ot.unstable_ImmediatePriority,p_=Ot.unstable_UserBlockingPriority,Dl=Ot.unstable_NormalPriority,mS=Ot.unstable_LowPriority,m_=Ot.unstable_IdlePriority,vu=null,pn=null;function gS(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(vu,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:_S,yS=Math.log,vS=Math.LN2;function _S(t){return t>>>=0,t===0?32:31-(yS(t)/vS|0)|0}var $a=64,ja=4194304;function ns(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=ns(l):(o&=s,o!==0&&(r=ns(o)))}else s=n&~i,s!==0?r=ns(s):o!==0&&(r=ns(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function ES(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-tn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=ES(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Mh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function g_(){var t=$a;return $a<<=1,!($a&4194240)&&($a=64),t}function Oc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ta(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function TS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function of(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function y_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var v_,sf,__,E_,w_,Fh=!1,Ua=[],dr=null,fr=null,pr=null,xs=new Map,Ps=new Map,sr=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tg(t,e){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":fr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":xs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ps.delete(e.pointerId)}}function Ho(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=ra(e),e!==null&&sf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function IS(t,e,n,r,i){switch(e){case"focusin":return dr=Ho(dr,t,e,n,r,i),!0;case"dragenter":return fr=Ho(fr,t,e,n,r,i),!0;case"mouseover":return pr=Ho(pr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return xs.set(o,Ho(xs.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Ps.set(o,Ho(Ps.get(o)||null,t,e,n,r,i)),!0}return!1}function T_(t){var e=Qr(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=c_(n),e!==null){t.blockedOn=e,w_(t.priority,function(){__(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ul(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=$h(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Vh=r,n.target.dispatchEvent(r),Vh=null}else return e=ra(n),e!==null&&sf(e),t.blockedOn=n,!1;e.shift()}return!0}function ng(t,e,n){ul(t)&&n.delete(e)}function CS(){Fh=!1,dr!==null&&ul(dr)&&(dr=null),fr!==null&&ul(fr)&&(fr=null),pr!==null&&ul(pr)&&(pr=null),xs.forEach(ng),Ps.forEach(ng)}function qo(t,e){t.blockedOn===e&&(t.blockedOn=null,Fh||(Fh=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,CS)))}function ks(t){function e(i){return qo(i,t)}if(0<Ua.length){qo(Ua[0],t);for(var n=1;n<Ua.length;n++){var r=Ua[n];r.blockedOn===t&&(r.blockedOn=null)}}for(dr!==null&&qo(dr,t),fr!==null&&qo(fr,t),pr!==null&&qo(pr,t),xs.forEach(e),Ps.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)T_(n),n.blockedOn===null&&sr.shift()}var Qi=qn.ReactCurrentBatchConfig,Ol=!0;function RS(t,e,n,r){var i=pe,o=Qi.transition;Qi.transition=null;try{pe=1,af(t,e,n,r)}finally{pe=i,Qi.transition=o}}function AS(t,e,n,r){var i=pe,o=Qi.transition;Qi.transition=null;try{pe=4,af(t,e,n,r)}finally{pe=i,Qi.transition=o}}function af(t,e,n,r){if(Ol){var i=$h(t,e,n,r);if(i===null)Wc(t,e,r,Ll,n),tg(t,r);else if(IS(i,t,e,n,r))r.stopPropagation();else if(tg(t,r),e&4&&-1<SS.indexOf(t)){for(;i!==null;){var o=ra(i);if(o!==null&&v_(o),o=$h(t,e,n,r),o===null&&Wc(t,e,r,Ll,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Wc(t,e,r,null,n)}}var Ll=null;function $h(t,e,n,r){if(Ll=null,t=nf(r),t=Qr(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=c_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ll=t,null}function S_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pS()){case rf:return 1;case p_:return 4;case Dl:case mS:return 16;case m_:return 536870912;default:return 16}default:return 16}}var lr=null,lf=null,cl=null;function I_(){if(cl)return cl;var t,e=lf,n=e.length,r,i="value"in lr?lr.value:lr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return cl=i.slice(t,1<r?1-r:void 0)}function hl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ba(){return!0}function rg(){return!1}function Mt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ba:rg,this.isPropagationStopped=rg,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ba)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ba)},persist:function(){},isPersistent:Ba}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uf=Mt(Eo),na=xe({},Eo,{view:0,detail:0}),xS=Mt(na),Lc,bc,Ko,_u=xe({},na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(Lc=t.screenX-Ko.screenX,bc=t.screenY-Ko.screenY):bc=Lc=0,Ko=t),Lc)},movementY:function(t){return"movementY"in t?t.movementY:bc}}),ig=Mt(_u),PS=xe({},_u,{dataTransfer:0}),kS=Mt(PS),NS=xe({},na,{relatedTarget:0}),Mc=Mt(NS),DS=xe({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),VS=Mt(DS),OS=xe({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LS=Mt(OS),bS=xe({},Eo,{data:0}),og=Mt(bS),MS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$S[t])?!!e[t]:!1}function cf(){return jS}var US=xe({},na,{key:function(t){if(t.key){var e=MS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(t){return t.type==="keypress"?hl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BS=Mt(US),zS=xe({},_u,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sg=Mt(zS),WS=xe({},na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),HS=Mt(WS),qS=xe({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),KS=Mt(qS),GS=xe({},_u,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QS=Mt(GS),XS=[9,13,27,32],hf=bn&&"CompositionEvent"in window,hs=null;bn&&"documentMode"in document&&(hs=document.documentMode);var YS=bn&&"TextEvent"in window&&!hs,C_=bn&&(!hf||hs&&8<hs&&11>=hs),ag=" ",lg=!1;function R_(t,e){switch(t){case"keyup":return XS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function A_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function JS(t,e){switch(t){case"compositionend":return A_(e);case"keypress":return e.which!==32?null:(lg=!0,ag);case"textInput":return t=e.data,t===ag&&lg?null:t;default:return null}}function ZS(t,e){if(Li)return t==="compositionend"||!hf&&R_(t,e)?(t=I_(),cl=lf=lr=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C_&&e.locale!=="ko"?null:e.data;default:return null}}var eI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eI[t.type]:e==="textarea"}function x_(t,e,n,r){o_(r),e=bl(e,"onChange"),0<e.length&&(n=new uf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ds=null,Ns=null;function tI(t){$_(t,0)}function Eu(t){var e=Fi(t);if(Jv(e))return t}function nI(t,e){if(t==="change")return e}var P_=!1;if(bn){var Fc;if(bn){var $c="oninput"in document;if(!$c){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),$c=typeof cg.oninput=="function"}Fc=$c}else Fc=!1;P_=Fc&&(!document.documentMode||9<document.documentMode)}function hg(){ds&&(ds.detachEvent("onpropertychange",k_),Ns=ds=null)}function k_(t){if(t.propertyName==="value"&&Eu(Ns)){var e=[];x_(e,Ns,t,nf(t)),u_(tI,e)}}function rI(t,e,n){t==="focusin"?(hg(),ds=e,Ns=n,ds.attachEvent("onpropertychange",k_)):t==="focusout"&&hg()}function iI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Eu(Ns)}function oI(t,e){if(t==="click")return Eu(e)}function sI(t,e){if(t==="input"||t==="change")return Eu(e)}function aI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:aI;function Ds(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!wh.call(e,i)||!rn(t[i],e[i]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function fg(t,e){var n=dg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dg(n)}}function N_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function D_(){for(var t=window,e=Pl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Pl(t.document)}return e}function df(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lI(t){var e=D_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&N_(n.ownerDocument.documentElement,n)){if(r!==null&&df(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=fg(n,o);var s=fg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uI=bn&&"documentMode"in document&&11>=document.documentMode,bi=null,jh=null,fs=null,Uh=!1;function pg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uh||bi==null||bi!==Pl(r)||(r=bi,"selectionStart"in r&&df(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fs&&Ds(fs,r)||(fs=r,r=bl(jh,"onSelect"),0<r.length&&(e=new uf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bi)))}function za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mi={animationend:za("Animation","AnimationEnd"),animationiteration:za("Animation","AnimationIteration"),animationstart:za("Animation","AnimationStart"),transitionend:za("Transition","TransitionEnd")},jc={},V_={};bn&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function wu(t){if(jc[t])return jc[t];if(!Mi[t])return t;var e=Mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in V_)return jc[t]=e[n];return t}var O_=wu("animationend"),L_=wu("animationiteration"),b_=wu("animationstart"),M_=wu("transitionend"),F_=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vr(t,e){F_.set(t,e),fi(e,[t])}for(var Uc=0;Uc<mg.length;Uc++){var Bc=mg[Uc],cI=Bc.toLowerCase(),hI=Bc[0].toUpperCase()+Bc.slice(1);Vr(cI,"on"+hI)}Vr(O_,"onAnimationEnd");Vr(L_,"onAnimationIteration");Vr(b_,"onAnimationStart");Vr("dblclick","onDoubleClick");Vr("focusin","onFocus");Vr("focusout","onBlur");Vr(M_,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fi("onBeforeInput",["compositionend","keypress","textInput","paste"]);fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dI=new Set("cancel close invalid load scroll toggle".split(" ").concat(rs));function gg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,cS(r,e,void 0,t),t.currentTarget=null}function $_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;gg(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;gg(i,l,c),o=u}}}if(Nl)throw t=bh,Nl=!1,bh=null,t}function Te(t,e){var n=e[qh];n===void 0&&(n=e[qh]=new Set);var r=t+"__bubble";n.has(r)||(j_(e,t,2,!1),n.add(r))}function zc(t,e,n){var r=0;e&&(r|=4),j_(n,t,r,e)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Vs(t){if(!t[Wa]){t[Wa]=!0,Kv.forEach(function(n){n!=="selectionchange"&&(dI.has(n)||zc(n,!1,t),zc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wa]||(e[Wa]=!0,zc("selectionchange",!1,e))}}function j_(t,e,n,r){switch(S_(e)){case 1:var i=RS;break;case 4:i=AS;break;default:i=af}n=i.bind(null,e,n,t),i=void 0,!Lh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Qr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}u_(function(){var c=o,d=nf(n),p=[];e:{var m=F_.get(t);if(m!==void 0){var v=uf,C=t;switch(t){case"keypress":if(hl(n)===0)break e;case"keydown":case"keyup":v=BS;break;case"focusin":C="focus",v=Mc;break;case"focusout":C="blur",v=Mc;break;case"beforeblur":case"afterblur":v=Mc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=kS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=HS;break;case O_:case L_:case b_:v=VS;break;case M_:v=KS;break;case"scroll":v=xS;break;case"wheel":v=QS;break;case"copy":case"cut":case"paste":v=LS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sg}var P=(e&4)!==0,k=!P&&t==="scroll",w=P?m!==null?m+"Capture":null:m;P=[];for(var y=c,S;y!==null;){S=y;var D=S.stateNode;if(S.tag===5&&D!==null&&(S=D,w!==null&&(D=As(y,w),D!=null&&P.push(Os(y,D,S)))),k)break;y=y.return}0<P.length&&(m=new v(m,C,null,n,d),p.push({event:m,listeners:P}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Vh&&(C=n.relatedTarget||n.fromElement)&&(Qr(C)||C[Mn]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=c,C=C?Qr(C):null,C!==null&&(k=pi(C),C!==k||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=c),v!==C)){if(P=ig,D="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(P=sg,D="onPointerLeave",w="onPointerEnter",y="pointer"),k=v==null?m:Fi(v),S=C==null?m:Fi(C),m=new P(D,y+"leave",v,n,d),m.target=k,m.relatedTarget=S,D=null,Qr(d)===c&&(P=new P(w,y+"enter",C,n,d),P.target=S,P.relatedTarget=k,D=P),k=D,v&&C)t:{for(P=v,w=C,y=0,S=P;S;S=Ci(S))y++;for(S=0,D=w;D;D=Ci(D))S++;for(;0<y-S;)P=Ci(P),y--;for(;0<S-y;)w=Ci(w),S--;for(;y--;){if(P===w||w!==null&&P===w.alternate)break t;P=Ci(P),w=Ci(w)}P=null}else P=null;v!==null&&yg(p,m,v,P,!1),C!==null&&k!==null&&yg(p,k,C,P,!0)}}e:{if(m=c?Fi(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var b=nI;else if(ug(m))if(P_)b=sI;else{b=iI;var L=rI}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=oI);if(b&&(b=b(t,c))){x_(p,b,n,d);break e}L&&L(t,m,c),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&xh(m,"number",m.value)}switch(L=c?Fi(c):window,t){case"focusin":(ug(L)||L.contentEditable==="true")&&(bi=L,jh=c,fs=null);break;case"focusout":fs=jh=bi=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,pg(p,n,d);break;case"selectionchange":if(uI)break;case"keydown":case"keyup":pg(p,n,d)}var T;if(hf)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Li?R_(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(C_&&n.locale!=="ko"&&(Li||g!=="onCompositionStart"?g==="onCompositionEnd"&&Li&&(T=I_()):(lr=d,lf="value"in lr?lr.value:lr.textContent,Li=!0)),L=bl(c,g),0<L.length&&(g=new og(g,t,null,n,d),p.push({event:g,listeners:L}),T?g.data=T:(T=A_(n),T!==null&&(g.data=T)))),(T=YS?JS(t,n):ZS(t,n))&&(c=bl(c,"onBeforeInput"),0<c.length&&(d=new og("onBeforeInput","beforeinput",null,n,d),p.push({event:d,listeners:c}),d.data=T))}$_(p,e)})}function Os(t,e,n){return{instance:t,listener:e,currentTarget:n}}function bl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=As(t,n),o!=null&&r.unshift(Os(t,o,i)),o=As(t,e),o!=null&&r.push(Os(t,o,i))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=As(n,o),u!=null&&s.unshift(Os(n,u,l))):i||(u=As(n,o),u!=null&&s.push(Os(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var fI=/\r\n?/g,pI=/\u0000|\uFFFD/g;function vg(t){return(typeof t=="string"?t:""+t).replace(fI,`
`).replace(pI,"")}function Ha(t,e,n){if(e=vg(e),vg(t)!==e&&n)throw Error(U(425))}function Ml(){}var Bh=null,zh=null;function Wh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hh=typeof setTimeout=="function"?setTimeout:void 0,mI=typeof clearTimeout=="function"?clearTimeout:void 0,_g=typeof Promise=="function"?Promise:void 0,gI=typeof queueMicrotask=="function"?queueMicrotask:typeof _g<"u"?function(t){return _g.resolve(null).then(t).catch(yI)}:Hh;function yI(t){setTimeout(function(){throw t})}function Hc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ks(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ks(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Eg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),fn="__reactFiber$"+wo,Ls="__reactProps$"+wo,Mn="__reactContainer$"+wo,qh="__reactEvents$"+wo,vI="__reactListeners$"+wo,_I="__reactHandles$"+wo;function Qr(t){var e=t[fn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Mn]||n[fn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Eg(t);t!==null;){if(n=t[fn])return n;t=Eg(t)}return e}t=n,n=t.parentNode}return null}function ra(t){return t=t[fn]||t[Mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Tu(t){return t[Ls]||null}var Kh=[],$i=-1;function Or(t){return{current:t}}function Ie(t){0>$i||(t.current=Kh[$i],Kh[$i]=null,$i--)}function _e(t,e){$i++,Kh[$i]=t.current,t.current=e}var Cr={},ft=Or(Cr),St=Or(!1),ii=Cr;function eo(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function It(t){return t=t.childContextTypes,t!=null}function Fl(){Ie(St),Ie(ft)}function wg(t,e,n){if(ft.current!==Cr)throw Error(U(168));_e(ft,e),_e(St,n)}function U_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,rS(t)||"Unknown",i));return xe({},n,r)}function $l(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,ii=ft.current,_e(ft,t),_e(St,St.current),!0}function Tg(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=U_(t,e,ii),r.__reactInternalMemoizedMergedChildContext=t,Ie(St),Ie(ft),_e(ft,t)):Ie(St),_e(St,n)}var An=null,Su=!1,qc=!1;function B_(t){An===null?An=[t]:An.push(t)}function EI(t){Su=!0,B_(t)}function Lr(){if(!qc&&An!==null){qc=!0;var t=0,e=pe;try{var n=An;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,Su=!1}catch(i){throw An!==null&&(An=An.slice(t+1)),f_(rf,Lr),i}finally{pe=e,qc=!1}}return null}var ji=[],Ui=0,jl=null,Ul=0,$t=[],jt=0,oi=null,kn=1,Nn="";function qr(t,e){ji[Ui++]=Ul,ji[Ui++]=jl,jl=t,Ul=e}function z_(t,e,n){$t[jt++]=kn,$t[jt++]=Nn,$t[jt++]=oi,oi=t;var r=kn;t=Nn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var o=32-tn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,kn=1<<32-tn(e)+i|n<<i|r,Nn=o+t}else kn=1<<o|n<<i|r,Nn=t}function ff(t){t.return!==null&&(qr(t,1),z_(t,1,0))}function pf(t){for(;t===jl;)jl=ji[--Ui],ji[Ui]=null,Ul=ji[--Ui],ji[Ui]=null;for(;t===oi;)oi=$t[--jt],$t[jt]=null,Nn=$t[--jt],$t[jt]=null,kn=$t[--jt],$t[jt]=null}var Vt=null,Nt=null,Ce=!1,Zt=null;function W_(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=oi!==null?{id:kn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Nt=null,!0):!1;default:return!1}}function Gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qh(t){if(Ce){var e=Nt;if(e){var n=e;if(!Sg(t,e)){if(Gh(t))throw Error(U(418));e=mr(n.nextSibling);var r=Vt;e&&Sg(t,e)?W_(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Vt=t)}}else{if(Gh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ce=!1,Vt=t}}}function Ig(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function qa(t){if(t!==Vt)return!1;if(!Ce)return Ig(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Wh(t.type,t.memoizedProps)),e&&(e=Nt)){if(Gh(t))throw H_(),Error(U(418));for(;e;)W_(t,e),e=mr(e.nextSibling)}if(Ig(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Vt?mr(t.stateNode.nextSibling):null;return!0}function H_(){for(var t=Nt;t;)t=mr(t.nextSibling)}function to(){Nt=Vt=null,Ce=!1}function mf(t){Zt===null?Zt=[t]:Zt.push(t)}var wI=qn.ReactCurrentBatchConfig;function Go(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ka(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Cg(t){var e=t._init;return e(t._payload)}function q_(t){function e(w,y){if(t){var S=w.deletions;S===null?(w.deletions=[y],w.flags|=16):S.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=_r(w,y),w.index=0,w.sibling=null,w}function o(w,y,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<y?(w.flags|=2,y):S):(w.flags|=2,y)):(w.flags|=1048576,y)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,y,S,D){return y===null||y.tag!==6?(y=Zc(S,w.mode,D),y.return=w,y):(y=i(y,S),y.return=w,y)}function u(w,y,S,D){var b=S.type;return b===Oi?d(w,y,S.props.children,D,S.key):y!==null&&(y.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===nr&&Cg(b)===y.type)?(D=i(y,S.props),D.ref=Go(w,y,S),D.return=w,D):(D=vl(S.type,S.key,S.props,null,w.mode,D),D.ref=Go(w,y,S),D.return=w,D)}function c(w,y,S,D){return y===null||y.tag!==4||y.stateNode.containerInfo!==S.containerInfo||y.stateNode.implementation!==S.implementation?(y=eh(S,w.mode,D),y.return=w,y):(y=i(y,S.children||[]),y.return=w,y)}function d(w,y,S,D,b){return y===null||y.tag!==7?(y=ti(S,w.mode,D,b),y.return=w,y):(y=i(y,S),y.return=w,y)}function p(w,y,S){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Zc(""+y,w.mode,S),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case ba:return S=vl(y.type,y.key,y.props,null,w.mode,S),S.ref=Go(w,null,y),S.return=w,S;case Vi:return y=eh(y,w.mode,S),y.return=w,y;case nr:var D=y._init;return p(w,D(y._payload),S)}if(ts(y)||zo(y))return y=ti(y,w.mode,S,null),y.return=w,y;Ka(w,y)}return null}function m(w,y,S,D){var b=y!==null?y.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return b!==null?null:l(w,y,""+S,D);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ba:return S.key===b?u(w,y,S,D):null;case Vi:return S.key===b?c(w,y,S,D):null;case nr:return b=S._init,m(w,y,b(S._payload),D)}if(ts(S)||zo(S))return b!==null?null:d(w,y,S,D,null);Ka(w,S)}return null}function v(w,y,S,D,b){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(S)||null,l(y,w,""+D,b);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ba:return w=w.get(D.key===null?S:D.key)||null,u(y,w,D,b);case Vi:return w=w.get(D.key===null?S:D.key)||null,c(y,w,D,b);case nr:var L=D._init;return v(w,y,S,L(D._payload),b)}if(ts(D)||zo(D))return w=w.get(S)||null,d(y,w,D,b,null);Ka(y,D)}return null}function C(w,y,S,D){for(var b=null,L=null,T=y,g=y=0,I=null;T!==null&&g<S.length;g++){T.index>g?(I=T,T=null):I=T.sibling;var A=m(w,T,S[g],D);if(A===null){T===null&&(T=I);break}t&&T&&A.alternate===null&&e(w,T),y=o(A,y,g),L===null?b=A:L.sibling=A,L=A,T=I}if(g===S.length)return n(w,T),Ce&&qr(w,g),b;if(T===null){for(;g<S.length;g++)T=p(w,S[g],D),T!==null&&(y=o(T,y,g),L===null?b=T:L.sibling=T,L=T);return Ce&&qr(w,g),b}for(T=r(w,T);g<S.length;g++)I=v(T,w,g,S[g],D),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?g:I.key),y=o(I,y,g),L===null?b=I:L.sibling=I,L=I);return t&&T.forEach(function(x){return e(w,x)}),Ce&&qr(w,g),b}function P(w,y,S,D){var b=zo(S);if(typeof b!="function")throw Error(U(150));if(S=b.call(S),S==null)throw Error(U(151));for(var L=b=null,T=y,g=y=0,I=null,A=S.next();T!==null&&!A.done;g++,A=S.next()){T.index>g?(I=T,T=null):I=T.sibling;var x=m(w,T,A.value,D);if(x===null){T===null&&(T=I);break}t&&T&&x.alternate===null&&e(w,T),y=o(x,y,g),L===null?b=x:L.sibling=x,L=x,T=I}if(A.done)return n(w,T),Ce&&qr(w,g),b;if(T===null){for(;!A.done;g++,A=S.next())A=p(w,A.value,D),A!==null&&(y=o(A,y,g),L===null?b=A:L.sibling=A,L=A);return Ce&&qr(w,g),b}for(T=r(w,T);!A.done;g++,A=S.next())A=v(T,w,g,A.value,D),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?g:A.key),y=o(A,y,g),L===null?b=A:L.sibling=A,L=A);return t&&T.forEach(function(N){return e(w,N)}),Ce&&qr(w,g),b}function k(w,y,S,D){if(typeof S=="object"&&S!==null&&S.type===Oi&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ba:e:{for(var b=S.key,L=y;L!==null;){if(L.key===b){if(b=S.type,b===Oi){if(L.tag===7){n(w,L.sibling),y=i(L,S.props.children),y.return=w,w=y;break e}}else if(L.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===nr&&Cg(b)===L.type){n(w,L.sibling),y=i(L,S.props),y.ref=Go(w,L,S),y.return=w,w=y;break e}n(w,L);break}else e(w,L);L=L.sibling}S.type===Oi?(y=ti(S.props.children,w.mode,D,S.key),y.return=w,w=y):(D=vl(S.type,S.key,S.props,null,w.mode,D),D.ref=Go(w,y,S),D.return=w,w=D)}return s(w);case Vi:e:{for(L=S.key;y!==null;){if(y.key===L)if(y.tag===4&&y.stateNode.containerInfo===S.containerInfo&&y.stateNode.implementation===S.implementation){n(w,y.sibling),y=i(y,S.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=eh(S,w.mode,D),y.return=w,w=y}return s(w);case nr:return L=S._init,k(w,y,L(S._payload),D)}if(ts(S))return C(w,y,S,D);if(zo(S))return P(w,y,S,D);Ka(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,S),y.return=w,w=y):(n(w,y),y=Zc(S,w.mode,D),y.return=w,w=y),s(w)):n(w,y)}return k}var no=q_(!0),K_=q_(!1),Bl=Or(null),zl=null,Bi=null,gf=null;function yf(){gf=Bi=zl=null}function vf(t){var e=Bl.current;Ie(Bl),t._currentValue=e}function Xh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){zl=t,gf=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(gf!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(zl===null)throw Error(U(308));Bi=t,zl.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Xr=null;function _f(t){Xr===null?Xr=[t]:Xr.push(t)}function G_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,_f(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fn(t,r)}function Fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Q_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fn(t,n)}return i=r.interleaved,i===null?(e.next=e,_f(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fn(t,n)}function dl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,of(t,n)}}function Rg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wl(t,e,n,r){var i=t.updateQueue;rr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==s&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,d=c=u=null,l=o;do{var m=l.lane,v=l.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,P=l;switch(m=e,v=n,P.tag){case 1:if(C=P.payload,typeof C=="function"){p=C.call(v,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=P.payload,m=typeof C=="function"?C.call(v,p,m):C,m==null)break e;p=xe({},p,m);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=v,u=p):d=d.next=v,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ai|=s,t.lanes=s,t.memoizedState=p}}function Ag(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var ia={},mn=Or(ia),bs=Or(ia),Ms=Or(ia);function Yr(t){if(t===ia)throw Error(U(174));return t}function wf(t,e){switch(_e(Ms,e),_e(bs,t),_e(mn,ia),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:kh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=kh(e,t)}Ie(mn),_e(mn,e)}function ro(){Ie(mn),Ie(bs),Ie(Ms)}function X_(t){Yr(Ms.current);var e=Yr(mn.current),n=kh(e,t.type);e!==n&&(_e(bs,t),_e(mn,n))}function Tf(t){bs.current===t&&(Ie(mn),Ie(bs))}var Re=Or(0);function Hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kc=[];function Sf(){for(var t=0;t<Kc.length;t++)Kc[t]._workInProgressVersionPrimary=null;Kc.length=0}var fl=qn.ReactCurrentDispatcher,Gc=qn.ReactCurrentBatchConfig,si=0,Ae=null,je=null,qe=null,ql=!1,ps=!1,Fs=0,TI=0;function st(){throw Error(U(321))}function If(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function Cf(t,e,n,r,i,o){if(si=o,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fl.current=t===null||t.memoizedState===null?RI:AI,t=n(r,i),ps){o=0;do{if(ps=!1,Fs=0,25<=o)throw Error(U(301));o+=1,qe=je=null,e.updateQueue=null,fl.current=xI,t=n(r,i)}while(ps)}if(fl.current=Kl,e=je!==null&&je.next!==null,si=0,qe=je=Ae=null,ql=!1,e)throw Error(U(300));return t}function Rf(){var t=Fs!==0;return Fs=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=t:qe=qe.next=t,qe}function Wt(){if(je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=qe===null?Ae.memoizedState:qe.next;if(e!==null)qe=e,je=t;else{if(t===null)throw Error(U(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},qe===null?Ae.memoizedState=qe=t:qe=qe.next=t}return qe}function $s(t,e){return typeof e=="function"?e(t):e}function Qc(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=je,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var d=c.lane;if((si&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Ae.lanes|=d,ai|=d}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,rn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ae.lanes|=o,ai|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xc(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);rn(o,e.memoizedState)||(Tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Y_(){}function J_(t,e){var n=Ae,r=Wt(),i=e(),o=!rn(r.memoizedState,i);if(o&&(r.memoizedState=i,Tt=!0),r=r.queue,Af(t0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,js(9,e0.bind(null,n,r,i,e),void 0,null),Ke===null)throw Error(U(349));si&30||Z_(n,e,i)}return i}function Z_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function e0(t,e,n,r){e.value=n,e.getSnapshot=r,n0(e)&&r0(t)}function t0(t,e,n){return n(function(){n0(e)&&r0(t)})}function n0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function r0(t){var e=Fn(t,1);e!==null&&nn(e,t,1,-1)}function xg(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$s,lastRenderedState:t},e.queue=t,t=t.dispatch=CI.bind(null,Ae,t),[e.memoizedState,t]}function js(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function i0(){return Wt().memoizedState}function pl(t,e,n,r){var i=hn();Ae.flags|=t,i.memoizedState=js(1|e,n,void 0,r===void 0?null:r)}function Iu(t,e,n,r){var i=Wt();r=r===void 0?null:r;var o=void 0;if(je!==null){var s=je.memoizedState;if(o=s.destroy,r!==null&&If(r,s.deps)){i.memoizedState=js(e,n,o,r);return}}Ae.flags|=t,i.memoizedState=js(1|e,n,o,r)}function Pg(t,e){return pl(8390656,8,t,e)}function Af(t,e){return Iu(2048,8,t,e)}function o0(t,e){return Iu(4,2,t,e)}function s0(t,e){return Iu(4,4,t,e)}function a0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function l0(t,e,n){return n=n!=null?n.concat([t]):null,Iu(4,4,a0.bind(null,e,t),n)}function xf(){}function u0(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&If(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c0(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&If(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function h0(t,e,n){return si&21?(rn(n,e)||(n=g_(),Ae.lanes|=n,ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function SI(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Gc.transition;Gc.transition={};try{t(!1),e()}finally{pe=n,Gc.transition=r}}function d0(){return Wt().memoizedState}function II(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},f0(t))p0(e,n);else if(n=G_(t,e,n,r),n!==null){var i=gt();nn(n,t,r,i),m0(n,e,r)}}function CI(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(f0(t))p0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,rn(l,s)){var u=e.interleaved;u===null?(i.next=i,_f(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=G_(t,e,i,r),n!==null&&(i=gt(),nn(n,t,r,i),m0(n,e,r))}}function f0(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function p0(t,e){ps=ql=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,of(t,n)}}var Kl={readContext:zt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},RI={readContext:zt,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:Pg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,pl(4194308,4,a0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return pl(4194308,4,t,e)},useInsertionEffect:function(t,e){return pl(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=II.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:xg,useDebugValue:xf,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=xg(!1),e=t[0];return t=SI.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,i=hn();if(Ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ke===null)throw Error(U(349));si&30||Z_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Pg(t0.bind(null,r,o,t),[t]),r.flags|=2048,js(9,e0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=hn(),e=Ke.identifierPrefix;if(Ce){var n=Nn,r=kn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AI={readContext:zt,useCallback:u0,useContext:zt,useEffect:Af,useImperativeHandle:l0,useInsertionEffect:o0,useLayoutEffect:s0,useMemo:c0,useReducer:Qc,useRef:i0,useState:function(){return Qc($s)},useDebugValue:xf,useDeferredValue:function(t){var e=Wt();return h0(e,je.memoizedState,t)},useTransition:function(){var t=Qc($s)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Y_,useSyncExternalStore:J_,useId:d0,unstable_isNewReconciler:!1},xI={readContext:zt,useCallback:u0,useContext:zt,useEffect:Af,useImperativeHandle:l0,useInsertionEffect:o0,useLayoutEffect:s0,useMemo:c0,useReducer:Xc,useRef:i0,useState:function(){return Xc($s)},useDebugValue:xf,useDeferredValue:function(t){var e=Wt();return je===null?e.memoizedState=t:h0(e,je.memoizedState,t)},useTransition:function(){var t=Xc($s)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:Y_,useSyncExternalStore:J_,useId:d0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cu={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=vr(t),o=Dn(r,i);o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,i),e!==null&&(nn(e,t,i,r),dl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=vr(t),o=Dn(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,i),e!==null&&(nn(e,t,i,r),dl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=vr(t),i=Dn(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(nn(e,t,r,n),dl(e,t,r))}};function kg(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Ds(n,r)||!Ds(i,o):!0}function g0(t,e,n){var r=!1,i=Cr,o=e.contextType;return typeof o=="object"&&o!==null?o=zt(o):(i=It(e)?ii:ft.current,r=e.contextTypes,o=(r=r!=null)?eo(t,i):Cr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Ng(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cu.enqueueReplaceState(e,e.state,null)}function Jh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ef(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zt(o):(o=It(e)?ii:ft.current,i.context=eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Yh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cu.enqueueReplaceState(i,i.state,null),Wl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=nS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Yc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var PI=typeof WeakMap=="function"?WeakMap:Map;function y0(t,e,n){n=Dn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ql||(Ql=!0,ud=r),Zh(t,e)},n}function v0(t,e,n){n=Dn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zh(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Zh(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Dg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new PI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=zI.bind(null,t,e,n),e.then(t,t))}function Vg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Og(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dn(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var kI=qn.ReactCurrentOwner,Tt=!1;function mt(t,e,n,r){e.child=t===null?K_(e,null,n,r):no(e,t.child,n,r)}function Lg(t,e,n,r,i){n=n.render;var o=e.ref;return Xi(e,i),r=Cf(t,e,n,r,o,i),n=Rf(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Ce&&n&&ff(e),e.flags|=1,mt(t,e,r,i),e.child)}function bg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!bf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_0(t,e,o,r,i)):(t=vl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ds,n(s,r)&&t.ref===e.ref)return $n(t,e,i)}return e.flags|=1,t=_r(o,r),t.ref=e.ref,t.return=e,e.child=t}function _0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ds(o,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,$n(t,e,i)}return ed(t,e,n,r,i)}function E0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Wi,kt),kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Wi,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Wi,kt),kt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(Wi,kt),kt|=r;return mt(t,e,i,n),e.child}function w0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ed(t,e,n,r,i){var o=It(n)?ii:ft.current;return o=eo(e,o),Xi(e,i),n=Cf(t,e,n,r,o,i),r=Rf(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$n(t,e,i)):(Ce&&r&&ff(e),e.flags|=1,mt(t,e,n,i),e.child)}function Mg(t,e,n,r,i){if(It(n)){var o=!0;$l(e)}else o=!1;if(Xi(e,i),e.stateNode===null)ml(t,e),g0(e,n,r),Jh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=It(n)?ii:ft.current,c=eo(e,c));var d=n.getDerivedStateFromProps,p=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Ng(e,s,r,c),rr=!1;var m=e.memoizedState;s.state=m,Wl(e,r,s,i),u=e.memoizedState,l!==r||m!==u||St.current||rr?(typeof d=="function"&&(Yh(e,n,d,r),u=e.memoizedState),(l=rr||kg(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Q_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Yt(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=zt(u):(u=It(n)?ii:ft.current,u=eo(e,u));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Ng(e,s,r,u),rr=!1,m=e.memoizedState,s.state=m,Wl(e,r,s,i);var C=e.memoizedState;l!==p||m!==C||St.current||rr?(typeof v=="function"&&(Yh(e,n,v,r),C=e.memoizedState),(c=rr||kg(e,n,c,r,m,C,u)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return td(t,e,n,r,o,i)}function td(t,e,n,r,i,o){w0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Tg(e,n,!1),$n(t,e,o);r=e.stateNode,kI.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=no(e,t.child,null,o),e.child=no(e,null,l,o)):mt(t,e,l,o),e.memoizedState=r.state,i&&Tg(e,n,!0),e.child}function T0(t){var e=t.stateNode;e.pendingContext?wg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wg(t,e.context,!1),wf(t,e.containerInfo)}function Fg(t,e,n,r,i){return to(),mf(i),e.flags|=256,mt(t,e,n,r),e.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(t){return{baseLanes:t,cachePool:null,transitions:null}}function S0(t,e,n){var r=e.pendingProps,i=Re.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Re,i&1),t===null)return Qh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=xu(s,r,0,null),t=ti(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=rd(n),e.memoizedState=nd,t):Pf(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return NI(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=_r(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=_r(l,o):(o=ti(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?rd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=nd,r}return o=t.child,t=o.sibling,r=_r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pf(t,e){return e=xu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ga(t,e,n,r){return r!==null&&mf(r),no(e,t.child,null,n),t=Pf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Yc(Error(U(422))),Ga(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=xu({mode:"visible",children:r.children},i,0,null),o=ti(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&no(e,t.child,null,s),e.child.memoizedState=rd(s),e.memoizedState=nd,o);if(!(e.mode&1))return Ga(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=Yc(o,r,void 0),Ga(t,e,s,r)}if(l=(s&t.childLanes)!==0,Tt||l){if(r=Ke,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fn(t,i),nn(r,t,i,-1))}return Lf(),r=Yc(Error(U(421))),Ga(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nt=mr(i.nextSibling),Vt=e,Ce=!0,Zt=null,t!==null&&($t[jt++]=kn,$t[jt++]=Nn,$t[jt++]=oi,kn=t.id,Nn=t.overflow,oi=e),e=Pf(e,r.children),e.flags|=4096,e)}function $g(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xh(t.return,e,n)}function Jc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function I0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$g(t,n,e);else if(t.tag===19)$g(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Hl(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Jc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Hl(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Jc(e,!0,n,null,o);break;case"together":Jc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ml(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=_r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DI(t,e,n){switch(e.tag){case 3:T0(e),to();break;case 5:X_(e);break;case 1:It(e.type)&&$l(e);break;case 4:wf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(Bl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?S0(t,e,n):(_e(Re,Re.current&1),t=$n(t,e,n),t!==null?t.sibling:null);_e(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return I0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,E0(t,e,n)}return $n(t,e,n)}var C0,id,R0,A0;C0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};id=function(){};R0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Yr(mn.current);var o=null;switch(n){case"input":i=Rh(t,i),r=Rh(t,r),o=[];break;case"select":i=xe({},i,{value:void 0}),r=xe({},r,{value:void 0}),o=[];break;case"textarea":i=Ph(t,i),r=Ph(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ml)}Nh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Cs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Cs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Te("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};A0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function VI(t,e,n){var r=e.pendingProps;switch(pf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return It(e.type)&&Fl(),at(e),null;case 3:return r=e.stateNode,ro(),Ie(St),Ie(ft),Sf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(qa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(dd(Zt),Zt=null))),id(t,e),at(e),null;case 5:Tf(e);var i=Yr(Ms.current);if(n=e.type,t!==null&&e.stateNode!=null)R0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return at(e),null}if(t=Yr(mn.current),qa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[fn]=e,r[Ls]=o,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<rs.length;i++)Te(rs[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Gm(r,o),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Te("invalid",r);break;case"textarea":Xm(r,o),Te("invalid",r)}Nh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ha(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ha(r.textContent,l,t),i=["children",""+l]):Cs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Te("scroll",r)}switch(n){case"input":Ma(r),Qm(r,o,!0);break;case"textarea":Ma(r),Ym(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ml)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[fn]=e,t[Ls]=r,C0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Dh(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<rs.length;i++)Te(rs[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":Gm(t,r),i=Rh(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xe({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Xm(t,r),i=Ph(t,r),Te("invalid",t);break;default:i=r}Nh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?i_(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&n_(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Rs(t,u):typeof u=="number"&&Rs(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Cs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Te("scroll",t):u!=null&&Jd(t,o,u,s))}switch(n){case"input":Ma(t),Qm(t,r,!1);break;case"textarea":Ma(t),Ym(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ir(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qi(t,!!r.multiple,o,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ml)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)A0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Yr(Ms.current),Yr(mn.current),qa(e)){if(r=e.stateNode,n=e.memoizedProps,r[fn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Ha(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ha(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[fn]=e,e.stateNode=r}return at(e),null;case 13:if(Ie(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Nt!==null&&e.mode&1&&!(e.flags&128))H_(),to(),e.flags|=98560,o=!1;else if(o=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[fn]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else Zt!==null&&(dd(Zt),Zt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Ue===0&&(Ue=3):Lf())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return ro(),id(t,e),t===null&&Vs(e.stateNode.containerInfo),at(e),null;case 10:return vf(e.type._context),at(e),null;case 17:return It(e.type)&&Fl(),at(e),null;case 19:if(Ie(Re),o=e.memoizedState,o===null)return at(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Qo(o,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Hl(t),s!==null){for(e.flags|=128,Qo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Re,Re.current&1|2),e.child}t=t.sibling}o.tail!==null&&Oe()>oo&&(e.flags|=128,r=!0,Qo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Hl(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return at(e),null}else 2*Oe()-o.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Qo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Oe(),e.sibling=null,n=Re.current,_e(Re,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return Of(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function OI(t,e){switch(pf(e),e.tag){case 1:return It(e.type)&&Fl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),Ie(St),Ie(ft),Sf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Tf(e),null;case 13:if(Ie(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Re),null;case 4:return ro(),null;case 10:return vf(e.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var Qa=!1,ct=!1,LI=typeof WeakSet=="function"?WeakSet:Set,W=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ne(t,e,r)}else n.current=null}function od(t,e,n){try{n()}catch(r){Ne(t,e,r)}}var jg=!1;function bI(t,e){if(Bh=Ol,t=D_(),df(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++d===r&&(u=s),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zh={focusedElem:t,selectionRange:n},Ol=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var P=C.memoizedProps,k=C.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?P:Yt(e.type,P),k);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(D){Ne(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=jg,jg=!1,C}function ms(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&od(e,n,o)}i=i.next}while(i!==r)}}function Ru(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function x0(t){var e=t.alternate;e!==null&&(t.alternate=null,x0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fn],delete e[Ls],delete e[qh],delete e[vI],delete e[_I])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function P0(t){return t.tag===5||t.tag===3||t.tag===4}function Ug(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||P0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ml));else if(r!==4&&(t=t.child,t!==null))for(ad(t,e,n),t=t.sibling;t!==null;)ad(t,e,n),t=t.sibling}function ld(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ld(t,e,n),t=t.sibling;t!==null;)ld(t,e,n),t=t.sibling}var Xe=null,Jt=!1;function tr(t,e,n){for(n=n.child;n!==null;)k0(t,e,n),n=n.sibling}function k0(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(vu,n)}catch{}switch(n.tag){case 5:ct||zi(n,e);case 6:var r=Xe,i=Jt;Xe=null,tr(t,e,n),Xe=r,Jt=i,Xe!==null&&(Jt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Jt?(t=Xe,n=n.stateNode,t.nodeType===8?Hc(t.parentNode,n):t.nodeType===1&&Hc(t,n),ks(t)):Hc(Xe,n.stateNode));break;case 4:r=Xe,i=Jt,Xe=n.stateNode.containerInfo,Jt=!0,tr(t,e,n),Xe=r,Jt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&od(n,e,s),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!ct&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Ne(n,e,l)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,tr(t,e,n),ct=r):tr(t,e,n);break;default:tr(t,e,n)}}function Bg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LI),e.forEach(function(r){var i=HI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Jt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Jt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(Xe===null)throw Error(U(160));k0(o,s,i),Xe=null,Jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Ne(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)N0(e,t),e=e.sibling}function N0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),cn(t),r&4){try{ms(3,t,t.return),Ru(3,t)}catch(P){Ne(t,t.return,P)}try{ms(5,t,t.return)}catch(P){Ne(t,t.return,P)}}break;case 1:Xt(e,t),cn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(Xt(e,t),cn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{Rs(i,"")}catch(P){Ne(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Zv(i,o),Dh(l,s);var c=Dh(l,o);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];d==="style"?i_(i,p):d==="dangerouslySetInnerHTML"?n_(i,p):d==="children"?Rs(i,p):Jd(i,d,p,c)}switch(l){case"input":Ah(i,o);break;case"textarea":e_(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?qi(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?qi(i,!!o.multiple,o.defaultValue,!0):qi(i,!!o.multiple,o.multiple?[]:"",!1))}i[Ls]=o}catch(P){Ne(t,t.return,P)}}break;case 6:if(Xt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(P){Ne(t,t.return,P)}}break;case 3:if(Xt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ks(e.containerInfo)}catch(P){Ne(t,t.return,P)}break;case 4:Xt(e,t),cn(t);break;case 13:Xt(e,t),cn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Df=Oe())),r&4&&Bg(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||d,Xt(e,t),ct=c):Xt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(W=t,d=t.child;d!==null;){for(p=W=d;W!==null;){switch(m=W,v=m.child,m.tag){case 0:case 11:case 14:case 15:ms(4,m,m.return);break;case 1:zi(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(P){Ne(r,n,P)}}break;case 5:zi(m,m.return);break;case 22:if(m.memoizedState!==null){Wg(p);continue}}v!==null?(v.return=m,W=v):Wg(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=r_("display",s))}catch(P){Ne(t,t.return,P)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(P){Ne(t,t.return,P)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xt(e,t),cn(t),r&4&&Bg(t);break;case 21:break;default:Xt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(P0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Rs(i,""),r.flags&=-33);var o=Ug(t);ld(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Ug(t);ad(t,l,s);break;default:throw Error(U(161))}}catch(u){Ne(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function MI(t,e,n){W=t,D0(t)}function D0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Qa;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ct;l=Qa;var c=ct;if(Qa=s,(ct=u)&&!c)for(W=i;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?Hg(i):u!==null?(u.return=s,W=u):Hg(i);for(;o!==null;)W=o,D0(o),o=o.sibling;W=i,Qa=l,ct=c}zg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):zg(t)}}function zg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Ru(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Ag(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ag(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&ks(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ct||e.flags&512&&sd(e)}catch(m){Ne(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Wg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function Hg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ru(4,e)}catch(u){Ne(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Ne(e,i,u)}}var o=e.return;try{sd(e)}catch(u){Ne(e,o,u)}break;case 5:var s=e.return;try{sd(e)}catch(u){Ne(e,s,u)}}}catch(u){Ne(e,e.return,u)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var FI=Math.ceil,Gl=qn.ReactCurrentDispatcher,kf=qn.ReactCurrentOwner,Bt=qn.ReactCurrentBatchConfig,ue=0,Ke=null,Me=null,et=0,kt=0,Wi=Or(0),Ue=0,Us=null,ai=0,Au=0,Nf=0,gs=null,Et=null,Df=0,oo=1/0,Rn=null,Ql=!1,ud=null,yr=null,Xa=!1,ur=null,Xl=0,ys=0,cd=null,gl=-1,yl=0;function gt(){return ue&6?Oe():gl!==-1?gl:gl=Oe()}function vr(t){return t.mode&1?ue&2&&et!==0?et&-et:wI.transition!==null?(yl===0&&(yl=g_()),yl):(t=pe,t!==0||(t=window.event,t=t===void 0?16:S_(t.type)),t):1}function nn(t,e,n,r){if(50<ys)throw ys=0,cd=null,Error(U(185));ta(t,n,r),(!(ue&2)||t!==Ke)&&(t===Ke&&(!(ue&2)&&(Au|=n),Ue===4&&ar(t,et)),Ct(t,r),n===1&&ue===0&&!(e.mode&1)&&(oo=Oe()+500,Su&&Lr()))}function Ct(t,e){var n=t.callbackNode;wS(t,e);var r=Vl(t,t===Ke?et:0);if(r===0)n!==null&&eg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&eg(n),e===1)t.tag===0?EI(qg.bind(null,t)):B_(qg.bind(null,t)),gI(function(){!(ue&6)&&Lr()}),n=null;else{switch(y_(r)){case 1:n=rf;break;case 4:n=p_;break;case 16:n=Dl;break;case 536870912:n=m_;break;default:n=Dl}n=j0(n,V0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function V0(t,e){if(gl=-1,yl=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=Vl(t,t===Ke?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yl(t,r);else{e=r;var i=ue;ue|=2;var o=L0();(Ke!==t||et!==e)&&(Rn=null,oo=Oe()+500,ei(t,e));do try{UI();break}catch(l){O0(t,l)}while(!0);yf(),Gl.current=o,ue=i,Me!==null?e=0:(Ke=null,et=0,e=Ue)}if(e!==0){if(e===2&&(i=Mh(t),i!==0&&(r=i,e=hd(t,i))),e===1)throw n=Us,ei(t,0),ar(t,r),Ct(t,Oe()),n;if(e===6)ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!$I(i)&&(e=Yl(t,r),e===2&&(o=Mh(t),o!==0&&(r=o,e=hd(t,o))),e===1))throw n=Us,ei(t,0),ar(t,r),Ct(t,Oe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Kr(t,Et,Rn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=Df+500-Oe(),10<e)){if(Vl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hh(Kr.bind(null,t,Et,Rn),e);break}Kr(t,Et,Rn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-tn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Oe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FI(r/1960))-r,10<r){t.timeoutHandle=Hh(Kr.bind(null,t,Et,Rn),r);break}Kr(t,Et,Rn);break;case 5:Kr(t,Et,Rn);break;default:throw Error(U(329))}}}return Ct(t,Oe()),t.callbackNode===n?V0.bind(null,t):null}function hd(t,e){var n=gs;return t.current.memoizedState.isDehydrated&&(ei(t,e).flags|=256),t=Yl(t,e),t!==2&&(e=Et,Et=n,e!==null&&dd(e)),t}function dd(t){Et===null?Et=t:Et.push.apply(Et,t)}function $I(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~Nf,e&=~Au,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function qg(t){if(ue&6)throw Error(U(327));Yi();var e=Vl(t,0);if(!(e&1))return Ct(t,Oe()),null;var n=Yl(t,e);if(t.tag!==0&&n===2){var r=Mh(t);r!==0&&(e=r,n=hd(t,r))}if(n===1)throw n=Us,ei(t,0),ar(t,e),Ct(t,Oe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Kr(t,Et,Rn),Ct(t,Oe()),null}function Vf(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(oo=Oe()+500,Su&&Lr())}}function li(t){ur!==null&&ur.tag===0&&!(ue&6)&&Yi();var e=ue;ue|=1;var n=Bt.transition,r=pe;try{if(Bt.transition=null,pe=1,t)return t()}finally{pe=r,Bt.transition=n,ue=e,!(ue&6)&&Lr()}}function Of(){kt=Wi.current,Ie(Wi)}function ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mI(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(pf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fl();break;case 3:ro(),Ie(St),Ie(ft),Sf();break;case 5:Tf(r);break;case 4:ro();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:vf(r.type._context);break;case 22:case 23:Of()}n=n.return}if(Ke=t,Me=t=_r(t.current,null),et=kt=e,Ue=0,Us=null,Nf=Au=ai=0,Et=gs=null,Xr!==null){for(e=0;e<Xr.length;e++)if(n=Xr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Xr=null}return t}function O0(t,e){do{var n=Me;try{if(yf(),fl.current=Kl,ql){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ql=!1}if(si=0,qe=je=Ae=null,ps=!1,Fs=0,kf.current=null,n===null||n.return===null){Ue=1,Us=e,Me=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=et,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Vg(s);if(v!==null){v.flags&=-257,Og(v,s,l,o,e),v.mode&1&&Dg(o,c,e),e=v,u=c;var C=e.updateQueue;if(C===null){var P=new Set;P.add(u),e.updateQueue=P}else C.add(u);break e}else{if(!(e&1)){Dg(o,c,e),Lf();break e}u=Error(U(426))}}else if(Ce&&l.mode&1){var k=Vg(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Og(k,s,l,o,e),mf(io(u,l));break e}}o=u=io(u,l),Ue!==4&&(Ue=2),gs===null?gs=[o]:gs.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=y0(o,u,e);Rg(o,w);break e;case 1:l=u;var y=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(yr===null||!yr.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=v0(o,l,e);Rg(o,D);break e}}o=o.return}while(o!==null)}M0(n)}catch(b){e=b,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function L0(){var t=Gl.current;return Gl.current=Kl,t===null?Kl:t}function Lf(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ke===null||!(ai&268435455)&&!(Au&268435455)||ar(Ke,et)}function Yl(t,e){var n=ue;ue|=2;var r=L0();(Ke!==t||et!==e)&&(Rn=null,ei(t,e));do try{jI();break}catch(i){O0(t,i)}while(!0);if(yf(),ue=n,Gl.current=r,Me!==null)throw Error(U(261));return Ke=null,et=0,Ue}function jI(){for(;Me!==null;)b0(Me)}function UI(){for(;Me!==null&&!dS();)b0(Me)}function b0(t){var e=$0(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?M0(t):Me=e,kf.current=null}function M0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=OI(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Me=null;return}}else if(n=VI(n,e,kt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Ue===0&&(Ue=5)}function Kr(t,e,n){var r=pe,i=Bt.transition;try{Bt.transition=null,pe=1,BI(t,e,n,r)}finally{Bt.transition=i,pe=r}return null}function BI(t,e,n,r){do Yi();while(ur!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(TS(t,o),t===Ke&&(Me=Ke=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,j0(Dl,function(){return Yi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var s=pe;pe=1;var l=ue;ue|=4,kf.current=null,bI(t,n),N0(n,t),lI(zh),Ol=!!Bh,zh=Bh=null,t.current=n,MI(n),fS(),ue=l,pe=s,Bt.transition=o}else t.current=n;if(Xa&&(Xa=!1,ur=t,Xl=i),o=t.pendingLanes,o===0&&(yr=null),gS(n.stateNode),Ct(t,Oe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,t=ud,ud=null,t;return Xl&1&&t.tag!==0&&Yi(),o=t.pendingLanes,o&1?t===cd?ys++:(ys=0,cd=t):ys=0,Lr(),null}function Yi(){if(ur!==null){var t=y_(Xl),e=Bt.transition,n=pe;try{if(Bt.transition=null,pe=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,Xl=0,ue&6)throw Error(U(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:ms(8,d,o)}var p=d.child;if(p!==null)p.return=d,W=p;else for(;W!==null;){d=W;var m=d.sibling,v=d.return;if(x0(d),d===c){W=null;break}if(m!==null){m.return=v,W=m;break}W=v}}}var C=o.alternate;if(C!==null){var P=C.child;if(P!==null){C.child=null;do{var k=P.sibling;P.sibling=null,P=k}while(P!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ms(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,W=w;break e}W=o.return}}var y=t.current;for(W=y;W!==null;){s=W;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,W=S;else e:for(s=y;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ru(9,l)}}catch(b){Ne(l,l.return,b)}if(l===s){W=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,W=D;break e}W=l.return}}if(ue=i,Lr(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(vu,t)}catch{}r=!0}return r}finally{pe=n,Bt.transition=e}}return!1}function Kg(t,e,n){e=io(n,e),e=y0(t,e,1),t=gr(t,e,1),e=gt(),t!==null&&(ta(t,1,e),Ct(t,e))}function Ne(t,e,n){if(t.tag===3)Kg(t,t,n);else for(;e!==null;){if(e.tag===3){Kg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=io(n,t),t=v0(e,t,1),e=gr(e,t,1),t=gt(),e!==null&&(ta(e,1,t),Ct(e,t));break}}e=e.return}}function zI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(et&n)===n&&(Ue===4||Ue===3&&(et&130023424)===et&&500>Oe()-Df?ei(t,0):Nf|=n),Ct(t,e)}function F0(t,e){e===0&&(t.mode&1?(e=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):e=1);var n=gt();t=Fn(t,e),t!==null&&(ta(t,e,n),Ct(t,n))}function WI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),F0(t,n)}function HI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),F0(t,n)}var $0;$0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,DI(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ce&&e.flags&1048576&&z_(e,Ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ml(t,e),t=e.pendingProps;var i=eo(e,ft.current);Xi(e,n),i=Cf(null,e,r,t,i,n);var o=Rf();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(o=!0,$l(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ef(e),i.updater=Cu,e.stateNode=i,i._reactInternals=e,Jh(e,r,t,n),e=td(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&ff(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ml(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=KI(r),t=Yt(r,t),i){case 0:e=ed(null,e,r,t,n);break e;case 1:e=Mg(null,e,r,t,n);break e;case 11:e=Lg(null,e,r,t,n);break e;case 14:e=bg(null,e,r,Yt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),ed(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Mg(t,e,r,i,n);case 3:e:{if(T0(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Q_(t,e),Wl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=io(Error(U(423)),e),e=Fg(t,e,r,n,i);break e}else if(r!==i){i=io(Error(U(424)),e),e=Fg(t,e,r,n,i);break e}else for(Nt=mr(e.stateNode.containerInfo.firstChild),Vt=e,Ce=!0,Zt=null,n=K_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===i){e=$n(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return X_(e),t===null&&Qh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Wh(r,i)?s=null:o!==null&&Wh(r,o)&&(e.flags|=32),w0(t,e),mt(t,e,s,n),e.child;case 6:return t===null&&Qh(e),null;case 13:return S0(t,e,n);case 4:return wf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Lg(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,_e(Bl,r._currentValue),r._currentValue=s,o!==null)if(rn(o.value,s)){if(o.children===i.children&&!St.current){e=$n(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Dn(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Xh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=zt(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),bg(t,e,r,i,n);case 15:return _0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),ml(t,e),e.tag=1,It(r)?(t=!0,$l(e)):t=!1,Xi(e,n),g0(e,r,i),Jh(e,r,i,n),td(null,e,r,!0,t,n);case 19:return I0(t,e,n);case 22:return E0(t,e,n)}throw Error(U(156,e.tag))};function j0(t,e){return f_(t,e)}function qI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new qI(t,e,n,r)}function bf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KI(t){if(typeof t=="function")return bf(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ef)return 11;if(t===tf)return 14}return 2}function _r(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")bf(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Oi:return ti(n.children,i,o,e);case Zd:s=8,i|=8;break;case Th:return t=Ut(12,n,e,i|2),t.elementType=Th,t.lanes=o,t;case Sh:return t=Ut(13,n,e,i),t.elementType=Sh,t.lanes=o,t;case Ih:return t=Ut(19,n,e,i),t.elementType=Ih,t.lanes=o,t;case Xv:return xu(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gv:s=10;break e;case Qv:s=9;break e;case ef:s=11;break e;case tf:s=14;break e;case nr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Ut(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ti(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function xu(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=Xv,t.lanes=n,t.stateNode={isHidden:!1},t}function Zc(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function eh(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oc(0),this.expirationTimes=Oc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Mf(t,e,n,r,i,o,s,l,u){return t=new GI(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ut(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(o),t}function QI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U0(t){if(!t)return Cr;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(It(n))return U_(t,n,e)}return e}function B0(t,e,n,r,i,o,s,l,u){return t=Mf(n,r,!0,t,i,o,s,l,u),t.context=U0(null),n=t.current,r=gt(),i=vr(n),o=Dn(r,i),o.callback=e??null,gr(n,o,i),t.current.lanes=i,ta(t,i,r),Ct(t,r),t}function Pu(t,e,n,r){var i=e.current,o=gt(),s=vr(i);return n=U0(n),e.context===null?e.context=n:e.pendingContext=n,e=Dn(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,s),t!==null&&(nn(t,i,s,o),dl(t,i,s)),s}function Jl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ff(t,e){Gg(t,e),(t=t.alternate)&&Gg(t,e)}function XI(){return null}var z0=typeof reportError=="function"?reportError:function(t){console.error(t)};function $f(t){this._internalRoot=t}ku.prototype.render=$f.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Pu(t,e,null,null)};ku.prototype.unmount=$f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;li(function(){Pu(null,t,null,null)}),e[Mn]=null}};function ku(t){this._internalRoot=t}ku.prototype.unstable_scheduleHydration=function(t){if(t){var e=E_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&T_(t)}};function jf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qg(){}function YI(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Jl(s);o.call(c)}}var s=B0(e,r,t,0,null,!1,!1,"",Qg);return t._reactRootContainer=s,t[Mn]=s.current,Vs(t.nodeType===8?t.parentNode:t),li(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=Jl(u);l.call(c)}}var u=Mf(t,0,!1,null,null,!1,!1,"",Qg);return t._reactRootContainer=u,t[Mn]=u.current,Vs(t.nodeType===8?t.parentNode:t),li(function(){Pu(e,u,n,r)}),u}function Du(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Jl(s);l.call(u)}}Pu(e,s,t,i)}else s=YI(n,e,t,i,r);return Jl(s)}v_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ns(e.pendingLanes);n!==0&&(of(e,n|1),Ct(e,Oe()),!(ue&6)&&(oo=Oe()+500,Lr()))}break;case 13:li(function(){var r=Fn(t,1);if(r!==null){var i=gt();nn(r,t,1,i)}}),Ff(t,1)}};sf=function(t){if(t.tag===13){var e=Fn(t,134217728);if(e!==null){var n=gt();nn(e,t,134217728,n)}Ff(t,134217728)}};__=function(t){if(t.tag===13){var e=vr(t),n=Fn(t,e);if(n!==null){var r=gt();nn(n,t,e,r)}Ff(t,e)}};E_=function(){return pe};w_=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Oh=function(t,e,n){switch(e){case"input":if(Ah(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tu(r);if(!i)throw Error(U(90));Jv(r),Ah(r,i)}}}break;case"textarea":e_(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};a_=Vf;l_=li;var JI={usingClientEntryPoint:!1,Events:[ra,Fi,Tu,o_,s_,Vf]},Xo={findFiberByHostInstance:Qr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZI={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:qn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h_(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||XI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ya=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ya.isDisabled&&Ya.supportsFiber)try{vu=Ya.inject(ZI),pn=Ya}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JI;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jf(e))throw Error(U(200));return QI(t,e,null,n)};bt.createRoot=function(t,e){if(!jf(t))throw Error(U(299));var n=!1,r="",i=z0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Mf(t,1,!1,null,null,n,!1,r,i),t[Mn]=e.current,Vs(t.nodeType===8?t.parentNode:t),new $f(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=h_(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return li(t)};bt.hydrate=function(t,e,n){if(!Nu(e))throw Error(U(200));return Du(null,t,e,!0,n)};bt.hydrateRoot=function(t,e,n){if(!jf(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=z0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=B0(e,null,t,1,n??null,i,!1,o,s),t[Mn]=e.current,Vs(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ku(e)};bt.render=function(t,e,n){if(!Nu(e))throw Error(U(200));return Du(null,t,e,!1,n)};bt.unmountComponentAtNode=function(t){if(!Nu(t))throw Error(U(40));return t._reactRootContainer?(li(function(){Du(null,null,t,!1,function(){t._reactRootContainer=null,t[Mn]=null})}),!0):!1};bt.unstable_batchedUpdates=Vf;bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Du(t,e,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function W0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(W0)}catch(t){console.error(t)}}W0(),Wv.exports=bt;var H0=Wv.exports;const Hi=Zs(H0);var Xg=H0;Eh.createRoot=Xg.createRoot,Eh.hydrateRoot=Xg.hydrateRoot;var Yg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},K0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,d=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,v=c&63;u||(v=64,s||(m=64)),r.push(n[d],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(q0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new tC;const m=o<<2|l>>4;if(r.push(m),c!==64){const v=l<<4&240|c>>2;if(r.push(v),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nC=function(t){const e=q0(t);return K0.encodeByteArray(e,!0)},Zl=function(t){return nC(t).replace(/\./g,"")},rC=function(t){try{return K0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=()=>iC().__FIREBASE_DEFAULTS__,sC=()=>{if(typeof process>"u"||typeof Yg>"u")return;const t=Yg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rC(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return oC()||sC()||aC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lC=t=>{var e,n;return(n=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},uC=t=>{const e=lC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G0=()=>{var t;return(t=Uf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zl(JSON.stringify(n)),Zl(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fC(){var t;const e=(t=Uf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return!fC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function gC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yC,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Q0.prototype.create)}}class Q0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vC(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new mi(i,l,r)}}function vC(t,e){return t.replace(_C,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _C=/\{\$([^}]+)}/g;function fd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Jg(o)&&Jg(s)){if(!fd(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Jg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let EC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new cC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TC(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wC(t){return t===Gr?void 0:t}function TC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const IC={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},CC=ne.INFO,RC={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},AC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=RC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bf{constructor(e){this.name=e,this._logLevel=CC,this._logHandler=AC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const xC=(t,e)=>e.some(n=>t instanceof n);let Zg,ey;function PC(){return Zg||(Zg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kC(){return ey||(ey=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const X0=new WeakMap,pd=new WeakMap,Y0=new WeakMap,th=new WeakMap,zf=new WeakMap;function NC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Er(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&X0.set(n,t)}).catch(()=>{}),zf.set(e,t),e}function DC(t){if(pd.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});pd.set(t,e)}let md={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VC(t){md=t(md)}function OC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nh(this),e,...n);return Y0.set(r,e.sort?e.sort():[e]),Er(r)}:kC().includes(t)?function(...e){return t.apply(nh(this),e),Er(X0.get(this))}:function(...e){return Er(t.apply(nh(this),e))}}function LC(t){return typeof t=="function"?OC(t):(t instanceof IDBTransaction&&DC(t),xC(t,PC())?new Proxy(t,md):t)}function Er(t){if(t instanceof IDBRequest)return NC(t);if(th.has(t))return th.get(t);const e=LC(t);return e!==t&&(th.set(t,e),zf.set(e,t)),e}const nh=t=>zf.get(t);function bC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Er(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Er(s.result),u.oldVersion,u.newVersion,Er(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const MC=["get","getKey","getAll","getAllKeys","count"],FC=["put","add","delete","clear"],rh=new Map;function ty(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rh.get(e))return rh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=FC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MC.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return rh.set(e,o),o}VC(t=>({...t,get:(e,n,r)=>ty(e,n)||t.get(e,n,r),has:(e,n)=>!!ty(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function jC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gd="@firebase/app",ny="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un=new Bf("@firebase/app"),UC="@firebase/app-compat",BC="@firebase/analytics-compat",zC="@firebase/analytics",WC="@firebase/app-check-compat",HC="@firebase/app-check",qC="@firebase/auth",KC="@firebase/auth-compat",GC="@firebase/database",QC="@firebase/data-connect",XC="@firebase/database-compat",YC="@firebase/functions",JC="@firebase/functions-compat",ZC="@firebase/installations",eR="@firebase/installations-compat",tR="@firebase/messaging",nR="@firebase/messaging-compat",rR="@firebase/performance",iR="@firebase/performance-compat",oR="@firebase/remote-config",sR="@firebase/remote-config-compat",aR="@firebase/storage",lR="@firebase/storage-compat",uR="@firebase/firestore",cR="@firebase/vertexai",hR="@firebase/firestore-compat",dR="firebase",fR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd="[DEFAULT]",pR={[gd]:"fire-core",[UC]:"fire-core-compat",[zC]:"fire-analytics",[BC]:"fire-analytics-compat",[HC]:"fire-app-check",[WC]:"fire-app-check-compat",[qC]:"fire-auth",[KC]:"fire-auth-compat",[GC]:"fire-rtdb",[QC]:"fire-data-connect",[XC]:"fire-rtdb-compat",[YC]:"fire-fn",[JC]:"fire-fn-compat",[ZC]:"fire-iid",[eR]:"fire-iid-compat",[tR]:"fire-fcm",[nR]:"fire-fcm-compat",[rR]:"fire-perf",[iR]:"fire-perf-compat",[oR]:"fire-rc",[sR]:"fire-rc-compat",[aR]:"fire-gcs",[lR]:"fire-gcs-compat",[uR]:"fire-fst",[hR]:"fire-fst-compat",[cR]:"fire-vertex","fire-js":"fire-js",[dR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eu=new Map,mR=new Map,vd=new Map;function ry(t,e){try{t.container.addComponent(e)}catch(n){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bs(t){const e=t.name;if(vd.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;vd.set(e,t);for(const n of eu.values())ry(n,t);for(const n of mR.values())ry(n,t);return!0}function gR(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new Q0("app","Firebase",yR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0=fR;function Z0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yd,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wr.create("bad-app-name",{appName:String(i)});if(n||(n=G0()),!n)throw wr.create("no-options");const o=eu.get(i);if(o){if(fd(n,o.options)&&fd(r,o.config))return o;throw wr.create("duplicate-app",{appName:i})}const s=new SC(i);for(const u of vd.values())s.addComponent(u);const l=new vR(n,r,s);return eu.set(i,l),l}function _R(t=yd){const e=eu.get(t);if(!e&&t===yd&&G0())return Z0();if(!e)throw wr.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let i=(r=pR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(l.join(" "));return}Bs(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER="firebase-heartbeat-database",wR=1,zs="firebase-heartbeat-store";let ih=null;function eE(){return ih||(ih=bC(ER,wR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(zs)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),ih}async function TR(t){try{const n=(await eE()).transaction(zs),r=await n.objectStore(zs).get(tE(t));return await n.done,r}catch(e){if(e instanceof mi)Un.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Un.warn(n.message)}}}async function iy(t,e){try{const r=(await eE()).transaction(zs,"readwrite");await r.objectStore(zs).put(e,tE(t)),await r.done}catch(n){if(n instanceof mi)Un.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Un.warn(r.message)}}}function tE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1024,IR=30*24*60*60*1e3;class CR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=oy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=IR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Un.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=oy(),{heartbeatsToSend:r,unsentEntries:i}=RR(this._heartbeatsCache.heartbeats),o=Zl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Un.warn(n),""}}}function oy(){return new Date().toISOString().substring(0,10)}function RR(t,e=SR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?gC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return iy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function sy(t){return Zl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(t){Bs(new so("platform-logger",e=>new $C(e),"PRIVATE")),Bs(new so("heartbeat",e=>new CR(e),"PRIVATE")),Tr(gd,ny,t),Tr(gd,ny,"esm2017"),Tr("fire-js","")}xR("");var ay=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ni,nE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,g){function I(){}I.prototype=g.prototype,T.D=g.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(A,x,N){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return g.prototype[x].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,g,I){I||(I=0);var A=Array(16);if(typeof g=="string")for(var x=0;16>x;++x)A[x]=g.charCodeAt(I++)|g.charCodeAt(I++)<<8|g.charCodeAt(I++)<<16|g.charCodeAt(I++)<<24;else for(x=0;16>x;++x)A[x]=g[I++]|g[I++]<<8|g[I++]<<16|g[I++]<<24;g=T.g[0],I=T.g[1],x=T.g[2];var N=T.g[3],R=g+(N^I&(x^N))+A[0]+3614090360&4294967295;g=I+(R<<7&4294967295|R>>>25),R=N+(x^g&(I^x))+A[1]+3905402710&4294967295,N=g+(R<<12&4294967295|R>>>20),R=x+(I^N&(g^I))+A[2]+606105819&4294967295,x=N+(R<<17&4294967295|R>>>15),R=I+(g^x&(N^g))+A[3]+3250441966&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(N^I&(x^N))+A[4]+4118548399&4294967295,g=I+(R<<7&4294967295|R>>>25),R=N+(x^g&(I^x))+A[5]+1200080426&4294967295,N=g+(R<<12&4294967295|R>>>20),R=x+(I^N&(g^I))+A[6]+2821735955&4294967295,x=N+(R<<17&4294967295|R>>>15),R=I+(g^x&(N^g))+A[7]+4249261313&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(N^I&(x^N))+A[8]+1770035416&4294967295,g=I+(R<<7&4294967295|R>>>25),R=N+(x^g&(I^x))+A[9]+2336552879&4294967295,N=g+(R<<12&4294967295|R>>>20),R=x+(I^N&(g^I))+A[10]+4294925233&4294967295,x=N+(R<<17&4294967295|R>>>15),R=I+(g^x&(N^g))+A[11]+2304563134&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(N^I&(x^N))+A[12]+1804603682&4294967295,g=I+(R<<7&4294967295|R>>>25),R=N+(x^g&(I^x))+A[13]+4254626195&4294967295,N=g+(R<<12&4294967295|R>>>20),R=x+(I^N&(g^I))+A[14]+2792965006&4294967295,x=N+(R<<17&4294967295|R>>>15),R=I+(g^x&(N^g))+A[15]+1236535329&4294967295,I=x+(R<<22&4294967295|R>>>10),R=g+(x^N&(I^x))+A[1]+4129170786&4294967295,g=I+(R<<5&4294967295|R>>>27),R=N+(I^x&(g^I))+A[6]+3225465664&4294967295,N=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(N^g))+A[11]+643717713&4294967295,x=N+(R<<14&4294967295|R>>>18),R=I+(N^g&(x^N))+A[0]+3921069994&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(x^N&(I^x))+A[5]+3593408605&4294967295,g=I+(R<<5&4294967295|R>>>27),R=N+(I^x&(g^I))+A[10]+38016083&4294967295,N=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(N^g))+A[15]+3634488961&4294967295,x=N+(R<<14&4294967295|R>>>18),R=I+(N^g&(x^N))+A[4]+3889429448&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(x^N&(I^x))+A[9]+568446438&4294967295,g=I+(R<<5&4294967295|R>>>27),R=N+(I^x&(g^I))+A[14]+3275163606&4294967295,N=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(N^g))+A[3]+4107603335&4294967295,x=N+(R<<14&4294967295|R>>>18),R=I+(N^g&(x^N))+A[8]+1163531501&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(x^N&(I^x))+A[13]+2850285829&4294967295,g=I+(R<<5&4294967295|R>>>27),R=N+(I^x&(g^I))+A[2]+4243563512&4294967295,N=g+(R<<9&4294967295|R>>>23),R=x+(g^I&(N^g))+A[7]+1735328473&4294967295,x=N+(R<<14&4294967295|R>>>18),R=I+(N^g&(x^N))+A[12]+2368359562&4294967295,I=x+(R<<20&4294967295|R>>>12),R=g+(I^x^N)+A[5]+4294588738&4294967295,g=I+(R<<4&4294967295|R>>>28),R=N+(g^I^x)+A[8]+2272392833&4294967295,N=g+(R<<11&4294967295|R>>>21),R=x+(N^g^I)+A[11]+1839030562&4294967295,x=N+(R<<16&4294967295|R>>>16),R=I+(x^N^g)+A[14]+4259657740&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(I^x^N)+A[1]+2763975236&4294967295,g=I+(R<<4&4294967295|R>>>28),R=N+(g^I^x)+A[4]+1272893353&4294967295,N=g+(R<<11&4294967295|R>>>21),R=x+(N^g^I)+A[7]+4139469664&4294967295,x=N+(R<<16&4294967295|R>>>16),R=I+(x^N^g)+A[10]+3200236656&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(I^x^N)+A[13]+681279174&4294967295,g=I+(R<<4&4294967295|R>>>28),R=N+(g^I^x)+A[0]+3936430074&4294967295,N=g+(R<<11&4294967295|R>>>21),R=x+(N^g^I)+A[3]+3572445317&4294967295,x=N+(R<<16&4294967295|R>>>16),R=I+(x^N^g)+A[6]+76029189&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(I^x^N)+A[9]+3654602809&4294967295,g=I+(R<<4&4294967295|R>>>28),R=N+(g^I^x)+A[12]+3873151461&4294967295,N=g+(R<<11&4294967295|R>>>21),R=x+(N^g^I)+A[15]+530742520&4294967295,x=N+(R<<16&4294967295|R>>>16),R=I+(x^N^g)+A[2]+3299628645&4294967295,I=x+(R<<23&4294967295|R>>>9),R=g+(x^(I|~N))+A[0]+4096336452&4294967295,g=I+(R<<6&4294967295|R>>>26),R=N+(I^(g|~x))+A[7]+1126891415&4294967295,N=g+(R<<10&4294967295|R>>>22),R=x+(g^(N|~I))+A[14]+2878612391&4294967295,x=N+(R<<15&4294967295|R>>>17),R=I+(N^(x|~g))+A[5]+4237533241&4294967295,I=x+(R<<21&4294967295|R>>>11),R=g+(x^(I|~N))+A[12]+1700485571&4294967295,g=I+(R<<6&4294967295|R>>>26),R=N+(I^(g|~x))+A[3]+2399980690&4294967295,N=g+(R<<10&4294967295|R>>>22),R=x+(g^(N|~I))+A[10]+4293915773&4294967295,x=N+(R<<15&4294967295|R>>>17),R=I+(N^(x|~g))+A[1]+2240044497&4294967295,I=x+(R<<21&4294967295|R>>>11),R=g+(x^(I|~N))+A[8]+1873313359&4294967295,g=I+(R<<6&4294967295|R>>>26),R=N+(I^(g|~x))+A[15]+4264355552&4294967295,N=g+(R<<10&4294967295|R>>>22),R=x+(g^(N|~I))+A[6]+2734768916&4294967295,x=N+(R<<15&4294967295|R>>>17),R=I+(N^(x|~g))+A[13]+1309151649&4294967295,I=x+(R<<21&4294967295|R>>>11),R=g+(x^(I|~N))+A[4]+4149444226&4294967295,g=I+(R<<6&4294967295|R>>>26),R=N+(I^(g|~x))+A[11]+3174756917&4294967295,N=g+(R<<10&4294967295|R>>>22),R=x+(g^(N|~I))+A[2]+718787259&4294967295,x=N+(R<<15&4294967295|R>>>17),R=I+(N^(x|~g))+A[9]+3951481745&4294967295,T.g[0]=T.g[0]+g&4294967295,T.g[1]=T.g[1]+(x+(R<<21&4294967295|R>>>11))&4294967295,T.g[2]=T.g[2]+x&4294967295,T.g[3]=T.g[3]+N&4294967295}r.prototype.u=function(T,g){g===void 0&&(g=T.length);for(var I=g-this.blockSize,A=this.B,x=this.h,N=0;N<g;){if(x==0)for(;N<=I;)i(this,T,N),N+=this.blockSize;if(typeof T=="string"){for(;N<g;)if(A[x++]=T.charCodeAt(N++),x==this.blockSize){i(this,A),x=0;break}}else for(;N<g;)if(A[x++]=T[N++],x==this.blockSize){i(this,A),x=0;break}}this.h=x,this.o+=g},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var g=1;g<T.length-8;++g)T[g]=0;var I=8*this.o;for(g=T.length-8;g<T.length;++g)T[g]=I&255,I/=256;for(this.u(T),T=Array(16),g=I=0;4>g;++g)for(var A=0;32>A;A+=8)T[I++]=this.g[g]>>>A&255;return T};function o(T,g){var I=l;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=g(T)}function s(T,g){this.h=g;for(var I=[],A=!0,x=T.length-1;0<=x;x--){var N=T[x]|0;A&&N==g||(I[x]=N,A=!1)}this.g=I}var l={};function u(T){return-128<=T&&128>T?o(T,function(g){return new s([g|0],0>g?-1:0)}):new s([T|0],0>T?-1:0)}function c(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return k(c(-T));for(var g=[],I=1,A=0;T>=I;A++)g[A]=T/I|0,I*=4294967296;return new s(g,0)}function d(T,g){if(T.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(T.charAt(0)=="-")return k(d(T.substring(1),g));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(g,8)),A=p,x=0;x<T.length;x+=8){var N=Math.min(8,T.length-x),R=parseInt(T.substring(x,x+N),g);8>N?(N=c(Math.pow(g,N)),A=A.j(N).add(c(R))):(A=A.j(I),A=A.add(c(R)))}return A}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-k(this).m();for(var T=0,g=1,I=0;I<this.g.length;I++){var A=this.i(I);T+=(0<=A?A:4294967296+A)*g,g*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(P(this))return"-"+k(this).toString(T);for(var g=c(Math.pow(T,6)),I=this,A="";;){var x=D(I,g).g;I=w(I,x.j(g));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=x,C(I))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var g=0;g<T.g.length;g++)if(T.g[g]!=0)return!1;return!0}function P(T){return T.h==-1}t.l=function(T){return T=w(this,T),P(T)?-1:C(T)?0:1};function k(T){for(var g=T.g.length,I=[],A=0;A<g;A++)I[A]=~T.g[A];return new s(I,~T.h).add(m)}t.abs=function(){return P(this)?k(this):this},t.add=function(T){for(var g=Math.max(this.g.length,T.g.length),I=[],A=0,x=0;x<=g;x++){var N=A+(this.i(x)&65535)+(T.i(x)&65535),R=(N>>>16)+(this.i(x)>>>16)+(T.i(x)>>>16);A=R>>>16,N&=65535,R&=65535,I[x]=R<<16|N}return new s(I,I[I.length-1]&-2147483648?-1:0)};function w(T,g){return T.add(k(g))}t.j=function(T){if(C(this)||C(T))return p;if(P(this))return P(T)?k(this).j(k(T)):k(k(this).j(T));if(P(T))return k(this.j(k(T)));if(0>this.l(v)&&0>T.l(v))return c(this.m()*T.m());for(var g=this.g.length+T.g.length,I=[],A=0;A<2*g;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var x=0;x<T.g.length;x++){var N=this.i(A)>>>16,R=this.i(A)&65535,ee=T.i(x)>>>16,me=T.i(x)&65535;I[2*A+2*x]+=R*me,y(I,2*A+2*x),I[2*A+2*x+1]+=N*me,y(I,2*A+2*x+1),I[2*A+2*x+1]+=R*ee,y(I,2*A+2*x+1),I[2*A+2*x+2]+=N*ee,y(I,2*A+2*x+2)}for(A=0;A<g;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=g;A<2*g;A++)I[A]=0;return new s(I,0)};function y(T,g){for(;(T[g]&65535)!=T[g];)T[g+1]+=T[g]>>>16,T[g]&=65535,g++}function S(T,g){this.g=T,this.h=g}function D(T,g){if(C(g))throw Error("division by zero");if(C(T))return new S(p,p);if(P(T))return g=D(k(T),g),new S(k(g.g),k(g.h));if(P(g))return g=D(T,k(g)),new S(k(g.g),g.h);if(30<T.g.length){if(P(T)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=g;0>=A.l(T);)I=b(I),A=b(A);var x=L(I,1),N=L(A,1);for(A=L(A,2),I=L(I,2);!C(A);){var R=N.add(A);0>=R.l(T)&&(x=x.add(I),N=R),A=L(A,1),I=L(I,1)}return g=w(T,x.j(g)),new S(x,g)}for(x=p;0<=T.l(g);){for(I=Math.max(1,Math.floor(T.m()/g.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=c(I),R=N.j(g);P(R)||0<R.l(T);)I-=A,N=c(I),R=N.j(g);C(N)&&(N=m),x=x.add(N),T=w(T,R)}return new S(x,T)}t.A=function(T){return D(this,T).h},t.and=function(T){for(var g=Math.max(this.g.length,T.g.length),I=[],A=0;A<g;A++)I[A]=this.i(A)&T.i(A);return new s(I,this.h&T.h)},t.or=function(T){for(var g=Math.max(this.g.length,T.g.length),I=[],A=0;A<g;A++)I[A]=this.i(A)|T.i(A);return new s(I,this.h|T.h)},t.xor=function(T){for(var g=Math.max(this.g.length,T.g.length),I=[],A=0;A<g;A++)I[A]=this.i(A)^T.i(A);return new s(I,this.h^T.h)};function b(T){for(var g=T.g.length+1,I=[],A=0;A<g;A++)I[A]=T.i(A)<<1|T.i(A-1)>>>31;return new s(I,T.h)}function L(T,g){var I=g>>5;g%=32;for(var A=T.g.length-I,x=[],N=0;N<A;N++)x[N]=0<g?T.i(N+I)>>>g|T.i(N+I+1)<<32-g:T.i(N+I);return new s(x,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,nE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=d,ni=s}).apply(typeof ay<"u"?ay:typeof self<"u"?self:typeof window<"u"?window:{});var Ja=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rE,is,iE,_l,_d,oE,sE,aE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,f){return a==Array.prototype||a==Object.prototype||(a[h]=f.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ja=="object"&&Ja];for(var h=0;h<a.length;++h){var f=a[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var f=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var O=a[_];if(!(O in f))break e;f=f[O]}a=a[a.length-1],_=f[a],h=h(_),h!=_&&h!=null&&e(f,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var f=0,_=!1,O={next:function(){if(!_&&f<a.length){var M=f++;return{value:h(M,a[M]),done:!1}}return _=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function d(a,h,f){return a.call.apply(a.bind,arguments)}function p(a,h,f){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,_),a.apply(h,O)}}return function(){return a.apply(h,arguments)}}function m(a,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function v(a,h){var f=Array.prototype.slice.call(arguments,1);return function(){var _=f.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function C(a,h){function f(){}f.prototype=h.prototype,a.aa=h.prototype,a.prototype=new f,a.prototype.constructor=a,a.Qb=function(_,O,M){for(var B=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)B[ye-2]=arguments[ye];return h.prototype[O].apply(_,B)}}function P(a){const h=a.length;if(0<h){const f=Array(h);for(let _=0;_<h;_++)f[_]=a[_];return f}return[]}function k(a,h){for(let f=1;f<arguments.length;f++){const _=arguments[f];if(u(_)){const O=a.length||0,M=_.length||0;a.length=O+M;for(let B=0;B<M;B++)a[O+B]=_[B]}else a.push(_)}}class w{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function y(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var b=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function L(a,h,f){for(const _ in a)h.call(f,a[_],_,a)}function T(a,h){for(const f in a)h.call(void 0,a[f],f,a)}function g(a){const h={};for(const f in a)h[f]=a[f];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let f,_;for(let O=1;O<arguments.length;O++){_=arguments[O];for(f in _)a[f]=_[f];for(let M=0;M<I.length;M++)f=I[M],Object.prototype.hasOwnProperty.call(_,f)&&(a[f]=_[f])}}function x(a){var h=1;a=a.split(":");const f=[];for(;0<h&&a.length;)f.push(a.shift()),h--;return a.length&&f.push(a.join(":")),f}function N(a){l.setTimeout(()=>{throw a},0)}function R(){var a=K;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ee{constructor(){this.h=this.g=null}add(h,f){const _=me.get();_.set(h,f),this.h?this.h.next=_:this.g=_,this.h=_}}var me=new w(()=>new le,a=>a.reset());class le{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let he,j=!1,K=new ee,q=()=>{const a=l.Promise.resolve(void 0);he=()=>{a.then(te)}};var te=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(f){N(f)}var h=me;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}j=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return a}();function ve(a,h){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var f=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(b){e:{try{D(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else f=="mouseover"?h=a.fromElement:f=="mouseout"&&(h=a.toElement);this.relatedTarget=h,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ve.aa.h.call(this)}}C(ve,oe);var Ge={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Sn(a,h,f,_,O){this.listener=a,this.proxy=null,this.src=h,this.type=f,this.capture=!!_,this.ha=O,this.key=++Kt,this.da=this.fa=!1}function sn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function an(a){this.src=a,this.g={},this.h=0}an.prototype.add=function(a,h,f,_,O){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var B=ln(a,h,_,O);return-1<B?(h=a[B],f||(h.fa=!1)):(h=new Sn(h,this.src,M,!!_,O),h.fa=f,a.push(h)),h};function Qn(a,h){var f=h.type;if(f in a.g){var _=a.g[f],O=Array.prototype.indexOf.call(_,h,void 0),M;(M=0<=O)&&Array.prototype.splice.call(_,O,1),M&&(sn(h),a.g[f].length==0&&(delete a.g[f],a.h--))}}function ln(a,h,f,_){for(var O=0;O<a.length;++O){var M=a[O];if(!M.da&&M.listener==h&&M.capture==!!f&&M.ha==_)return O}return-1}var un="closure_lm_"+(1e6*Math.random()|0),ge={};function Xn(a,h,f,_,O){if(Array.isArray(h)){for(var M=0;M<h.length;M++)Xn(a,h[M],f,_,O);return null}return f=Po(f),a&&a[rt]?a.K(h,f,c(_)?!!_.capture:!!_,O):Yn(a,h,f,!1,_,O)}function Yn(a,h,f,_,O,M){if(!h)throw Error("Invalid event type");var B=c(O)?!!O.capture:!!O,ye=Ei(a);if(ye||(a[un]=ye=new an(a)),f=ye.add(h,f,_,B,M),f.proxy)return f;if(_=dc(),f.proxy=_,_.src=a,_.listener=f,a.addEventListener)de||(O=B),O===void 0&&(O=!1),a.addEventListener(h.toString(),_,O);else if(a.attachEvent)a.attachEvent($r(h.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return f}function dc(){function a(f){return h.call(a.src,a.listener,f)}const h=_a;return a}function va(a,h,f,_,O){if(Array.isArray(h))for(var M=0;M<h.length;M++)va(a,h[M],f,_,O);else _=c(_)?!!_.capture:!!_,f=Po(f),a&&a[rt]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],f=ln(M,f,_,O),-1<f&&(sn(M[f]),Array.prototype.splice.call(M,f,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=Ei(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ln(h,f,_,O)),(f=-1<a?h[a]:null)&&Gt(f))}function Gt(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[rt])Qn(h.i,a);else{var f=a.type,_=a.proxy;h.removeEventListener?h.removeEventListener(f,_,a.capture):h.detachEvent?h.detachEvent($r(f),_):h.addListener&&h.removeListener&&h.removeListener(_),(f=Ei(h))?(Qn(f,a),f.h==0&&(f.src=null,h[un]=null)):sn(a)}}}function $r(a){return a in ge?ge[a]:ge[a]="on"+a}function _a(a,h){if(a.da)a=!0;else{h=new ve(h,this);var f=a.listener,_=a.ha||a.src;a.fa&&Gt(a),a=f.call(_,h)}return a}function Ei(a){return a=a[un],a instanceof an?a:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Po(a){return typeof a=="function"?a:(a[jr]||(a[jr]=function(h){return a.handleEvent(h)}),a[jr])}function $e(){J.call(this),this.i=new an(this),this.M=this,this.F=null}C($e,J),$e.prototype[rt]=!0,$e.prototype.removeEventListener=function(a,h,f,_){va(this,a,h,f,_)};function We(a,h){var f,_=a.F;if(_)for(f=[];_;_=_.F)f.push(_);if(a=a.M,_=h.type||h,typeof h=="string")h=new oe(h,a);else if(h instanceof oe)h.target=h.target||a;else{var O=h;h=new oe(_,a),A(h,O)}if(O=!0,f)for(var M=f.length-1;0<=M;M--){var B=h.g=f[M];O=Ur(B,_,!0,h)&&O}if(B=h.g=a,O=Ur(B,_,!0,h)&&O,O=Ur(B,_,!1,h)&&O,f)for(M=0;M<f.length;M++)B=h.g=f[M],O=Ur(B,_,!1,h)&&O}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var f=a.g[h],_=0;_<f.length;_++)sn(f[_]);delete a.g[h],a.h--}}this.F=null},$e.prototype.K=function(a,h,f,_){return this.i.add(String(a),h,!1,f,_)},$e.prototype.L=function(a,h,f,_){return this.i.add(String(a),h,!0,f,_)};function Ur(a,h,f,_){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,M=0;M<h.length;++M){var B=h[M];if(B&&!B.da&&B.capture==f){var ye=B.listener,Qe=B.ha||B.src;B.fa&&Qn(a.i,B),O=ye.call(Qe,_)!==!1&&O}}return O&&!_.defaultPrevented}function Kp(a,h,f){if(typeof a=="function")f&&(a=m(a,f));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Gp(a){a.g=Kp(()=>{a.g=null,a.i&&(a.i=!1,Gp(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class rT extends J{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Gp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ko(a){J.call(this),this.h=a,this.g={}}C(ko,J);var Qp=[];function Xp(a){L(a.g,function(h,f){this.g.hasOwnProperty(f)&&Gt(h)},a),a.g={}}ko.prototype.N=function(){ko.aa.N.call(this),Xp(this)},ko.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fc=l.JSON.stringify,iT=l.JSON.parse,oT=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function pc(){}pc.prototype.h=null;function Yp(a){return a.h||(a.h=a.i())}function Jp(){}var No={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mc(){oe.call(this,"d")}C(mc,oe);function gc(){oe.call(this,"c")}C(gc,oe);var Br={},Zp=null;function Ea(){return Zp=Zp||new $e}Br.La="serverreachability";function em(a){oe.call(this,Br.La,a)}C(em,oe);function Do(a){const h=Ea();We(h,new em(h))}Br.STAT_EVENT="statevent";function tm(a,h){oe.call(this,Br.STAT_EVENT,a),this.stat=h}C(tm,oe);function pt(a){const h=Ea();We(h,new tm(h,a))}Br.Ma="timingevent";function nm(a,h){oe.call(this,Br.Ma,a),this.size=h}C(nm,oe);function Vo(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Oo(){this.g=!0}Oo.prototype.xa=function(){this.g=!1};function sT(a,h,f,_,O,M){a.info(function(){if(a.g)if(M)for(var B="",ye=M.split("&"),Qe=0;Qe<ye.length;Qe++){var ce=ye[Qe].split("=");if(1<ce.length){var it=ce[0];ce=ce[1];var ot=it.split("_");B=2<=ot.length&&ot[1]=="type"?B+(it+"="+ce+"&"):B+(it+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+_+") [attempt "+O+"]: "+h+`
`+f+`
`+B})}function aT(a,h,f,_,O,M,B){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+O+"]: "+h+`
`+f+`
`+M+" "+B})}function wi(a,h,f,_){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+uT(a,f)+(_?" "+_:"")})}function lT(a,h){a.info(function(){return"TIMEOUT: "+h})}Oo.prototype.info=function(){};function uT(a,h){if(!a.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(a=0;a<f.length;a++)if(Array.isArray(f[a])){var _=f[a];if(!(2>_.length)){var O=_[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return fc(f)}catch{return h}}var wa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},rm={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yc;function Ta(){}C(Ta,pc),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},yc=new Ta;function Jn(a,h,f,_){this.j=a,this.i=h,this.l=f,this.R=_||1,this.U=new ko(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new im}function im(){this.i=null,this.g="",this.h=!1}var om={},vc={};function _c(a,h,f){a.L=1,a.v=Ra(In(h)),a.m=f,a.P=!0,sm(a,null)}function sm(a,h){a.F=Date.now(),Sa(a),a.A=In(a.v);var f=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Em(f.i,"t",_),a.C=0,f=a.j.J,a.h=new im,a.g=Fm(a.j,f?h:null,!a.m),0<a.O&&(a.M=new rT(m(a.Y,a,a.g),a.O)),h=a.U,f=a.g,_=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Qp[0]=O.toString()),O=Qp);for(var M=0;M<O.length;M++){var B=Xn(f,O[M],_||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Do(),sT(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;const h=this.M;h&&Cn(a)==3?h.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{const ot=Cn(this.g);var h=this.g.Ba();const Ii=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||Am(this.g)))){this.J||ot!=4||h==7||(h==8||0>=Ii?Do(3):Do(2)),Ec(this);var f=this.g.Z();this.X=f;t:if(am(this)){var _=Am(this.g);a="";var O=_.length,M=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zr(this),Lo(this);var B="";break t}this.h.i=new l.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,a+=this.h.i.decode(_[h],{stream:!(M&&h==O-1)});_.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=f==200,aT(this.i,this.u,this.A,this.l,this.R,ot,f),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,Qe=this.g;if((ye=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(ye)){var ce=ye;break t}}ce=null}if(f=ce)wi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wc(this,f);else{this.o=!1,this.s=3,pt(12),zr(this),Lo(this);break e}}if(this.P){f=!0;let Qt;for(;!this.J&&this.C<B.length;)if(Qt=cT(this,B),Qt==vc){ot==4&&(this.s=4,pt(14),f=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==om){this.s=4,pt(15),wi(this.i,this.l,B,"[Invalid Chunk]"),f=!1;break}else wi(this.i,this.l,Qt,null),wc(this,Qt);if(am(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||B.length!=0||this.h.h||(this.s=1,pt(16),f=!1),this.o=this.o&&f,!f)wi(this.i,this.l,B,"[Invalid Chunked Response]"),zr(this),Lo(this);else if(0<B.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),Ac(it),it.M=!0,pt(11))}}else wi(this.i,this.l,B,null),wc(this,B);ot==4&&zr(this),this.o&&!this.J&&(ot==4?Om(this.j,this):(this.o=!1,Sa(this)))}else AT(this.g),f==400&&0<B.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),zr(this),Lo(this)}}}catch{}finally{}};function am(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function cT(a,h){var f=a.C,_=h.indexOf(`
`,f);return _==-1?vc:(f=Number(h.substring(f,_)),isNaN(f)?om:(_+=1,_+f>h.length?vc:(h=h.slice(_,_+f),a.C=_+f,h)))}Jn.prototype.cancel=function(){this.J=!0,zr(this)};function Sa(a){a.S=Date.now()+a.I,lm(a,a.I)}function lm(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Vo(m(a.ba,a),h)}function Ec(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(lT(this.i,this.A),this.L!=2&&(Do(),pt(17)),zr(this),this.s=2,Lo(this)):lm(this,this.S-a)};function Lo(a){a.j.G==0||a.J||Om(a.j,a)}function zr(a){Ec(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Xp(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function wc(a,h){try{var f=a.j;if(f.G!=0&&(f.g==a||Tc(f.h,a))){if(!a.K&&Tc(f.h,a)&&f.G==3){try{var _=f.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&_.length==3){var O=_;if(O[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<a.F)Da(f),ka(f);else break e;Rc(f),pt(18)}}else f.za=O[1],0<f.za-f.T&&37500>O[2]&&f.F&&f.v==0&&!f.C&&(f.C=Vo(m(f.Za,f),6e3));if(1>=hm(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Hr(f,11)}else if((a.K||f.g==a)&&Da(f),!y(h))for(O=f.Da.g.parse(h),h=0;h<O.length;h++){let ce=O[h];if(f.T=ce[0],ce=ce[1],f.G==2)if(ce[0]=="c"){f.K=ce[1],f.ia=ce[2];const it=ce[3];it!=null&&(f.la=it,f.j.info("VER="+f.la));const ot=ce[4];ot!=null&&(f.Aa=ot,f.j.info("SVER="+f.Aa));const Ii=ce[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(_=1.5*Ii,f.L=_,f.j.info("backChannelRequestTimeoutMs_="+_)),_=f;const Qt=a.g;if(Qt){const Oa=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Oa){var M=_.h;M.g||Oa.indexOf("spdy")==-1&&Oa.indexOf("quic")==-1&&Oa.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Sc(M,M.h),M.h=null))}if(_.D){const xc=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;xc&&(_.ya=xc,we(_.I,_.D,xc))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-a.F,f.j.info("Handshake RTT: "+f.R+"ms")),_=f;var B=a;if(_.qa=Mm(_,_.J?_.ia:null,_.W),B.K){dm(_.h,B);var ye=B,Qe=_.L;Qe&&(ye.I=Qe),ye.B&&(Ec(ye),Sa(ye)),_.g=B}else Dm(_);0<f.i.length&&Na(f)}else ce[0]!="stop"&&ce[0]!="close"||Hr(f,7);else f.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?Hr(f,7):Cc(f):ce[0]!="noop"&&f.l&&f.l.ta(ce),f.v=0)}}Do(4)}catch{}}var hT=class{constructor(a,h){this.g=a,this.map=h}};function um(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function hm(a){return a.h?1:a.g?a.g.size:0}function Tc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Sc(a,h){a.g?a.g.add(h):a.h=h}function dm(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}um.prototype.cancel=function(){if(this.i=fm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function fm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const f of a.g.values())h=h.concat(f.D);return h}return P(a.i)}function dT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],f=a.length,_=0;_<f;_++)h.push(a[_]);return h}h=[],f=0;for(_ in a)h[f++]=a[_];return h}function fT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var f=0;f<a;f++)h.push(f);return h}h=[],f=0;for(const _ in a)h[f++]=_;return h}}}function pm(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var f=fT(a),_=dT(a),O=_.length,M=0;M<O;M++)h.call(void 0,_[M],f&&f[M],a)}var mm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pT(a,h){if(a){a=a.split("&");for(var f=0;f<a.length;f++){var _=a[f].indexOf("="),O=null;if(0<=_){var M=a[f].substring(0,_);O=a[f].substring(_+1)}else M=a[f];h(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Wr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Wr){this.h=a.h,Ia(this,a.j),this.o=a.o,this.g=a.g,Ca(this,a.s),this.l=a.l;var h=a.i,f=new Fo;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),gm(this,f),this.m=a.m}else a&&(h=String(a).match(mm))?(this.h=!1,Ia(this,h[1]||"",!0),this.o=bo(h[2]||""),this.g=bo(h[3]||"",!0),Ca(this,h[4]),this.l=bo(h[5]||"",!0),gm(this,h[6]||"",!0),this.m=bo(h[7]||"")):(this.h=!1,this.i=new Fo(null,this.h))}Wr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Mo(h,ym,!0),":");var f=this.g;return(f||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Mo(h,ym,!0),"@"),a.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&a.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&a.push("/"),a.push(Mo(f,f.charAt(0)=="/"?yT:gT,!0))),(f=this.i.toString())&&a.push("?",f),(f=this.m)&&a.push("#",Mo(f,_T)),a.join("")};function In(a){return new Wr(a)}function Ia(a,h,f){a.j=f?bo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ca(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function gm(a,h,f){h instanceof Fo?(a.i=h,ET(a.i,a.h)):(f||(h=Mo(h,vT)),a.i=new Fo(h,a.h))}function we(a,h,f){a.i.set(h,f)}function Ra(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Mo(a,h,f){return typeof a=="string"?(a=encodeURI(a).replace(h,mT),f&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function mT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ym=/[#\/\?@]/g,gT=/[#\?:]/g,yT=/[#\?]/g,vT=/[#\?@]/g,_T=/#/g;function Fo(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Zn(a){a.g||(a.g=new Map,a.h=0,a.i&&pT(a.i,function(h,f){a.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Fo.prototype,t.add=function(a,h){Zn(this),this.i=null,a=Ti(this,a);var f=this.g.get(a);return f||this.g.set(a,f=[]),f.push(h),this.h+=1,this};function vm(a,h){Zn(a),h=Ti(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function _m(a,h){return Zn(a),h=Ti(a,h),a.g.has(h)}t.forEach=function(a,h){Zn(this),this.g.forEach(function(f,_){f.forEach(function(O){a.call(h,O,_,this)},this)},this)},t.na=function(){Zn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let _=0;_<h.length;_++){const O=a[_];for(let M=0;M<O.length;M++)f.push(h[_])}return f},t.V=function(a){Zn(this);let h=[];if(typeof a=="string")_m(this,a)&&(h=h.concat(this.g.get(Ti(this,a))));else{a=Array.from(this.g.values());for(let f=0;f<a.length;f++)h=h.concat(a[f])}return h},t.set=function(a,h){return Zn(this),this.i=null,a=Ti(this,a),_m(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function Em(a,h,f){vm(a,h),0<f.length&&(a.i=null,a.g.set(Ti(a,h),P(f)),a.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var _=h[f];const M=encodeURIComponent(String(_)),B=this.V(_);for(_=0;_<B.length;_++){var O=M;B[_]!==""&&(O+="="+encodeURIComponent(String(B[_]))),a.push(O)}}return this.i=a.join("&")};function Ti(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function ET(a,h){h&&!a.j&&(Zn(a),a.i=null,a.g.forEach(function(f,_){var O=_.toLowerCase();_!=O&&(vm(this,_),Em(this,O,f))},a)),a.j=h}function wT(a,h){const f=new Oo;if(l.Image){const _=new Image;_.onload=v(er,f,"TestLoadImage: loaded",!0,h,_),_.onerror=v(er,f,"TestLoadImage: error",!1,h,_),_.onabort=v(er,f,"TestLoadImage: abort",!1,h,_),_.ontimeout=v(er,f,"TestLoadImage: timeout",!1,h,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else h(!1)}function TT(a,h){const f=new Oo,_=new AbortController,O=setTimeout(()=>{_.abort(),er(f,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:_.signal}).then(M=>{clearTimeout(O),M.ok?er(f,"TestPingServer: ok",!0,h):er(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),er(f,"TestPingServer: error",!1,h)})}function er(a,h,f,_,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),_(f)}catch{}}function ST(){this.g=new oT}function IT(a,h,f){const _=f||"";try{pm(a,function(O,M){let B=O;c(O)&&(B=fc(O)),h.push(_+M+"="+encodeURIComponent(B))})}catch(O){throw h.push(_+"type="+encodeURIComponent("_badmap")),O}}function Aa(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Aa,pc),Aa.prototype.g=function(){return new xa(this.l,this.j)},Aa.prototype.i=function(a){return function(){return a}}({});function xa(a,h){$e.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(xa,$e),t=xa.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,jo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$o(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,jo(this)),this.g&&(this.readyState=3,jo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;wm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function wm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?$o(this):jo(this),this.readyState==3&&wm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,$o(this))},t.Qa=function(a){this.g&&(this.response=a,$o(this))},t.ga=function(){this.g&&$o(this)};function $o(a){a.readyState=4,a.l=null,a.j=null,a.v=null,jo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,a.push(f[0]+": "+f[1]),f=h.next();return a.join(`\r
`)};function jo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(xa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Tm(a){let h="";return L(a,function(f,_){h+=_,h+=":",h+=f,h+=`\r
`}),h}function Ic(a,h,f){e:{for(_ in f){var _=!1;break e}_=!0}_||(f=Tm(f),typeof a=="string"?f!=null&&encodeURIComponent(String(f)):we(a,h,f))}function ke(a){$e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(ke,$e);var CT=/^https?$/i,RT=["POST","PUT"];t=ke.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,f,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yc.g(),this.v=this.o?Yp(this.o):Yp(yc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){Sm(this,M);return}if(a=f||"",f=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var O in _)f.set(O,_[O]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())f.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(f.keys()).find(M=>M.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(RT,h,void 0))||_||O||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of f)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Rm(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Sm(this,M)}};function Sm(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Im(a),Pa(a)}function Im(a){a.A||(a.A=!0,We(a,"complete"),We(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,We(this,"complete"),We(this,"abort"),Pa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pa(this,!0)),ke.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cm(this):this.bb())},t.bb=function(){Cm(this)};function Cm(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Cn(a)!=4||a.Z()!=2)){if(a.u&&Cn(a)==4)Kp(a.Ea,0,a);else if(We(a,"readystatechange"),Cn(a)==4){a.h=!1;try{const B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var _;if(_=B===0){var O=String(a.D).match(mm)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),_=!CT.test(O?O.toLowerCase():"")}f=_}if(f)We(a,"complete"),We(a,"success");else{a.m=6;try{var M=2<Cn(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Im(a)}}finally{Pa(a)}}}}function Pa(a,h){if(a.g){Rm(a);const f=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||We(a,"ready");try{f.onreadystatechange=_}catch{}}}function Rm(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Cn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),iT(h)}};function Am(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function AT(a){const h={};a=(a.g&&2<=Cn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(y(a[_]))continue;var f=x(a[_]);const O=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const M=h[O]||[];h[O]=M,M.push(f)}T(h,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Uo(a,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[a]||h}function xm(a){this.Aa=0,this.i=[],this.j=new Oo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Uo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Uo("baseRetryDelayMs",5e3,a),this.cb=Uo("retryDelaySeedMs",1e4,a),this.Wa=Uo("forwardChannelMaxRetries",2,a),this.wa=Uo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new um(a&&a.concurrentRequestLimit),this.Da=new ST,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=xm.prototype,t.la=8,t.G=1,t.connect=function(a,h,f,_){pt(0),this.W=a,this.H=h||{},f&&_!==void 0&&(this.H.OSID=f,this.H.OAID=_),this.F=this.X,this.I=Mm(this,null,this.W),Na(this)};function Cc(a){if(Pm(a),a.G==3){var h=a.U++,f=In(a.I);if(we(f,"SID",a.K),we(f,"RID",h),we(f,"TYPE","terminate"),Bo(a,f),h=new Jn(a,a.j,h),h.L=2,h.v=Ra(In(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.v,f=!0),f||(h.g=Fm(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Sa(h)}bm(a)}function ka(a){a.g&&(Ac(a),a.g.cancel(),a.g=null)}function Pm(a){ka(a),a.u&&(l.clearTimeout(a.u),a.u=null),Da(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Na(a){if(!cm(a.h)&&!a.s){a.s=!0;var h=a.Ga;he||q(),j||(he(),j=!0),K.add(h,a),a.B=0}}function xT(a,h){return hm(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Vo(m(a.Ga,a,h),Lm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Jn(this,this.j,a);let M=this.o;if(this.S&&(M?(M=g(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var _=this.i[f];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(h+=_,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=Nm(this,O,h),f=In(this.I),we(f,"RID",a),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),Bo(this,f),M&&(this.O?h="headers="+encodeURIComponent(String(Tm(M)))+"&"+h:this.m&&Ic(f,this.m,M)),Sc(this.h,O),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",h),we(f,"SID","null"),O.T=!0,_c(O,f,null)):_c(O,f,h),this.G=2}}else this.G==3&&(a?km(this,a):this.i.length==0||cm(this.h)||km(this))};function km(a,h){var f;h?f=h.l:f=a.U++;const _=In(a.I);we(_,"SID",a.K),we(_,"RID",f),we(_,"AID",a.T),Bo(a,_),a.m&&a.o&&Ic(_,a.m,a.o),f=new Jn(a,a.j,f,a.B+1),a.m===null&&(f.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Nm(a,f,1e3),f.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Sc(a.h,f),_c(f,_,h)}function Bo(a,h){a.H&&L(a.H,function(f,_){we(h,_,f)}),a.l&&pm({},function(f,_){we(h,_,f)})}function Nm(a,h,f){f=Math.min(a.i.length,f);var _=a.l?m(a.l.Na,a.l,a):null;e:{var O=a.i;let M=-1;for(;;){const B=["count="+f];M==-1?0<f?(M=O[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let ye=!0;for(let Qe=0;Qe<f;Qe++){let ce=O[Qe].g;const it=O[Qe].map;if(ce-=M,0>ce)M=Math.max(0,O[Qe].g-100),ye=!1;else try{IT(it,B,"req"+ce+"_")}catch{_&&_(it)}}if(ye){_=B.join("&");break e}}}return a=a.i.splice(0,f),h.D=a,_}function Dm(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;he||q(),j||(he(),j=!0),K.add(h,a),a.v=0}}function Rc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Vo(m(a.Fa,a),Lm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Vm(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Vo(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),ka(this),Vm(this))};function Ac(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Vm(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=In(a.qa);we(h,"RID","rpc"),we(h,"SID",a.K),we(h,"AID",a.T),we(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(h,"TO",a.ja),we(h,"TYPE","xmlhttp"),Bo(a,h),a.m&&a.o&&Ic(h,a.m,a.o),a.L&&(a.g.I=a.L);var f=a.g;a=a.ia,f.L=1,f.v=Ra(In(h)),f.m=null,f.P=!0,sm(f,a)}t.Za=function(){this.C!=null&&(this.C=null,ka(this),Rc(this),pt(19))};function Da(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Om(a,h){var f=null;if(a.g==h){Da(a),Ac(a),a.g=null;var _=2}else if(Tc(a.h,h))f=h.D,dm(a.h,h),_=1;else return;if(a.G!=0){if(h.o)if(_==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var O=a.B;_=Ea(),We(_,new nm(_,f)),Na(a)}else Dm(a);else if(O=h.s,O==3||O==0&&0<h.X||!(_==1&&xT(a,h)||_==2&&Rc(a)))switch(f&&0<f.length&&(h=a.h,h.i=h.i.concat(f)),O){case 1:Hr(a,5);break;case 4:Hr(a,10);break;case 3:Hr(a,6);break;default:Hr(a,2)}}}function Lm(a,h){let f=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(f*=2),f*h}function Hr(a,h){if(a.j.info("Error code "+h),h==2){var f=m(a.fb,a),_=a.Xa;const O=!_;_=new Wr(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ia(_,"https"),Ra(_),O?wT(_.toString(),f):TT(_.toString(),f)}else pt(2);a.G=0,a.l&&a.l.sa(h),bm(a),Pm(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function bm(a){if(a.G=0,a.ka=[],a.l){const h=fm(a.h);(h.length!=0||a.i.length!=0)&&(k(a.ka,h),k(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function Mm(a,h,f){var _=f instanceof Wr?In(f):new Wr(f);if(_.g!="")h&&(_.g=h+"."+_.g),Ca(_,_.s);else{var O=l.location;_=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var M=new Wr(null);_&&Ia(M,_),h&&(M.g=h),O&&Ca(M,O),f&&(M.l=f),_=M}return f=a.D,h=a.ya,f&&h&&we(_,f,h),we(_,"VER",a.la),Bo(a,_),_}function Fm(a,h,f){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new ke(new Aa({eb:f})):new ke(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $m(){}t=$m.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Va(){}Va.prototype.g=function(a,h){return new Pt(a,h)};function Pt(a,h){$e.call(this),this.g=new xm(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!y(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!y(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Si(this)}C(Pt,$e),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Cc(this.g)},Pt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var f={};f.__data__=a,a=f}else this.u&&(f={},f.__data__=fc(a),a=f);h.i.push(new hT(h.Ya++,a)),h.G==3&&Na(h)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Cc(this.g),delete this.g,Pt.aa.N.call(this)};function jm(a){mc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const f in h){a=f;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(jm,mc);function Um(){gc.call(this),this.status=1}C(Um,gc);function Si(a){this.g=a}C(Si,$m),Si.prototype.ua=function(){We(this.g,"a")},Si.prototype.ta=function(a){We(this.g,new jm(a))},Si.prototype.sa=function(a){We(this.g,new Um)},Si.prototype.ra=function(){We(this.g,"b")},Va.prototype.createWebChannel=Va.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,aE=function(){return new Va},sE=function(){return Ea()},oE=Br,_d={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wa.NO_ERROR=0,wa.TIMEOUT=8,wa.HTTP_ERROR=6,_l=wa,rm.COMPLETE="complete",iE=rm,Jp.EventType=No,No.OPEN="a",No.CLOSE="b",No.ERROR="c",No.MESSAGE="d",$e.prototype.listen=$e.prototype.K,is=Jp,ke.prototype.listenOnce=ke.prototype.L,ke.prototype.getLastError=ke.prototype.Ka,ke.prototype.getLastErrorCode=ke.prototype.Ba,ke.prototype.getStatus=ke.prototype.Z,ke.prototype.getResponseJson=ke.prototype.Oa,ke.prototype.getResponseText=ke.prototype.oa,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Ha,rE=ke}).apply(typeof Ja<"u"?Ja:typeof self<"u"?self:typeof window<"u"?window:{});const ly="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Bf("@firebase/firestore");function xi(){return ui.logLevel}function z(t,...e){if(ui.logLevel<=ne.DEBUG){const n=e.map(Wf);ui.debug(`Firestore (${To}): ${t}`,...n)}}function Bn(t,...e){if(ui.logLevel<=ne.ERROR){const n=e.map(Wf);ui.error(`Firestore (${To}): ${t}`,...n)}}function ao(t,...e){if(ui.logLevel<=ne.WARN){const n=e.map(Wf);ui.warn(`Firestore (${To}): ${t}`,...n)}}function Wf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw Bn(e),new Error(e)}function fe(t,e){t||Q()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let H=class extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},PR=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}};class kR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class NR{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Vn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Vn,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Vn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new lE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new ut(e)}}let DR=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},VR=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new DR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},OR=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class LR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new OR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bR(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new Be(0,0))}static max(){return new X(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ws.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ws?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Ws{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const MR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ws{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return MR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new H($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new H($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Se.fromString(e))}static fromName(e){return new G(Se.fromString(e).popFirst(5))}static empty(){return new G(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Se(e.slice()))}}function FR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Rr(i,G.empty(),e)}function $R(t){return new Rr(t.readTime,t.key,-1)}class Rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rr(X.min(),G.empty(),-1)}static max(){return new Rr(X.max(),G.empty(),-1)}}function jR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==UR)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(d=>{s[c]=d,++l,l===o&&r(s)},d=>i(d))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function zR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Vu.oe=-1;function Ou(t){return t==null}function tu(t){return t===0&&1/t==-1/0}function WR(t){return typeof t=="number"&&Number.isInteger(t)&&!tu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=uy(e)),e=qR(t.get(n),e);return uy(e)}function qR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function uy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function br(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Za(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Za(this.root,e,this.comparator,!1)}getReverseIterator(){return new Za(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Za(this.root,e,this.comparator,!0)}}class Za{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=o??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hy(this.data.getIterator())}getIteratorFrom(e){return new hy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class hy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Dt([])}unionWith(e){let n=new ze(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new hE("Invalid base64 string: "+o):o}}(e);return new nt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const KR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(fe(!!t),typeof t=="string"){let e=0;const n=KR.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lu(t){const e=t.mapValue.fields.__previous_value__;return Hf(e)?Lu(e):e}function Hs(t){const e=Ar(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}let dE=class Ed{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ed("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ed&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hf(t)?4:XR(t)?9007199254740991:QR(t)?10:11:Q()}function wn(t,e){if(t===e)return!0;const n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Hs(t).isEqual(Hs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ar(i.timestampValue),l=Ar(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xr(i.bytesValue).isEqual(xr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ve(i.geoPointValue.latitude)===Ve(o.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ve(i.integerValue)===Ve(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ve(i.doubleValue),l=Ve(o.doubleValue);return s===l?tu(s)===tu(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(cy(s)!==cy(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!wn(s[u],l[u])))return!1;return!0}(t,e);default:return Q()}}function qs(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=Pr(t),r=Pr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ve(o.integerValue||o.doubleValue),u=Ve(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return dy(t.timestampValue,e.timestampValue);case 4:return dy(Hs(t),Hs(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(o,s){const l=xr(o),u=xr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const d=ie(l[c],u[c]);if(d!==0)return d}return ie(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=ie(Ve(o.latitude),Ve(s.latitude));return l!==0?l:ie(Ve(o.longitude),Ve(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return fy(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,d;const p=o.fields||{},m=s.fields||{},v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,P=ie(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((d=C==null?void 0:C.values)===null||d===void 0?void 0:d.length)||0);return P!==0?P:fy(v,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===el.mapValue&&s===el.mapValue)return 0;if(o===el.mapValue)return 1;if(s===el.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let p=0;p<u.length&&p<d.length;++p){const m=ie(u[p],d[p]);if(m!==0)return m;const v=uo(l[u[p]],c[d[p]]);if(v!==0)return v}return ie(u.length,d.length)}(t.mapValue,e.mapValue);default:throw Q()}}function dy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Ar(t),r=Ar(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function fy(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=uo(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function co(t){return wd(t)}function wd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=wd(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${wd(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function El(t){switch(Pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lu(t);return e?16+El(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+El(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return br(r.fields,(o,s)=>{i+=o.length+El(s)}),i}(t.mapValue);default:throw Q()}}function py(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Td(t){return!!t&&"integerValue"in t}function qf(t){return!!t&&"arrayValue"in t}function my(t){return!!t&&"nullValue"in t}function gy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wl(t){return!!t&&"mapValue"in t}function QR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function vs(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return br(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=vs(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=vs(t.arrayValue.values[n]);return e}return Object.assign({},t)}function XR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.value=e}static empty(){return new wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=vs(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=vs(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());wl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];wl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){br(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wt(vs(this.value))}}function fE(t){const e=[];return br(t.fields,(n,r)=>{const i=new Je([n]);if(wl(r)){const o=fE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ht(e,0,X.min(),X.min(),X.min(),wt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,X.min(),X.min(),wt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,X.min(),X.min(),wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.position=e,this.inclusive=n}}function yy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function vy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,n="asc"){this.field=e,this.dir=n}}function YR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{}class Fe extends pE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ZR(e,n,r):n==="array-contains"?new nA(e,r):n==="in"?new rA(e,r):n==="not-in"?new iA(e,r):n==="array-contains-any"?new oA(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new eA(e,r):new tA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends pE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new on(e,n)}matches(e){return mE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mE(t){return t.op==="and"}function gE(t){return JR(t)&&mE(t)}function JR(t){for(const e of t.filters)if(e instanceof on)return!1;return!0}function Sd(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+co(t.value);if(gE(t))return t.filters.map(e=>Sd(e)).join(",");{const e=t.filters.map(n=>Sd(n)).join(",");return`${t.op}(${e})`}}function yE(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&yE(s,i.filters[l]),!0):!1}(t,e):void Q()}function vE(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(vE).join(" ,")+"}"}(t):"Filter"}class ZR extends Fe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class eA extends Fe{constructor(e,n){super(e,"in",n),this.keys=_E("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tA extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=_E("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _E(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class nA extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qf(n)&&qs(n.arrayValue,this.value)}}class rA extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qs(this.value.arrayValue,n)}}class iA extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(qs(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qs(this.value.arrayValue,n)}}class oA extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>qs(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function _y(t,e=null,n=[],r=[],i=null,o=null,s=null){return new sA(t,e,n,r,i,o,s)}function Kf(t){const e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ou(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function Gf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!YR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!yE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vy(t.startAt,e.startAt)&&vy(t.endAt,e.endAt)}function Id(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function aA(t,e,n,r,i,o,s,l){return new oa(t,e,n,r,i,o,s,l)}function Qf(t){return new oa(t)}function Ey(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function EE(t){return t.collectionGroup!==null}function _s(t){const e=Y(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new ze(Je.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ru(o,r))}),n.has(Je.keyField().canonicalString())||e.ce.push(new ru(Je.keyField(),r))}return e.ce}function gn(t){const e=Y(t);return e.le||(e.le=lA(e,_s(t))),e.le}function lA(t,e){if(t.limitType==="F")return _y(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new ru(i.field,o)});const n=t.endAt?new nu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new nu(t.startAt.position,t.startAt.inclusive):null;return _y(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cd(t,e){const n=t.filters.concat([e]);return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Rd(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bu(t,e){return Gf(gn(t),gn(e))&&t.limitType===e.limitType}function wE(t){return`${Kf(gn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vE(i)).join(", ")}]`),Ou(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Mu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of _s(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=yy(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,_s(r),i)||r.endAt&&!function(s,l,u){const c=yy(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,_s(r),i))}(t,e)}function uA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TE(t){return(e,n)=>{let r=!1;for(const i of _s(t)){const o=cA(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function cA(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?uo(u,c):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=new Pe(G.comparator);function zn(){return hA}const SE=new Pe(G.comparator);function os(...t){let e=SE;for(const n of t)e=e.insert(n.key,n);return e}function IE(t){let e=SE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Es()}function CE(){return Es()}function Es(){return new gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const dA=new Pe(G.comparator),fA=new ze(G.comparator);function re(...t){let e=fA;for(const n of t)e=e.add(n);return e}const pA=new ze(ie);function mA(){return pA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tu(e)?"-0":e}}function RE(t){return{integerValue:""+t}}function gA(t,e){return WR(e)?RE(e):Xf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(){this._=void 0}}function yA(t,e,n){return t instanceof iu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Hf(o)&&(o=Lu(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ks?xE(t,e):t instanceof Gs?PE(t,e):function(i,o){const s=AE(i,o),l=wy(s)+wy(i.Pe);return Td(s)&&Td(i.Pe)?RE(l):Xf(i.serializer,l)}(t,e)}function vA(t,e,n){return t instanceof Ks?xE(t,e):t instanceof Gs?PE(t,e):n}function AE(t,e){return t instanceof ou?function(r){return Td(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class iu extends Fu{}class Ks extends Fu{constructor(e){super(),this.elements=e}}function xE(t,e){const n=kE(e);for(const r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Gs extends Fu{constructor(e){super(),this.elements=e}}function PE(t,e){let n=kE(e);for(const r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}class ou extends Fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function wy(t){return Ve(t.integerValue||t.doubleValue)}function kE(t){return qf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function _A(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ks&&i instanceof Ks||r instanceof Gs&&i instanceof Gs?lo(r.elements,i.elements,wn):r instanceof ou&&i instanceof ou?wn(r.Pe,i.Pe):r instanceof iu&&i instanceof iu}(t.transform,e.transform)}class EA{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class $u{}function NE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new VE(t.key,yn.none()):new sa(t.key,t.data,yn.none());{const n=t.data,r=wt.empty();let i=new ze(Je.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Mr(t.key,r,new Dt(i.toArray()),yn.none())}}function wA(t,e,n){t instanceof sa?function(i,o,s){const l=i.value.clone(),u=Sy(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Mr?function(i,o,s){if(!Tl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Sy(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(DE(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ws(t,e,n,r){return t instanceof sa?function(o,s,l,u){if(!Tl(o.precondition,s))return l;const c=o.value.clone(),d=Iy(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Mr?function(o,s,l,u){if(!Tl(o.precondition,s))return l;const c=Iy(o.fieldTransforms,u,s),d=s.data;return d.setAll(DE(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return Tl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function TA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=AE(r.transform,i||null);o!=null&&(n===null&&(n=wt.empty()),n.set(r.field,o))}return n||null}function Ty(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lo(r,i,(o,s)=>_A(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class sa extends $u{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Mr extends $u{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function DE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sy(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,vA(s,l,n[i]))}return r}function Iy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,yA(o,s,e))}return r}class VE extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SA extends $u{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wA(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ws(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ws(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=CE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=NE(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>Ty(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>Ty(n,r))}}class Yf{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return dA}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Yf(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,se;function AA(t){switch(t){default:return Q();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function OE(t){if(t===void 0)return Bn("GRPC error has no .code"),$.UNKNOWN;switch(t){case be.OK:return $.OK;case be.CANCELLED:return $.CANCELLED;case be.UNKNOWN:return $.UNKNOWN;case be.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case be.INTERNAL:return $.INTERNAL;case be.UNAVAILABLE:return $.UNAVAILABLE;case be.UNAUTHENTICATED:return $.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case be.NOT_FOUND:return $.NOT_FOUND;case be.ALREADY_EXISTS:return $.ALREADY_EXISTS;case be.PERMISSION_DENIED:return $.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case be.ABORTED:return $.ABORTED;case be.OUT_OF_RANGE:return $.OUT_OF_RANGE;case be.UNIMPLEMENTED:return $.UNIMPLEMENTED;case be.DATA_LOSS:return $.DATA_LOSS;default:return Q()}}(se=be||(be={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new ni([4294967295,4294967295],0);function Cy(t){const e=xA().encode(t),n=new nE;return n.update(e),new Uint8Array(n.digest())}function Ry(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ni([n,r],0),new ni([i,o],0)]}class Jf{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ss(`Invalid padding: ${n}`);if(r<0)throw new ss(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ss(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ss(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ni.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(ni.fromNumber(r)));return i.compare(PA)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Cy(e),[r,i]=Ry(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Jf(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Te===0)return;const n=Cy(e),[r,i]=Ry(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ss extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,aa.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ju(X.min(),i,new Pe(ie),zn(),re())}}class aa{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new aa(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class LE{constructor(e,n){this.targetId=e,this.me=n}}class bE{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ay{constructor(){this.fe=0,this.ge=xy(),this.pe=nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new aa(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=xy()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class kA{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=tl(),this.Qe=tl(),this.Ke=new Pe(ie)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(Id(o))if(r===0){const s=new G(o.path);this.We(n,s,ht.newNoDocument(s,X.min()))}else fe(r===1);else{const s=this.Ze(n);if(s!==r){const l=this.Xe(e),u=l?this.et(l,e,s):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=xr(r).toUint8Array()}catch(u){if(u instanceof hE)return ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Jf(s,i,o)}catch(u){return ao(u instanceof ss?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Ye(s);if(l){if(o.current&&Id(l.target)){const u=new G(l.target.path);this.st(u).has(s)||this.ot(s,u)||this.We(s,u,ht.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=re();this.Qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ju(e,n,this.Ke,this.ke,r);return this.ke=zn(),this.qe=tl(),this.Qe=tl(),this.Ke=new Pe(ie),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Ay,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ze(ie),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ze(ie),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Ay),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function tl(){return new Pe(G.comparator)}function xy(){return new Pe(G.comparator)}const NA={asc:"ASCENDING",desc:"DESCENDING"},DA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VA={and:"AND",or:"OR"};class OA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ad(t,e){return t.useProto3Json||Ou(e)?e:{value:e}}function su(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ME(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LA(t,e){return su(t,e.toTimestamp())}function vn(t){return fe(!!t),X.fromTimestamp(function(n){const r=Ar(n);return new Be(r.seconds,r.nanos)}(t))}function Zf(t,e){return xd(t,e).canonicalString()}function xd(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function FE(t){const e=Se.fromString(t);return fe(zE(e)),e}function Pd(t,e){return Zf(t.databaseId,e.path)}function oh(t,e){const n=FE(e);if(n.get(1)!==t.databaseId.projectId)throw new H($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(jE(n))}function $E(t,e){return Zf(t.databaseId,e)}function bA(t){const e=FE(t);return e.length===4?Se.emptyPath():jE(e)}function kd(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jE(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Py(t,e,n){return{name:Pd(t,e),fields:n.value.mapValue.fields}}function MA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(fe(d===void 0||typeof d=="string"),nt.fromBase64String(d||"")):(fe(d===void 0||d instanceof Buffer||d instanceof Uint8Array),nt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const d=c.code===void 0?$.UNKNOWN:OE(c.code);return new H(d,c.message||"")}(s);n=new bE(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=oh(t,r.document.name),o=vn(r.document.updateTime),s=r.document.createTime?vn(r.document.createTime):X.min(),l=new wt({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,s,l),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Sl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=oh(t,r.document),o=r.readTime?vn(r.readTime):X.min(),s=ht.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Sl([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=oh(t,r.document),o=r.removedTargetIds||[];n=new Sl([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new RA(i,o),l=r.targetId;n=new LE(l,s)}}return n}function FA(t,e){let n;if(e instanceof sa)n={update:Py(t,e.key,e.value)};else if(e instanceof VE)n={delete:Pd(t,e.key)};else if(e instanceof Mr)n={update:Py(t,e.key,e.data),updateMask:KA(e.fieldMask)};else{if(!(e instanceof SA))return Q();n={verify:Pd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof iu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Ks)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Gs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ou)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:LA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function $A(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?vn(i.updateTime):vn(o);return s.isEqual(X.min())&&(s=vn(o)),new EA(s,i.transformResults||[])}(n,e))):[]}function jA(t,e){return{documents:[$E(t,e.path)]}}function UA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$E(t,i);const o=function(c){if(c.length!==0)return BE(on.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:ki(m.field),direction:WA(m.dir)}}(d))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Ad(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function BA(t){let e=bA(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];n.where&&(o=function(p){const m=UE(p);return m instanceof on&&gE(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new ru(Ni(C.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Ou(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new nu(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,v=p.values||[];return new nu(v,m)}(n.endAt)),aA(e,i,s,o,l,"F",u,c)}function zA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function UE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ni(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ni(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ni(n.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ni(n.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(Ni(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>UE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function WA(t){return NA[t]}function HA(t){return DA[t]}function qA(t){return VA[t]}function ki(t){return{fieldPath:t.canonicalString()}}function Ni(t){return Je.fromServerFormat(t.fieldPath)}function BE(t){return t instanceof Fe?function(n){if(n.op==="=="){if(gy(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NAN"}};if(my(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gy(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NAN"}};if(my(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(n.field),op:HA(n.op),value:n.value}}}(t):t instanceof on?function(n){const r=n.getFilters().map(i=>BE(i));return r.length===1?r[0]:{compositeFilter:{op:qA(n.op),filters:r}}}(t):Q()}function KA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,o=X.min(),s=X.min(),l=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e){this.ht=e}}function QA(t){const e=BA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(){this.ln=new YA}addToCollectionParentIndex(e,n){return this.ln.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Rr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class YA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _t{static withCacheSize(e){return new _t(e,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(41943040,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ho(0)}static Qn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class JA{constructor(e){this.Gn=e,this.buffer=new ze(Ny),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ny(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class ZA{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Yn(3e5)})}}class ex{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Vu.oe);const r=new JA(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(ky)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ky):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,l,u,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),xi()<=ne.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function tx(t,e){return new ex(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(){this.changes=new gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ws(r.mutation,i,Dt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Jr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=os();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=zn();const s=Es(),l=function(){return Es()}();return n.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Mr)?o=o.insert(c.key,c):d!==void 0?(s.set(c.key,d.mutation.getFieldMask()),ws(d.mutation,c,d.mutation.getFieldMask(),Be.now())):s.set(c.key,Dt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),n.forEach((c,d)=>{var p;return l.set(c,new rx(d,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Es();let i=new Pe((s,l)=>s-l),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||Dt.empty();d=l.applyToLocalView(c,d),r.set(u,d);const p=(i.get(l.batchId)||re()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,d=u.value,p=CE();d.forEach(m=>{if(!o.has(m)){const v=NE(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):EE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Jr());let l=-1,u=o;return s.next(c=>F.forEach(c,(d,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{u=u.insert(d,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(d=>({batchId:l,changes:IE(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=os();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=os();return this.indexManager.getCollectionParents(e,o).next(l=>F.forEach(l,u=>{const c=function(p,m){return new oa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();s.get(d)===null&&(s=s.insert(d,ht.newInvalidDocument(d)))});let l=os();return s.forEach((u,c)=>{const d=o.get(u);d!==void 0&&ws(d.mutation,c,Dt.empty(),Be.now()),Mu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return F.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:QA(i.bundledQuery),readTime:vn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.overlays=new Pe(G.comparator),this.Er=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Jr(),o=n.length+1,s=new G(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pe((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=o.get(c.largestBatchId);d===null&&(d=Jr(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const l=Jr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>l.set(c,d)),!(l.size()>=i)););return F.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new CA(n,r));let o=this.Er.get(n);o===void 0&&(o=re(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.dr=new ze(He.Ar),this.Rr=new ze(He.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new He(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new He(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new G(new Se([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new G(new Se([])),r=new He(n,e),i=new He(n,e+1);let o=re();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new He(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return G.comparator(e.key,n.key)||ie(e.br,n.br)}static Vr(e,n){return ie(e.br,n.br)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ze(He.Ar)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new IA(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.vr=this.vr.add(new He(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const l=this.Cr(s.br);o.push(l)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ie);return n.forEach(i=>{const o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],l=>{r=r.add(l.br)})}),F.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;G.isDocumentKey(o)||(o=o.child(""));const s=new He(new G(o),0);let l=new ze(ie);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.br)),!0)},s),F.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return F.forEach(n.mutations,i=>{const o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new He(n,0),i=this.vr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.Nr=e,this.docs=function(){return new Pe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zn();const s=n.path,l=new G(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||jR($R(d),r)<=0||(i.has(d.key)||Mu(n,d))&&(o=o.insert(d.key,d.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Lr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cx(this)}getSize(e){return F.resolve(this.size)}}class cx extends nx{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e){this.persistence=e,this.Br=new gi(n=>Kf(n),Gf),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.kr=0,this.qr=new ep,this.targetCount=0,this.Qr=ho.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),F.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Un(n),F.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Vu(0),this.Ur=!1,this.Ur=!0,this.Wr=new ax,this.referenceDelegate=e(this),this.Gr=new hx(this),this.indexManager=new XA,this.remoteDocumentCache=function(i){return new ux(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new GA(n),this.jr=new ox(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sx,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new lx(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new dx(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return F.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class dx extends BR{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.Zr=new ep,this.Xr=null}static ei(e){return new tp(e)}get ti(){if(this.Xr)return this.Xr;throw Q()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),F.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ti,r=>{const i=G.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return F.or([()=>F.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class au{constructor(e,n){this.persistence=e,this.ri=new gi(r=>HR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=tx(this,n)}static ei(e,n){return new au(e,n)}Hr(){}Jr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return F.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(l=>{l||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),F.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=El(e.data.value)),n}ir(e,n,r){return F.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new np(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return pC()?8:zR(dC())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new fx;return this.ts(e,n,s).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,s,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(xi()<=ne.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),F.resolve()):(xi()<=ne.DEBUG&&z("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(xi()<=ne.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):F.resolve())}Xi(e,n){if(Ey(n))return F.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rd(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.Zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,l);return this.ss(n,c,s,u.readTime)?this.Xi(e,Rd(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return Ey(n)||i.isEqual(X.min())?F.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?F.resolve(null):(xi()<=ne.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pi(n)),this.os(e,s,n,FR(i,-1)).next(l=>l))})}rs(e,n){let r=new ze(TE(e));return n.forEach((i,o)=>{Mu(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return xi()<=ne.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.Zi.getDocumentsMatchingQuery(e,n,Rr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new Pe(ie),this.cs=new gi(o=>Kf(o),Gf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ix(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function gx(t,e,n,r){return new mx(t,e,n,r)}async function HE(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=re();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){l.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:l}))})})}function yx(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,d){const p=c.batch,m=p.keys();let v=F.resolve();return m.forEach(C=>{v=v.next(()=>d.getEntry(u,C)).next(P=>{const k=c.docVersions.get(C);fe(k!==null),P.version.compareTo(k)<0&&(p.applyToRemoteDocument(P,c),P.isValidDocument()&&(P.setReadTime(c.commitVersion),d.addEntry(P)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function qE(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function vx(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((d,p)=>{const m=i.get(p);if(!m)return;l.push(n.Gr.removeMatchingKeys(o,d.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(o,d.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(nt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,r)),i=i.insert(p,v),function(P,k,w){return P.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,d)&&l.push(n.Gr.updateTargetData(o,v))});let u=zn(),c=re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,d))}),l.push(_x(o,s,e.documentUpdates).next(d=>{u=d.Is,c=d.Es})),!r.isEqual(X.min())){const d=n.Gr.getLastRemoteSnapshotVersion(o).next(p=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(d)}return F.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.us=i,o))}function _x(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=zn();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Is:s,Es:i}})}function Ex(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wx(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new cr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Nd(t,e,n){const r=Y(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Io(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Dy(t,e,n){const r=Y(t);let i=X.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const p=Y(u),m=p.cs.get(d);return m!==void 0?F.resolve(p.us.get(m)):p.Gr.getTargetData(c,d)}(r,s,gn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:re())).next(l=>(Tx(r,uA(e),l),{documents:l,ds:o})))}function Tx(t,e,n){let r=t.ls.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class Vy{constructor(){this.activeTargetIds=mA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sx{constructor(){this._o=new Vy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Vy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl=null;function sh(){return nl===null?nl=function(){return 268435456+Math.round(2147483648*Math.random())}():nl++,"0x"+nl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class Ax extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const l=sh(),u=this.No(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,u,c,i).then(d=>(z("RestConnection",`Received RPC '${n}' ${l}: `,d),d),d=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,d,"url: ",u,"request:",i),d})}ko(n,r,i,o,s,l){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=Cx[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=sh();return new Promise((s,l)=>{const u=new rE;u.setWithCredentials(!0),u.listenOnce(iE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case _l.NO_ERROR:const d=u.getResponseJson();z(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case _l.TIMEOUT:z(lt,`RPC '${e}' ${o} timed out`),l(new H($.DEADLINE_EXCEEDED,"Request time out"));break;case _l.HTTP_ERROR:const p=u.getStatus();if(z(lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const C=function(k){const w=k.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(v.status);l(new H(C,v.message))}else l(new H($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H($.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{z(lt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);z(lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=sh(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aE(),l=sE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=o.join("");z(lt,`Creating RPC '${e}' stream ${i}: ${d}`,u);const p=s.createWebChannel(d,u);let m=!1,v=!1;const C=new Rx({Eo:k=>{v?z(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(m||(z(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(lt,`RPC '${e}' stream ${i} sending:`,k),p.send(k))},Ao:()=>p.close()}),P=(k,w,y)=>{k.listen(w,S=>{try{y(S)}catch(D){setTimeout(()=>{throw D},0)}})};return P(p,is.EventType.OPEN,()=>{v||(z(lt,`RPC '${e}' stream ${i} transport opened.`),C.So())}),P(p,is.EventType.CLOSE,()=>{v||(v=!0,z(lt,`RPC '${e}' stream ${i} transport closed`),C.Do())}),P(p,is.EventType.ERROR,k=>{v||(v=!0,ao(lt,`RPC '${e}' stream ${i} transport errored:`,k),C.Do(new H($.UNAVAILABLE,"The operation could not be completed")))}),P(p,is.EventType.MESSAGE,k=>{var w;if(!v){const y=k.data[0];fe(!!y);const S=y,D=(S==null?void 0:S.error)||((w=S[0])===null||w===void 0?void 0:w.error);if(D){z(lt,`RPC '${e}' stream ${i} received error:`,D);const b=D.status;let L=function(I){const A=be[I];if(A!==void 0)return OE(A)}(b),T=D.message;L===void 0&&(L=$.INTERNAL,T="Unknown error status: "+b+" with message "+D.message),v=!0,C.Do(new H(L,T)),p.close()}else z(lt,`RPC '${e}' stream ${i} received:`,y),C.vo(y)}}),P(l,oE.STAT_EVENT,k=>{k.stat===_d.PROXY?z(lt,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===_d.NOPROXY&&z(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function ah(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){return new OA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r,i,o,s,l,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new KE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new H($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xx extends GE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=MA(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?vn(s.readTime):X.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=kd(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Id(u)?{documents:jA(o,u)}:{query:UA(o,u).ct},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=ME(o,s.resumeToken);const c=Ad(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(X.min())>0){l.readTime=su(o,s.snapshotVersion.toTimestamp());const c=Ad(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=zA(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=kd(this.serializer),n.removeTarget=e,this.c_(n)}}class Px extends GE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=$A(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=kd(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>FA(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,xd(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H($.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.ko(e,xd(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H($.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Nx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Bn(n),this.C_=!1):z("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{yi(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Y(u);c.k_.add(4),await la(c),c.K_.set("Unknown"),c.k_.delete(4),await Bu(c)}(this))})}),this.K_=new Nx(r,i)}}async function Bu(t){if(yi(t))for(const e of t.q_)await e(!0)}async function la(t){for(const e of t.q_)await e(!1)}function QE(t,e){const n=Y(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),sp(n)?op(n):Co(n).s_()&&ip(n,e))}function rp(t,e){const n=Y(t),r=Co(n);n.B_.delete(e),r.s_()&&XE(n,e),n.B_.size===0&&(r.s_()?r.a_():yi(n)&&n.K_.set("Unknown"))}function ip(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).V_(e)}function XE(t,e){t.U_.xe(e),Co(t).m_(e)}function op(t){t.U_=new kA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.K_.F_()}function sp(t){return yi(t)&&!Co(t).i_()&&t.B_.size>0}function yi(t){return Y(t).k_.size===0}function YE(t){t.U_=void 0}async function Vx(t){t.K_.set("Online")}async function Ox(t){t.B_.forEach((e,n)=>{ip(t,e)})}async function Lx(t,e){YE(t),sp(t)?(t.K_.O_(e),op(t)):t.K_.set("Unknown")}async function bx(t,e,n){if(t.K_.set("Online"),e instanceof bE&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lu(t,r)}else if(e instanceof Sl?t.U_.$e(e):e instanceof LE?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(X.min()))try{const r=await qE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.U_.it(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.B_.get(c);d&&o.B_.set(c,d.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const d=o.B_.get(u);if(!d)return;o.B_.set(u,d.withResumeToken(nt.EMPTY_BYTE_STRING,d.snapshotVersion)),XE(o,u);const p=new cr(d.target,u,c,d.sequenceNumber);ip(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await lu(t,r)}}async function lu(t,e,n){if(!Io(e))throw e;t.k_.add(1),await la(t),t.K_.set("Offline"),n||(n=()=>qE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await Bu(t)})}function JE(t,e){return e().catch(n=>lu(t,n,e))}async function zu(t){const e=Y(t),n=kr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;Mx(e);)try{const i=await Ex(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,Fx(e,i)}catch(i){await lu(e,i)}ZE(e)&&ew(e)}function Mx(t){return yi(t)&&t.L_.length<10}function Fx(t,e){t.L_.push(e);const n=kr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function ZE(t){return yi(t)&&!kr(t).i_()&&t.L_.length>0}function ew(t){kr(t).start()}async function $x(t){kr(t).w_()}async function jx(t){const e=kr(t);for(const n of t.L_)e.g_(n.mutations)}async function Ux(t,e,n){const r=t.L_.shift(),i=Yf.from(r,e,n);await JE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await zu(t)}async function Bx(t,e){e&&kr(t).f_&&await async function(r,i){if(function(s){return AA(s)&&s!==$.ABORTED}(i.code)){const o=r.L_.shift();kr(r).__(),await JE(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await zu(r)}}(t,e),ZE(t)&&ew(t)}async function Ly(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=yi(n);n.k_.add(3),await la(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Bu(n)}async function zx(t,e){const n=Y(t);e?(n.k_.delete(2),await Bu(n)):e||(n.k_.add(2),await la(n),n.K_.set("Unknown"))}function Co(t){return t.W_||(t.W_=function(n,r,i){const o=Y(n);return o.b_(),new xx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:Vx.bind(null,t),mo:Ox.bind(null,t),po:Lx.bind(null,t),R_:bx.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),sp(t)?op(t):t.K_.set("Unknown")):(await t.W_.stop(),YE(t))})),t.W_}function kr(t){return t.G_||(t.G_=function(n,r,i){const o=Y(n);return o.b_(),new Px(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:$x.bind(null,t),po:Bx.bind(null,t),p_:jx.bind(null,t),y_:Ux.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await zu(t)):(await t.G_.stop(),t.L_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Vn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new ap(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),Io(t))return new H($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{static emptySet(e){return new Ji(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=os(),this.sortedSet=new Pe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ji;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by{constructor(){this.z_=new Pe(G.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Q():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new fo(e,n,Ji.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Hx{constructor(){this.queries=My(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Y(n),o=i.queries;i.queries=My(),o.forEach((s,l)=>{for(const u of l.J_)u.onError(r)})})(this,new H($.ABORTED,"Firestore shutting down"))}}function My(){return new gi(t=>wE(t),bu)}async function tw(t,e){const n=Y(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new Wx,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=lp(s,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&up(n)}async function nw(t,e){const n=Y(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qx(t,e){const n=Y(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.J_)l.ta(i)&&(r=!0);s.H_=i}}r&&up(n)}function Kx(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function up(t){t.X_.forEach(e=>{e.next()})}var Dd,Fy;(Fy=Dd||(Dd={})).na="default",Fy.Cache="cache";class rw{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Dd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e){this.key=e}}class ow{constructor(e){this.key=e}}class Gx{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=re(),this.mutatedKeys=re(),this.Va=TE(e),this.ma=new Ji(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new by,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{const m=i.get(d),v=Mu(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),P=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let k=!1;m&&v?m.data.isEqual(v.data)?C!==P&&(r.track({type:3,doc:v}),k=!0):this.ya(m,v)||(r.track({type:2,doc:v}),k=!0,(u&&this.Va(v,u)>0||c&&this.Va(v,c)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),k=!0):m&&!v&&(r.track({type:1,doc:m}),k=!0,(u||c)&&(l=!0)),k&&(v?(s=s.add(v),o=P?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{ma:s,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((d,p)=>function(v,C){const P=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return P(v)-P(C)}(d.type,p.type)||this.Va(d.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,s.length!==0||c?{snapshot:new fo(this.query,e.ma,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new by,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=re(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new ow(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new iw(r))}),n}va(e){this.da=e.ds,this.Ra=re();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return fo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Qx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Xx{constructor(e){this.key=e,this.Fa=!1}}class Yx{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new gi(l=>wE(l),bu),this.Oa=new Map,this.Na=new Set,this.La=new Pe(G.comparator),this.Ba=new Map,this.ka=new ep,this.qa={},this.Qa=new Map,this.Ka=ho.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function Jx(t,e,n=!0){const r=hw(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await sw(r,e,n,!0),i}async function Zx(t,e){const n=hw(t);await sw(n,e,!0,!1)}async function sw(t,e,n,r){const i=await wx(t.localStore,gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await eP(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&QE(t.remoteStore,i),l}async function eP(t,e,n,r,i){t.Ua=(p,m,v)=>async function(P,k,w,y){let S=k.view.ga(w);S.ss&&(S=await Dy(P.localStore,k.query,!1).then(({documents:T})=>k.view.ga(T,S)));const D=y&&y.targetChanges.get(k.targetId),b=y&&y.targetMismatches.get(k.targetId)!=null,L=k.view.applyChanges(S,P.isPrimaryClient,D,b);return jy(P,k.targetId,L.ba),L.snapshot}(t,p,m,v);const o=await Dy(t.localStore,e,!0),s=new Gx(e,o.ds),l=s.ga(o.documents),u=aa.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);jy(t,n,c.ba);const d=new Qx(e,n,s);return t.xa.set(e,d),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function tP(t,e,n){const r=Y(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!bu(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nd(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&rp(r.remoteStore,i.targetId),Vd(r,i.targetId)}).catch(So)):(Vd(r,i.targetId),await Nd(r.localStore,i.targetId,!0))}async function nP(t,e){const n=Y(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),rp(n.remoteStore,r.targetId))}async function rP(t,e,n){const r=cP(t);try{const i=await function(s,l){const u=Y(s),c=Be.now(),d=l.reduce((v,C)=>v.add(C.key),re());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=zn(),P=re();return u.hs.getEntries(v,d).next(k=>{C=k,C.forEach((w,y)=>{y.isValidDocument()||(P=P.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(k=>{p=k;const w=[];for(const y of l){const S=TA(y,p.get(y.key).overlayedDocument);S!=null&&w.push(new Mr(y.key,S,fE(S.value.mapValue),yn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,w,l)}).next(k=>{m=k;const w=k.applyToLocalDocumentSet(p,P);return u.documentOverlayCache.saveOverlays(v,k.batchId,w)})}).then(()=>({batchId:m.batchId,changes:IE(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.qa[s.currentUser.toKey()];c||(c=new Pe(ie)),c=c.insert(l,u),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await ua(r,i.changes),await zu(r.remoteStore)}catch(i){const o=lp(i,"Failed to persist write");n.reject(o)}}async function aw(t,e){const n=Y(t);try{const r=await vx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?fe(s.Fa):i.removedDocuments.size>0&&(fe(s.Fa),s.Fa=!1))}),await ua(n,r,e)}catch(r){await So(r)}}function $y(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const l=s.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Y(s);u.onlineState=l;let c=!1;u.queries.forEach((d,p)=>{for(const m of p.J_)m.ea(l)&&(c=!0)}),c&&up(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iP(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new Pe(G.comparator);s=s.insert(o,ht.newNoDocument(o,X.min()));const l=re().add(o),u=new ju(X.min(),new Map,new Pe(ie),s,l);await aw(r,u),r.La=r.La.remove(o),r.Ba.delete(e),cp(r)}else await Nd(r.localStore,e,!1).then(()=>Vd(r,e,n)).catch(So)}async function oP(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await yx(n.localStore,e);uw(n,r,null),lw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ua(n,i)}catch(i){await So(i)}}async function sP(t,e,n){const r=Y(t);try{const i=await function(s,l){const u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(fe(p!==null),d=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);uw(r,e,n),lw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ua(r,i)}catch(i){await So(i)}}function lw(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function uw(t,e,n){const r=Y(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Vd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||cw(t,r)})}function cw(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(rp(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),cp(t))}function jy(t,e,n){for(const r of n)r instanceof iw?(t.ka.addReference(r.key,e),aP(t,r)):r instanceof ow?(z("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||cw(t,r.key)):Q()}function aP(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(z("SyncEngine","New document in limbo: "+n),t.Na.add(r),cp(t))}function cp(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new G(Se.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Xx(n)),t.La=t.La.insert(n,r),QE(t.remoteStore,new cr(gn(Qf(n.path)),r,"TargetPurposeLimboResolution",Vu.oe))}}async function ua(t,e,n){const r=Y(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{s.push(r.Ua(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=np.zi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(u,c){const d=Y(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,m=>F.forEach(m.Wi,v=>d.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>F.forEach(m.Gi,v=>d.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Io(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const v=d.us.get(m),C=v.snapshotVersion,P=v.withLastLimboFreeSnapshotVersion(C);d.us=d.us.insert(m,P)}}}(r.localStore,o))}async function lP(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await HE(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(l=>{l.forEach(u=>{u.reject(new H($.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ua(n,r.Ts)}}function uP(t,e){const n=Y(t),r=n.Ba.get(e);if(r&&r.Fa)return re().add(r.key);{let i=re();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const l=n.xa.get(s);i=i.unionWith(l.view.fa)}return i}}function hw(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=aw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iP.bind(null,e),e.Ma.R_=qx.bind(null,e.eventManager),e.Ma.Wa=Kx.bind(null,e.eventManager),e}function cP(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sP.bind(null,e),e}class uu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return gx(this.persistence,new px,e.initialUser,this.serializer)}ja(e){return new WE(tp.ei,this.serializer)}za(e){return new Sx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}uu.provider={build:()=>new uu};class hP extends uu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){fe(this.persistence.referenceDelegate instanceof au);const r=this.persistence.referenceDelegate.garbageCollector;return new ZA(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new WE(r=>au.ei(r,n),this.serializer)}}class Od{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$y(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lP.bind(null,this.syncEngine),await zx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hx}()}createDatastore(e){const n=Uu(e.databaseInfo.databaseId),r=function(o){return new Ax(o)}(e.databaseInfo);return function(o,s,l,u){return new kx(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new Dx(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>$y(this.syncEngine,n,0),function(){return Oy.p()?new Oy:new Ix}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,d){const p=new Yx(i,o,s,l,u,c);return d&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Y(i);z("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await la(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=uE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=lp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function lh(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await HE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Uy(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fP(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Ly(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Ly(e.remoteStore,i)),t._onlineComponents=e}async function fP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await lh(t,new uu)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await lh(t,new hP(void 0));return t._offlineComponents}async function fw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await Uy(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await Uy(t,new Od))),t._onlineComponents}function pP(t){return fw(t).then(e=>e.syncEngine)}async function pw(t){const e=await fw(t),n=e.eventManager;return n.onListen=Jx.bind(null,e.syncEngine),n.onUnlisten=tP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Zx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nP.bind(null,e.syncEngine),n}function mP(t,e,n={}){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new dw({next:m=>{d.eu(),s.enqueueAndForget(()=>nw(o,p));const v=m.docs.has(l);!v&&m.fromCache?c.reject(new H($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?c.reject(new H($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new rw(Qf(l.path),d,{includeMetadataChanges:!0,ua:!0});return tw(o,p)}(await pw(t),t.asyncQueue,e,n,r)),r.promise}function gP(t,e,n={}){const r=new Vn;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const d=new dw({next:m=>{d.eu(),s.enqueueAndForget(()=>nw(o,p)),m.fromCache&&u.source==="server"?c.reject(new H($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new rw(l,d,{includeMetadataChanges:!0,ua:!0});return tw(o,p)}(await pw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e,n){if(!n)throw new H($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yP(t,e,n,r){if(e===!0&&r===!0)throw new H($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zy(t){if(!G.isDocumentKey(t))throw new H($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Wy(t){if(G.isDocumentKey(t))throw new H($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wu(t);throw new H($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class Hu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PR;switch(r.type){case"firstParty":return new VR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=By.get(n);r&&(z("ComponentProvider","Removing Datastore"),By.delete(n),r.terminate())}(this),Promise.resolve()}}function vP(t,e,n,r={}){var i;const o=(t=Nr(t,Hu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=hC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new kR(new lE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class Sr extends Ro{constructor(e,n,r){super(e,n,Qf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new G(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Ld(t,e,...n){if(t=jn(t),gw("collection","path",e),t instanceof Hu){const r=Se.fromString(e,...n);return Wy(r),new Sr(t,null,r)}{if(!(t instanceof Rt||t instanceof Sr))throw new H($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Wy(r),new Sr(t.firestore,null,r)}}function qu(t,e,...n){if(t=jn(t),arguments.length===1&&(e=uE.newId()),gw("doc","path",e),t instanceof Hu){const r=Se.fromString(e,...n);return zy(r),new Rt(t,null,new G(r))}{if(!(t instanceof Rt||t instanceof Sr))throw new H($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return zy(r),new Rt(t.firestore,t instanceof Sr?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new KE(this,"async_queue_retry"),this.fu=()=>{const r=ah();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=ah();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=ah();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Vn;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Io(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Bn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=ap.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Q()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}let ca=class extends Hu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new qy,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qy(e),this._firestoreClient=void 0,await e}}};function Ku(t,e){const n=_R(),r="(default)",i=gR(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=uC("firestore");o&&vP(i,...o)}return i}function hp(t){if(t._terminated)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_P(t),t._firestoreClient}function _P(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,d){return new GR(l,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,mw(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new dP(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(nt.fromBase64String(e))}catch(n){throw new H($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=/^__.*__$/;class wP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms):new sa(e,this.data,n,this.fieldTransforms)}}class yw{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Mr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function vw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class mp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new mp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return cu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(vw(this.Mu)&&EP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class TP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uu(e)}$u(e,n,r,i=!1){return new mp({Mu:e,methodName:n,Ku:r,path:Je.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(t){const e=t._freezeSettings(),n=Uu(t._databaseId);return new TP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SP(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);yp("Data must be an object, but it was:",s,r);const l=_w(r,s);let u,c;if(o.merge)u=new Dt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const p of o.mergeFields){const m=bd(e,p,n);if(!s.contains(m))throw new H($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ww(d,m)||d.push(m)}u=new Dt(d),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new wP(new wt(l),u,c)}class Qu extends dp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qu}}function IP(t,e,n,r){const i=t.$u(1,e,n);yp("Data must be an object, but it was:",i,r);const o=[],s=wt.empty();br(r,(u,c)=>{const d=vp(e,u,n);c=jn(c);const p=i.Bu(d);if(c instanceof Qu)o.push(d);else{const m=ha(c,p);m!=null&&(o.push(d),s.set(d,m))}});const l=new Dt(o);return new yw(s,l,i.fieldTransforms)}function CP(t,e,n,r,i,o){const s=t.$u(1,e,n),l=[bd(e,r,n)],u=[i];if(o.length%2!=0)throw new H($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(bd(e,o[m])),u.push(o[m+1]);const c=[],d=wt.empty();for(let m=l.length-1;m>=0;--m)if(!ww(c,l[m])){const v=l[m];let C=u[m];C=jn(C);const P=s.Bu(v);if(C instanceof Qu)c.push(v);else{const k=ha(C,P);k!=null&&(c.push(v),d.set(v,k))}}const p=new Dt(c);return new yw(d,p,s.fieldTransforms)}function RP(t,e,n,r=!1){return ha(n,t.$u(r?4:3,e))}function ha(t,e){if(Ew(t=jn(t)))return yp("Unsupported field value:",e,t),_w(t,e);if(t instanceof dp)return function(r,i){if(!vw(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=ha(l,i.ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=jn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return gA(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Be.fromDate(r);return{timestampValue:su(i.serializer,o)}}if(r instanceof Be){const o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:su(i.serializer,o)}}if(r instanceof fp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:ME(i.serializer,r._byteString)};if(r instanceof Rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zf(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pp)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return Xf(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Wu(r)}`)}(t,e)}function _w(t,e){const n={};return cE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(t,(r,i)=>{const o=ha(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Ew(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof fp||t instanceof po||t instanceof Rt||t instanceof dp||t instanceof pp)}function yp(t,e,n){if(!Ew(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Wu(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function bd(t,e,n){if((e=jn(e))instanceof Gu)return e._internalPath;if(typeof e=="string")return vp(t,e);throw cu("Field path arguments must be of type string or ",t,!1,void 0,n)}const AP=new RegExp("[~\\*/\\[\\]]");function vp(t,e,n){if(e.search(AP)>=0)throw cu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gu(...e.split("."))._internalPath}catch{throw cu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H($.INVALID_ARGUMENT,l+t+u)}function ww(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(_p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xP extends Tw{data(){return super.data()}}function _p(t,e){return typeof e=="string"?vp(t,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ep{}class kP extends Ep{}function NP(t,e,...n){let r=[];e instanceof Ep&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof wp).length,l=o.filter(u=>u instanceof Xu).length;if(s>1||s>0&&l>0)throw new H($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Xu extends kP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xu(e,n,r)}_apply(e){const n=this._parse(e);return Sw(e._query,n),new Ro(e.firestore,e.converter,Cd(e._query,n))}_parse(e){const n=gp(e.firestore);return function(o,s,l,u,c,d,p){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new H($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Gy(p,d);const v=[];for(const C of p)v.push(Ky(u,o,C));m={arrayValue:{values:v}}}else m=Ky(u,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Gy(p,d),m=RP(l,s,p,d==="in"||d==="not-in");return Fe.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function DP(t,e,n){const r=e,i=_p("where",t);return Xu._create(i,r,n)}class wp extends Ep{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)Sw(s,u),s=Cd(s,u)}(e._query,n),new Ro(e.firestore,e.converter,Cd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ky(t,e,n){if(typeof(n=jn(n))=="string"){if(n==="")throw new H($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EE(e)&&n.indexOf("/")!==-1)throw new H($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!G.isDocumentKey(r))throw new H($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return py(t,new G(r))}if(n instanceof Rt)return py(t,n._key);throw new H($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wu(n)}.`)}function Gy(t,e){if(!Array.isArray(t)||t.length===0)throw new H($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Sw(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VP{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return br(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ve(s.doubleValue));return new pp(o)}convertGeoPoint(e){return new fp(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hs(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);fe(zE(r));const i=new dE(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iw extends Tw{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Il(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(_p("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Il extends Iw{data(e={}){return super.data(e)}}class LP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new as(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Il(this._firestore,this._userDataWriter,r.key,r,new as(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new Il(i._firestore,i._userDataWriter,l.doc.key,l.doc,new as(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new Il(i._firestore,i._userDataWriter,l.doc.key,l.doc,new as(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),d=s.indexOf(l.doc.key)),{type:bP(l.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function bP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(t){t=Nr(t,Rt);const e=Nr(t.firestore,ca);return mP(hp(e),t._key).then(n=>jP(e,t,n))}class Rw extends VP{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function MP(t){t=Nr(t,Ro);const e=Nr(t.firestore,ca),n=hp(e),r=new Rw(e);return PP(t._query),gP(n,t._query).then(i=>new LP(e,r,t,i))}function FP(t,e,n,...r){t=Nr(t,Rt);const i=Nr(t.firestore,ca),o=gp(i);let s;return s=typeof(e=jn(e))=="string"||e instanceof Gu?CP(o,"updateDoc",t._key,e,n,r):IP(o,"updateDoc",t._key,e),Aw(i,[s.toMutation(t._key,yn.exists(!0))])}function $P(t,e){const n=Nr(t.firestore,ca),r=qu(t),i=OP(t.converter,e);return Aw(n,[SP(gp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function Aw(t,e){return function(r,i){const o=new Vn;return r.asyncQueue.enqueueAndForget(async()=>rP(await pP(r),i,o)),o.promise}(hp(t),e)}function jP(t,e,n){const r=n.docs.get(e._key),i=new Rw(t);return new Iw(t,i,e._key,r,new as(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){To=i})(J0),Bs(new so("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new ca(new NR(r.getProvider("auth-internal")),new LR(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dE(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Tr(ly,"4.7.5",e),Tr(ly,"4.7.5","esm2017")})();var Tp={};Object.defineProperty(Tp,"__esModule",{value:!0});Tp.parse=KP;Tp.serialize=GP;const UP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,BP=/^[\u0021-\u003A\u003C-\u007E]*$/,zP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,WP=/^[\u0020-\u003A\u003D-\u007E]*$/,HP=Object.prototype.toString,qP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function KP(t,e){const n=new qP,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||QP;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const l=t.indexOf(";",o),u=l===-1?r:l;if(s>u){o=t.lastIndexOf(";",s-1)+1;continue}const c=Qy(t,o,s),d=Xy(t,s,c),p=t.slice(c,d);if(n[p]===void 0){let m=Qy(t,s+1,u),v=Xy(t,u,m);const C=i(t.slice(m,v));n[p]=C}o=u+1}while(o<r);return n}function Qy(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Xy(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function GP(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!UP.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!BP.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!zP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!WP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!XP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function QP(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function XP(t){return HP.call(t)==="[object Date]"}/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Md({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Yu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xw(t,e,n="/"){return YP(t,e,n,!1)}function YP(t,e,n,r){let i=typeof e=="string"?Yu(e):e,o=ci(i.pathname||"/",n);if(o==null)return null;let s=Pw(t);JP(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=uk(o);l=ak(s[u],c,r)}return l}function Pw(t,e=[],n=[],r=""){let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Le(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=On([r,u.relativePath]),d=n.concat(u);o.children&&o.children.length>0&&(Le(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Pw(o.children,e,d,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:ok(c,o.index),routesMeta:d})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of kw(o.path))i(o,s,u)}),e}function kw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=kw(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function JP(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ZP=/^:[\w-]+$/,ek=3,tk=2,nk=1,rk=10,ik=-2,Yy=t=>t==="*";function ok(t,e){let n=t.split("/"),r=n.length;return n.some(Yy)&&(r+=ik),e&&(r+=tk),n.filter(i=>!Yy(i)).reduce((i,o)=>i+(ZP.test(o)?ek:o===""?nk:rk),r)}function sk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ak(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=o==="/"?e:e.slice(o.length)||"/",p=hu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=hu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:On([o,p.pathname]),pathnameBase:fk(On([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=On([o,p.pathnameBase]))}return s}function hu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=lk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:d,isOptional:p},m)=>{if(d==="*"){let C=l[m]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function lk(t,e=!1,n=!0){Wn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function uk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function ck(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yu(t):t;return{pathname:n?n.startsWith("/")?n:hk(n,e):e,search:pk(r),hash:mk(i)}}function hk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function uh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Nw(t){let e=dk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Dw(t,e,n,r=!1){let i;typeof t=="string"?i=Yu(t):(i={...t},Le(!i.pathname||!i.pathname.includes("?"),uh("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),uh("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),uh("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=ck(i,l),c=s&&s!=="/"&&s.endsWith("/"),d=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}var On=t=>t.join("/").replace(/\/\/+/g,"/"),fk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Vw=["POST","PUT","PATCH","DELETE"];new Set(Vw);var yk=["GET",...Vw];new Set(yk);var Ao=E.createContext(null);Ao.displayName="DataRouter";var Ju=E.createContext(null);Ju.displayName="DataRouterState";var Ow=E.createContext({isTransitioning:!1});Ow.displayName="ViewTransition";var vk=E.createContext(new Map);vk.displayName="Fetchers";var _k=E.createContext(null);_k.displayName="Await";var Kn=E.createContext(null);Kn.displayName="Navigation";var Zu=E.createContext(null);Zu.displayName="Location";var Tn=E.createContext({outlet:null,matches:[],isDataRoute:!1});Tn.displayName="Route";var Sp=E.createContext(null);Sp.displayName="RouteError";function Ek(t,{relative:e}={}){Le(ec(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=E.useContext(Kn),{hash:i,pathname:o,search:s}=da(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:On([n,o])),r.createHref({pathname:l,search:s,hash:i})}function ec(){return E.useContext(Zu)!=null}function vi(){return Le(ec(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(Zu).location}var Lw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function bw(t){E.useContext(Kn).static||E.useLayoutEffect(t)}function wk(){let{isDataRoute:t}=E.useContext(Tn);return t?Ok():Tk()}function Tk(){Le(ec(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(Ao),{basename:e,navigator:n}=E.useContext(Kn),{matches:r}=E.useContext(Tn),{pathname:i}=vi(),o=JSON.stringify(Nw(r)),s=E.useRef(!1);return bw(()=>{s.current=!0}),E.useCallback((u,c={})=>{if(Wn(s.current,Lw),!s.current)return;if(typeof u=="number"){n.go(u);return}let d=Dw(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:On([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,i,t])}E.createContext(null);function Mw(){let{matches:t}=E.useContext(Tn),e=t[t.length-1];return e?e.params:{}}function da(t,{relative:e}={}){let{matches:n}=E.useContext(Tn),{pathname:r}=vi(),i=JSON.stringify(Nw(n));return E.useMemo(()=>Dw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Sk(t,e){return Fw(t,e)}function Fw(t,e,n,r){var w;Le(ec(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=E.useContext(Kn),{matches:o}=E.useContext(Tn),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",d=s&&s.route;{let y=d&&d.path||"";$w(u,!d||y.endsWith("*")||y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${y}"> to <Route path="${y==="/"?"*":`${y}/*`}">.`)}let p=vi(),m;if(e){let y=typeof e=="string"?Yu(e):e;Le(c==="/"||((w=y.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${y.pathname}" was given in the \`location\` prop.`),m=y}else m=p;let v=m.pathname||"/",C=v;if(c!=="/"){let y=c.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(y.length).join("/")}let P=xw(t,{pathname:C});Wn(d||P!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Wn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=xk(P&&P.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:On([c,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:On([c,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&k?E.createElement(Zu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},k):k}function Ik(){let t=Vk(),e=gk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:o},"ErrorBoundary")," or"," ",E.createElement("code",{style:o},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:i},n):null,s)}var Ck=E.createElement(Ik,null),Rk=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?E.createElement(Tn.Provider,{value:this.props.routeContext},E.createElement(Sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ak({routeContext:t,match:e,children:n}){let r=E.useContext(Ao);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(Tn.Provider,{value:t},n)}function xk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Le(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:d,errors:p}=n,m=c.route.loader&&!d.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,d)=>{let p,m=!1,v=null,C=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,v=c.route.errorElement||Ck,s&&(l<0&&d===0?($w("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):l===d&&(m=!0,C=c.route.hydrateFallbackElement||null)));let P=e.concat(i.slice(0,d+1)),k=()=>{let w;return p?w=v:m?w=C:c.route.Component?w=E.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=u,E.createElement(Ak,{match:c,routeContext:{outlet:u,matches:P,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?E.createElement(Rk,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}function Ip(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pk(t){let e=E.useContext(Ao);return Le(e,Ip(t)),e}function kk(t){let e=E.useContext(Ju);return Le(e,Ip(t)),e}function Nk(t){let e=E.useContext(Tn);return Le(e,Ip(t)),e}function Cp(t){let e=Nk(t),n=e.matches[e.matches.length-1];return Le(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Dk(){return Cp("useRouteId")}function Vk(){var r;let t=E.useContext(Sp),e=kk("useRouteError"),n=Cp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Ok(){let{router:t}=Pk("useNavigate"),e=Cp("useNavigate"),n=E.useRef(!1);return bw(()=>{n.current=!0}),E.useCallback(async(i,o={})=>{Wn(n.current,Lw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var Jy={};function $w(t,e,n){!e&&!Jy[t]&&(Jy[t]=!0,Wn(!1,n))}E.memo(Lk);function Lk({routes:t,future:e,state:n}){return Fw(t,void 0,n,e)}function Di(t){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bk({children:t,location:e}){return Sk(Fd(t),e)}function Fd(t,e=[]){let n=[];return E.Children.forEach(t,(r,i)=>{if(!E.isValidElement(r))return;let o=[...e,i];if(r.type===E.Fragment){n.push.apply(n,Fd(r.props.children,o));return}Le(r.type===Di,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Fd(r.props.children,o)),n.push(s)}),n}var Cl="get",Rl="application/x-www-form-urlencoded";function tc(t){return t!=null&&typeof t.tagName=="string"}function Mk(t){return tc(t)&&t.tagName.toLowerCase()==="button"}function Fk(t){return tc(t)&&t.tagName.toLowerCase()==="form"}function $k(t){return tc(t)&&t.tagName.toLowerCase()==="input"}function jk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Uk(t,e){return t.button===0&&(!e||e==="_self")&&!jk(t)}var rl=null;function Bk(){if(rl===null)try{new FormData(document.createElement("form"),0),rl=!1}catch{rl=!0}return rl}var zk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ch(t){return t!=null&&!zk.has(t)?(Wn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rl}"`),null):t}function Wk(t,e){let n,r,i,o,s;if(Fk(t)){let l=t.getAttribute("action");r=l?ci(l,e):null,n=t.getAttribute("method")||Cl,i=ch(t.getAttribute("enctype"))||Rl,o=new FormData(t)}else if(Mk(t)||$k(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?ci(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Cl,i=ch(t.getAttribute("formenctype"))||ch(l.getAttribute("enctype"))||Rl,o=new FormData(l,t),!Bk()){let{name:c,type:d,value:p}=t;if(d==="image"){let m=c?`${c}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else c&&o.append(c,p)}}else{if(tc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cl,r=null,i=Rl,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Rp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Hk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Kk(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Hk(o,n);return s.links?s.links():[]}return[]}));return Yk(r.flat(1).filter(qk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zy(t,e,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var d;return n[c].pathname!==u.pathname||((d=n[c].route.path)==null?void 0:d.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||l(u,c)):o==="data"?e.filter((u,c)=>{var p;let d=r.routes[u.route.id];if(!d||!d.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Gk(t,e){return Qk(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Qk(t){return[...new Set(t)]}function Xk(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Yk(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(Xk(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function Jk(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Zk(){let t=E.useContext(Ao);return Rp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function eN(){let t=E.useContext(Ju);return Rp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ap=E.createContext(void 0);Ap.displayName="FrameworkContext";function jw(){let t=E.useContext(Ap);return Rp(t,"You must render this element inside a <HydratedRouter> element"),t}function tN(t,e){let n=E.useContext(Ap),[r,i]=E.useState(!1),[o,s]=E.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:d,onTouchStart:p}=e,m=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let P=w=>{w.forEach(y=>{s(y.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return m.current&&k.observe(m.current),()=>{k.disconnect()}}},[t]),E.useEffect(()=>{if(r){let P=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(P)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,m,{}]:[o,m,{onFocus:Yo(l,v),onBlur:Yo(u,C),onMouseEnter:Yo(c,v),onMouseLeave:Yo(d,C),onTouchStart:Yo(p,v)}]:[!1,m,{}]}function Yo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function nN({page:t,...e}){let{router:n}=Zk(),r=E.useMemo(()=>xw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?E.createElement(iN,{page:t,matches:r,...e}):null}function rN(t){let{manifest:e,routeModules:n}=jw(),[r,i]=E.useState([]);return E.useEffect(()=>{let o=!1;return Kk(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function iN({page:t,matches:e,...n}){let r=vi(),{manifest:i,routeModules:o}=jw(),{loaderData:s,matches:l}=eN(),u=E.useMemo(()=>Zy(t,e,l,i,r,"data"),[t,e,l,i,r]),c=E.useMemo(()=>Zy(t,e,l,i,r,"assets"),[t,e,l,i,r]),d=E.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,C=!1;if(e.forEach(k=>{var y;let w=i.routes[k.route.id];!w||!w.hasLoader||(!u.some(S=>S.route.id===k.route.id)&&k.route.id in s&&((y=o[k.route.id])!=null&&y.shouldRevalidate)||w.hasClientLoader?C=!0:v.add(k.route.id))}),v.size===0)return[];let P=Jk(t);return C&&v.size>0&&P.searchParams.set("_routes",e.filter(k=>v.has(k.route.id)).map(k=>k.route.id).join(",")),[P.pathname+P.search]},[s,r,i,u,e,t,o]),p=E.useMemo(()=>Gk(c,i),[c,i]),m=rN(c);return E.createElement(E.Fragment,null,d.map(v=>E.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>E.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:C})=>E.createElement("link",{key:v,...C})))}function oN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Uw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Uw&&(window.__reactRouterVersion="7.1.0")}catch{}var Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,nc=E.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:d,viewTransition:p,...m},v){let{basename:C}=E.useContext(Kn),P=typeof c=="string"&&Bw.test(c),k,w=!1;if(typeof c=="string"&&P&&(k=c,Uw))try{let I=new URL(window.location.href),A=c.startsWith("//")?new URL(I.protocol+c):new URL(c),x=ci(A.pathname,C);A.origin===I.origin&&x!=null?c=x+A.search+A.hash:w=!0}catch{Wn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=Ek(c,{relative:i}),[S,D,b]=tN(r,m),L=lN(c,{replace:s,state:l,target:u,preventScrollReset:d,relative:i,viewTransition:p});function T(I){e&&e(I),I.defaultPrevented||L(I)}let g=E.createElement("a",{...m,...b,href:k||y,onClick:w||o?e:T,ref:oN(v,D),target:u,"data-discover":!P&&n==="render"?"true":void 0});return S&&!P?E.createElement(E.Fragment,null,g,E.createElement(nN,{page:y})):g});nc.displayName="Link";var Al=E.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:l,children:u,...c},d){let p=da(s,{relative:c.relative}),m=vi(),v=E.useContext(Ju),{navigator:C,basename:P}=E.useContext(Kn),k=v!=null&&fN(p)&&l===!0,w=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,y=m.pathname,S=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(y=y.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&P&&(S=ci(S,P)||S);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let b=y===w||!i&&y.startsWith(w)&&y.charAt(D)==="/",L=S!=null&&(S===w||!i&&S.startsWith(w)&&S.charAt(w.length)==="/"),T={isActive:b,isPending:L,isTransitioning:k},g=b?e:void 0,I;typeof r=="function"?I=r(T):I=[r,b?"active":null,L?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(T):o;return E.createElement(nc,{...c,"aria-current":g,className:I,ref:d,style:A,to:s,viewTransition:l},typeof u=="function"?u(T):u)});Al.displayName="NavLink";var sN=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Cl,action:l,onSubmit:u,relative:c,preventScrollReset:d,viewTransition:p,...m},v)=>{let C=hN(),P=dN(l,{relative:c}),k=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&Bw.test(l),y=S=>{if(u&&u(S),S.defaultPrevented)return;S.preventDefault();let D=S.nativeEvent.submitter,b=(D==null?void 0:D.getAttribute("formmethod"))||s;C(D||S.currentTarget,{fetcherKey:e,method:b,navigate:n,replace:i,state:o,relative:c,preventScrollReset:d,viewTransition:p})};return E.createElement("form",{ref:v,method:k,action:P,onSubmit:r?u:y,...m,"data-discover":!w&&t==="render"?"true":void 0})});sN.displayName="Form";function aN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zw(t){let e=E.useContext(Ao);return Le(e,aN(t)),e}function lN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=wk(),u=vi(),c=da(t,{relative:o});return E.useCallback(d=>{if(Uk(d,e)){d.preventDefault();let p=n!==void 0?n:Md(u)===Md(c);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,c,n,r,e,t,i,o,s])}var uN=0,cN=()=>`__${String(++uN)}__`;function hN(){let{router:t}=zw("useSubmit"),{basename:e}=E.useContext(Kn),n=Dk();return E.useCallback(async(r,i={})=>{let{action:o,method:s,encType:l,formData:u,body:c}=Wk(r,e);if(i.navigate===!1){let d=i.fetcherKey||cN();await t.fetch(d,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function dN(t,{relative:e}={}){let{basename:n}=E.useContext(Kn),r=E.useContext(Tn);Le(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...da(t||".",{relative:e})},s=vi();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(d=>d==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let d=l.toString();o.search=d?`?${d}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:On([n,o.pathname])),Md(o)}function fN(t,e={}){let n=E.useContext(Ow);Le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zw("useViewTransitionState"),i=da(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=ci(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=ci(n.nextLocation.pathname,r)||n.nextLocation.pathname;return hu(i.pathname,s)!=null||hu(i.pathname,o)!=null}new TextEncoder;var Ww={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Ww);var pN=Ww.exports;const Ee=Zs(pN);function $d(){return $d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$d.apply(null,arguments)}function Hw(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function ev(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function mN(t){var e=gN(t,"string");return typeof e=="symbol"?e:String(e)}function gN(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function yN(t,e,n){var r=E.useRef(t!==void 0),i=E.useState(e),o=i[0],s=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&o!==e&&s(e),[l?t:o,E.useCallback(function(c){for(var d=arguments.length,p=new Array(d>1?d-1:0),m=1;m<d;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),s(c)},[n])]}function xp(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[ev(r)],l=o[r],u=Hw(o,[ev(r),r].map(mN)),c=e[r],d=yN(l,s,t[c]),p=d[0],m=d[1];return $d({},u,(i={},i[r]=p,i[c]=m,i))},t)}function jd(t,e){return jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},jd(t,e)}function vN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,jd(t,e)}const _N=["xxl","xl","lg","md","sm","xs"],EN="xs",qw=E.createContext({prefixes:{},breakpoints:_N,minBreakpoint:EN});function De(t,e){const{prefixes:n}=E.useContext(qw);return t||n[e]||e}function wN(){const{dir:t}=E.useContext(qw);return t==="rtl"}function rc(t){return t&&t.ownerDocument||document}function TN(t){var e=rc(t);return e&&e.defaultView||window}function SN(t,e){return TN(t).getComputedStyle(t,e)}var IN=/([A-Z])/g;function CN(t){return t.replace(IN,"-$1").toLowerCase()}var RN=/^ms-/;function il(t){return CN(t).replace(RN,"-ms-")}var AN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function xN(t){return!!(t&&AN.test(t))}function Ln(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(il(e))||SN(t).getPropertyValue(il(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(il(i)):xN(i)?r+=i+"("+o+") ":n+=il(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Kw={exports:{}},PN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kN=PN,NN=kN;function Gw(){}function Qw(){}Qw.resetWarningCache=Gw;var DN=function(){function t(r,i,o,s,l,u){if(u!==NN){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Qw,resetWarningCache:Gw};return n.PropTypes=n,n};Kw.exports=DN();var VN=Kw.exports;const hh=Zs(VN),tv={disabled:!1},Xw=Ze.createContext(null);var ON=function(e){return e.scrollTop},ls="unmounted",ir="exited",en="entering",Pn="entered",Qs="exiting",Gn=function(t){vN(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=ir,o.appearStatus=en):u=Pn:r.unmountOnExit||r.mountOnEnter?u=ls:u=ir,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===ls?{status:ir}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==en&&s!==Pn&&(o=en):(s===en||s===Pn)&&(o=Qs)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===en){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Hi.findDOMNode(this);s&&ON(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ir&&this.setState({status:ls})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Hi.findDOMNode(this),l],c=u[0],d=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!s||tv.disabled){this.safeSetState({status:Pn},function(){o.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:en},function(){o.props.onEntering(c,d),o.onTransitionEnd(m,function(){o.safeSetState({status:Pn},function(){o.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Hi.findDOMNode(this);if(!o||tv.disabled){this.safeSetState({status:ir},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Qs},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ir},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Hi.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=u[0],d=u[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===ls)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Hw(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ze.createElement(Xw.Provider,{value:null},typeof s=="function"?s(i,l):Ze.cloneElement(Ze.Children.only(s),l))},e}(Ze.Component);Gn.contextType=Xw;Gn.propTypes={};function Ri(){}Gn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ri,onEntering:Ri,onEntered:Ri,onExit:Ri,onExiting:Ri,onExited:Ri};Gn.UNMOUNTED=ls;Gn.EXITED=ir;Gn.ENTERING=en;Gn.ENTERED=Pn;Gn.EXITING=Qs;function LN(t){return t.code==="Escape"||t.keyCode===27}function bN(){const t=E.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function ic(t){if(!t||typeof t=="function")return null;const{major:e}=bN();return e>=19?t.props.ref:t.ref}const oc=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ud=!1,Bd=!1;try{var dh={get passive(){return Ud=!0},get once(){return Bd=Ud=!0}};oc&&(window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,!0))}catch{}function Yw(t,e,n,r){if(r&&typeof r!="boolean"&&!Bd){var i=r.once,o=r.capture,s=n;!Bd&&i&&(s=n.__once||function l(u){this.removeEventListener(e,l,o),n.call(this,u)},n.__once=s),t.addEventListener(e,s,Ud?r:o)}t.addEventListener(e,n,r)}function MN(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function hr(t,e,n,r){return Yw(t,e,n,r),function(){MN(t,e,n,r)}}function FN(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function $N(t){var e=Ln(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function jN(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||FN(t,"transitionend",!0)},e+n),o=hr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function UN(t,e,n,r){n==null&&(n=$N(t)||0);var i=jN(t,n,r),o=hr(t,"transitionend",e);return function(){i(),o()}}function nv(t,e){const n=Ln(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function Pp(t,e){const n=nv(t,"transitionDuration"),r=nv(t,"transitionDelay"),i=UN(t,o=>{o.target===t&&(i(),e(o))},n+r)}function Jo(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function Jw(t){t.offsetHeight}const rv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function BN(t,e){const n=rv(t),r=rv(e);return i=>{n&&n(i),r&&r(i)}}function kp(t,e){return E.useMemo(()=>BN(t,e),[t,e])}function zN(t){return t&&"setState"in t?Hi.findDOMNode(t):t??null}const Np=Ze.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:l,childRef:u,...c},d)=>{const p=E.useRef(null),m=kp(p,u),v=L=>{m(zN(L))},C=L=>T=>{L&&p.current&&L(p.current,T)},P=E.useCallback(C(t),[t]),k=E.useCallback(C(e),[e]),w=E.useCallback(C(n),[n]),y=E.useCallback(C(r),[r]),S=E.useCallback(C(i),[i]),D=E.useCallback(C(o),[o]),b=E.useCallback(C(s),[s]);return V.jsx(Gn,{ref:d,...c,onEnter:P,onEntered:w,onEntering:k,onExit:y,onExited:D,onExiting:S,addEndListener:b,nodeRef:p,children:typeof l=="function"?(L,T)=>l(L,{...T,ref:v}):Ze.cloneElement(l,{ref:v})})}),WN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function HN(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=WN[t];return r+parseInt(Ln(e,i[0]),10)+parseInt(Ln(e,i[1]),10)}const qN={[ir]:"collapse",[Qs]:"collapsing",[en]:"collapsing",[Pn]:"collapse show"},KN=Ze.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:d=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:v=HN,...C},P)=>{const k=typeof l=="function"?l():l,w=E.useMemo(()=>Jo(L=>{L.style[k]="0"},t),[k,t]),y=E.useMemo(()=>Jo(L=>{const T=`scroll${k[0].toUpperCase()}${k.slice(1)}`;L.style[k]=`${L[T]}px`},e),[k,e]),S=E.useMemo(()=>Jo(L=>{L.style[k]=null},n),[k,n]),D=E.useMemo(()=>Jo(L=>{L.style[k]=`${v(k,L)}px`,Jw(L)},r),[r,v,k]),b=E.useMemo(()=>Jo(L=>{L.style[k]=null},i),[k,i]);return V.jsx(Np,{ref:P,addEndListener:Pp,...C,"aria-expanded":C.role?u:null,onEnter:w,onEntering:y,onEntered:S,onExit:D,onExiting:b,childRef:ic(s),in:u,timeout:c,mountOnEnter:d,unmountOnExit:p,appear:m,children:(L,T)=>Ze.cloneElement(s,{...T,className:Ee(o,s.props.className,qN[L],k==="width"&&"collapse-horizontal")})})});function GN(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function fa(t){const e=GN(t);return E.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const QN=t=>E.forwardRef((e,n)=>V.jsx("div",{...e,ref:n,className:Ee(e.className,t)}));function XN(){return E.useState(null)}function YN(t){const e=E.useRef(t);return E.useEffect(()=>{e.current=t},[t]),e}function dt(t){const e=YN(t);return E.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function JN(t,e,n,r=!1){const i=dt(n);E.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}function Zw(){const t=E.useRef(!0),e=E.useRef(()=>t.current);return E.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function e1(t){const e=E.useRef(null);return E.useEffect(()=>{e.current=t}),e.current}const ZN=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",eD=typeof document<"u",iv=eD||ZN?E.useLayoutEffect:E.useEffect,tD=["as","disabled"];function nD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function rD(t){return!t||t.trim()==="#"}function Dp({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const d=m=>{if((e||t==="a"&&rD(n))&&m.preventDefault(),e){m.stopPropagation();return}s==null||s(m)},p=m=>{m.key===" "&&(m.preventDefault(),d(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:d,onKeyDown:p},c]}const Vp=E.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=nD(t,tD);const[o,{tagName:s}]=Dp(Object.assign({tagName:n,disabled:r},i));return V.jsx(s,Object.assign({},i,o,{ref:e}))});Vp.displayName="Button";const iD=["onKeyDown"];function oD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sD(t){return!t||t.trim()==="#"}const Op=E.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=oD(t,iD);const[i]=Dp(Object.assign({tagName:"a"},r)),o=dt(s=>{i.onKeyDown(s),n==null||n(s)});return sD(r.href)||r.role==="button"?V.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):V.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Op.displayName="Anchor";const aD={[en]:"show",[Pn]:"show"},t1=E.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=E.useCallback((u,c)=>{Jw(u),r==null||r(u,c)},[r]);return V.jsx(Np,{ref:o,addEndListener:Pp,...s,onEnter:l,childRef:ic(e),children:(u,c)=>E.cloneElement(e,{...c,className:Ee("fade",t,e.props.className,aD[u],n[u])})})});t1.displayName="Fade";const lD={"aria-label":hh.string,onClick:hh.func,variant:hh.oneOf(["white"])},Lp=E.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>V.jsx("button",{ref:i,type:"button",className:Ee("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));Lp.displayName="CloseButton";Lp.propTypes=lD;const n1=E.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...l},u)=>{const c=De(e,"btn"),[d,{tagName:p}]=Dp({tagName:t,disabled:o,...l}),m=p;return V.jsx(m,{...d,...l,ref:u,disabled:o,className:Ee(s,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&o&&"disabled")})});n1.displayName="Button";const r1=E.createContext(null);r1.displayName="CardHeaderContext";var uD=Function.prototype.bind.call(Function.prototype.call,[].slice);function xn(t,e){return uD(t.querySelectorAll(e))}function cD(t,e,n){const r=E.useRef(t!==void 0),[i,o]=E.useState(e),s=t!==void 0,l=r.current;return r.current=s,!s&&l&&i!==e&&o(e),[s?t:i,E.useCallback((...u)=>{const[c,...d]=u;let p=n==null?void 0:n(c,...d);return o(c),p},[n])]}function i1(){const[,t]=E.useReducer(e=>e+1,0);return t}const sc=E.createContext(null);var ov=Object.prototype.hasOwnProperty;function sv(t,e,n){for(n of t.keys())if(Ts(n,e))return n}function Ts(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ts(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=sv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=sv(e,i),!i)||!Ts(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(ov.call(t,n)&&++r&&!ov.call(e,n)||!(n in e)||!Ts(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function hD(t){const e=Zw();return[t[0],E.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var At="top",Ht="bottom",qt="right",xt="left",bp="auto",pa=[At,Ht,qt,xt],mo="start",Xs="end",dD="clippingParents",o1="viewport",Zo="popper",fD="reference",av=pa.reduce(function(t,e){return t.concat([e+"-"+mo,e+"-"+Xs])},[]),s1=[].concat(pa,[bp]).reduce(function(t,e){return t.concat([e,e+"-"+mo,e+"-"+Xs])},[]),pD="beforeRead",mD="read",gD="afterRead",yD="beforeMain",vD="main",_D="afterMain",ED="beforeWrite",wD="write",TD="afterWrite",SD=[pD,mD,gD,yD,vD,_D,ED,wD,TD];function _n(t){return t.split("-")[0]}function Lt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hi(t){var e=Lt(t).Element;return t instanceof e||t instanceof Element}function En(t){var e=Lt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Mp(t){if(typeof ShadowRoot>"u")return!1;var e=Lt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ri=Math.max,du=Math.min,go=Math.round;function zd(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function a1(){return!/^((?!chrome|android).)*safari/i.test(zd())}function yo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&En(t)&&(i=t.offsetWidth>0&&go(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&go(r.height)/t.offsetHeight||1);var s=hi(t)?Lt(t):window,l=s.visualViewport,u=!a1()&&n,c=(r.left+(u&&l?l.offsetLeft:0))/i,d=(r.top+(u&&l?l.offsetTop:0))/o,p=r.width/i,m=r.height/o;return{width:p,height:m,top:d,right:c+p,bottom:d+m,left:c,x:c,y:d}}function Fp(t){var e=yo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function l1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Mp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Dr(t){return t?(t.nodeName||"").toLowerCase():null}function Hn(t){return Lt(t).getComputedStyle(t)}function ID(t){return["table","td","th"].indexOf(Dr(t))>=0}function Fr(t){return((hi(t)?t.ownerDocument:t.document)||window.document).documentElement}function ac(t){return Dr(t)==="html"?t:t.assignedSlot||t.parentNode||(Mp(t)?t.host:null)||Fr(t)}function lv(t){return!En(t)||Hn(t).position==="fixed"?null:t.offsetParent}function CD(t){var e=/firefox/i.test(zd()),n=/Trident/i.test(zd());if(n&&En(t)){var r=Hn(t);if(r.position==="fixed")return null}var i=ac(t);for(Mp(i)&&(i=i.host);En(i)&&["html","body"].indexOf(Dr(i))<0;){var o=Hn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function ma(t){for(var e=Lt(t),n=lv(t);n&&ID(n)&&Hn(n).position==="static";)n=lv(n);return n&&(Dr(n)==="html"||Dr(n)==="body"&&Hn(n).position==="static")?e:n||CD(t)||e}function $p(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ss(t,e,n){return ri(t,du(e,n))}function RD(t,e,n){var r=Ss(t,e,n);return r>n?n:r}function u1(){return{top:0,right:0,bottom:0,left:0}}function c1(t){return Object.assign({},u1(),t)}function h1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var AD=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,c1(typeof e!="number"?e:h1(e,pa))};function xD(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=_n(n.placement),u=$p(l),c=[xt,qt].indexOf(l)>=0,d=c?"height":"width";if(!(!o||!s)){var p=AD(i.padding,n),m=Fp(o),v=u==="y"?At:xt,C=u==="y"?Ht:qt,P=n.rects.reference[d]+n.rects.reference[u]-s[u]-n.rects.popper[d],k=s[u]-n.rects.reference[u],w=ma(o),y=w?u==="y"?w.clientHeight||0:w.clientWidth||0:0,S=P/2-k/2,D=p[v],b=y-m[d]-p[C],L=y/2-m[d]/2+S,T=Ss(D,L,b),g=u;n.modifiersData[r]=(e={},e[g]=T,e.centerOffset=T-L,e)}}function PD(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||l1(e.elements.popper,i)&&(e.elements.arrow=i))}const kD={name:"arrow",enabled:!0,phase:"main",fn:xD,effect:PD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vo(t){return t.split("-")[1]}var ND={top:"auto",right:"auto",bottom:"auto",left:"auto"};function DD(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:go(n*i)/i||0,y:go(r*i)/i||0}}function uv(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,p=t.isFixed,m=s.x,v=m===void 0?0:m,C=s.y,P=C===void 0?0:C,k=typeof d=="function"?d({x:v,y:P}):{x:v,y:P};v=k.x,P=k.y;var w=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),S=xt,D=At,b=window;if(c){var L=ma(n),T="clientHeight",g="clientWidth";if(L===Lt(n)&&(L=Fr(n),Hn(L).position!=="static"&&l==="absolute"&&(T="scrollHeight",g="scrollWidth")),L=L,i===At||(i===xt||i===qt)&&o===Xs){D=Ht;var I=p&&L===b&&b.visualViewport?b.visualViewport.height:L[T];P-=I-r.height,P*=u?1:-1}if(i===xt||(i===At||i===Ht)&&o===Xs){S=qt;var A=p&&L===b&&b.visualViewport?b.visualViewport.width:L[g];v-=A-r.width,v*=u?1:-1}}var x=Object.assign({position:l},c&&ND),N=d===!0?DD({x:v,y:P},Lt(n)):{x:v,y:P};if(v=N.x,P=N.y,u){var R;return Object.assign({},x,(R={},R[D]=y?"0":"",R[S]=w?"0":"",R.transform=(b.devicePixelRatio||1)<=1?"translate("+v+"px, "+P+"px)":"translate3d("+v+"px, "+P+"px, 0)",R))}return Object.assign({},x,(e={},e[D]=y?P+"px":"",e[S]=w?v+"px":"",e.transform="",e))}function VD(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:_n(e.placement),variation:vo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,uv(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,uv(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const OD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:VD,data:{}};var ol={passive:!0};function LD(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=Lt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(d){d.addEventListener("scroll",n.update,ol)}),l&&u.addEventListener("resize",n.update,ol),function(){o&&c.forEach(function(d){d.removeEventListener("scroll",n.update,ol)}),l&&u.removeEventListener("resize",n.update,ol)}}const bD={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:LD,data:{}};var MD={left:"right",right:"left",bottom:"top",top:"bottom"};function xl(t){return t.replace(/left|right|bottom|top/g,function(e){return MD[e]})}var FD={start:"end",end:"start"};function cv(t){return t.replace(/start|end/g,function(e){return FD[e]})}function jp(t){var e=Lt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Up(t){return yo(Fr(t)).left+jp(t).scrollLeft}function $D(t,e){var n=Lt(t),r=Fr(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var c=a1();(c||!c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Up(t),y:u}}function jD(t){var e,n=Fr(t),r=jp(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ri(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ri(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Up(t),u=-r.scrollTop;return Hn(i||n).direction==="rtl"&&(l+=ri(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function Bp(t){var e=Hn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function d1(t){return["html","body","#document"].indexOf(Dr(t))>=0?t.ownerDocument.body:En(t)&&Bp(t)?t:d1(ac(t))}function Is(t,e){var n;e===void 0&&(e=[]);var r=d1(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Lt(r),s=i?[o].concat(o.visualViewport||[],Bp(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(Is(ac(s)))}function Wd(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function UD(t,e){var n=yo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function hv(t,e,n){return e===o1?Wd($D(t,n)):hi(e)?UD(e,n):Wd(jD(Fr(t)))}function BD(t){var e=Is(ac(t)),n=["absolute","fixed"].indexOf(Hn(t).position)>=0,r=n&&En(t)?ma(t):t;return hi(r)?e.filter(function(i){return hi(i)&&l1(i,r)&&Dr(i)!=="body"}):[]}function zD(t,e,n,r){var i=e==="clippingParents"?BD(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,c){var d=hv(t,c,r);return u.top=ri(d.top,u.top),u.right=du(d.right,u.right),u.bottom=du(d.bottom,u.bottom),u.left=ri(d.left,u.left),u},hv(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function f1(t){var e=t.reference,n=t.element,r=t.placement,i=r?_n(r):null,o=r?vo(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case At:u={x:s,y:e.y-n.height};break;case Ht:u={x:s,y:e.y+e.height};break;case qt:u={x:e.x+e.width,y:l};break;case xt:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var c=i?$p(i):null;if(c!=null){var d=c==="y"?"height":"width";switch(o){case mo:u[c]=u[c]-(e[d]/2-n[d]/2);break;case Xs:u[c]=u[c]+(e[d]/2-n[d]/2);break}}return u}function Ys(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,u=l===void 0?dD:l,c=n.rootBoundary,d=c===void 0?o1:c,p=n.elementContext,m=p===void 0?Zo:p,v=n.altBoundary,C=v===void 0?!1:v,P=n.padding,k=P===void 0?0:P,w=c1(typeof k!="number"?k:h1(k,pa)),y=m===Zo?fD:Zo,S=t.rects.popper,D=t.elements[C?y:m],b=zD(hi(D)?D:D.contextElement||Fr(t.elements.popper),u,d,s),L=yo(t.elements.reference),T=f1({reference:L,element:S,strategy:"absolute",placement:i}),g=Wd(Object.assign({},S,T)),I=m===Zo?g:L,A={top:b.top-I.top+w.top,bottom:I.bottom-b.bottom+w.bottom,left:b.left-I.left+w.left,right:I.right-b.right+w.right},x=t.modifiersData.offset;if(m===Zo&&x){var N=x[i];Object.keys(A).forEach(function(R){var ee=[qt,Ht].indexOf(R)>=0?1:-1,me=[At,Ht].indexOf(R)>=0?"y":"x";A[R]+=N[me]*ee})}return A}function WD(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?s1:u,d=vo(r),p=d?l?av:av.filter(function(C){return vo(C)===d}):pa,m=p.filter(function(C){return c.indexOf(C)>=0});m.length===0&&(m=p);var v=m.reduce(function(C,P){return C[P]=Ys(t,{placement:P,boundary:i,rootBoundary:o,padding:s})[_n(P)],C},{});return Object.keys(v).sort(function(C,P){return v[C]-v[P]})}function HD(t){if(_n(t)===bp)return[];var e=xl(t);return[cv(t),e,cv(e)]}function qD(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,d=n.boundary,p=n.rootBoundary,m=n.altBoundary,v=n.flipVariations,C=v===void 0?!0:v,P=n.allowedAutoPlacements,k=e.options.placement,w=_n(k),y=w===k,S=u||(y||!C?[xl(k)]:HD(k)),D=[k].concat(S).reduce(function(de,ve){return de.concat(_n(ve)===bp?WD(e,{placement:ve,boundary:d,rootBoundary:p,padding:c,flipVariations:C,allowedAutoPlacements:P}):ve)},[]),b=e.rects.reference,L=e.rects.popper,T=new Map,g=!0,I=D[0],A=0;A<D.length;A++){var x=D[A],N=_n(x),R=vo(x)===mo,ee=[At,Ht].indexOf(N)>=0,me=ee?"width":"height",le=Ys(e,{placement:x,boundary:d,rootBoundary:p,altBoundary:m,padding:c}),he=ee?R?qt:xt:R?Ht:At;b[me]>L[me]&&(he=xl(he));var j=xl(he),K=[];if(o&&K.push(le[N]<=0),l&&K.push(le[he]<=0,le[j]<=0),K.every(function(de){return de})){I=x,g=!1;break}T.set(x,K)}if(g)for(var q=C?3:1,te=function(ve){var Ge=D.find(function(rt){var Kt=T.get(rt);if(Kt)return Kt.slice(0,ve).every(function(Sn){return Sn})});if(Ge)return I=Ge,"break"},J=q;J>0;J--){var oe=te(J);if(oe==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const KD={name:"flip",enabled:!0,phase:"main",fn:qD,requiresIfExists:["offset"],data:{_skip:!1}};function dv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function fv(t){return[At,qt,Ht,xt].some(function(e){return t[e]>=0})}function GD(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Ys(e,{elementContext:"reference"}),l=Ys(e,{altBoundary:!0}),u=dv(s,r),c=dv(l,i,o),d=fv(u),p=fv(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":p})}const QD={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:GD};function XD(t,e,n){var r=_n(t),i=[xt,At].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[xt,qt].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function YD(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=s1.reduce(function(d,p){return d[p]=XD(p,e.rects,o),d},{}),l=s[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const JD={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:YD};function ZD(t){var e=t.state,n=t.name;e.modifiersData[n]=f1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const e2={name:"popperOffsets",enabled:!0,phase:"read",fn:ZD,data:{}};function t2(t){return t==="x"?"y":"x"}function n2(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,d=n.altBoundary,p=n.padding,m=n.tether,v=m===void 0?!0:m,C=n.tetherOffset,P=C===void 0?0:C,k=Ys(e,{boundary:u,rootBoundary:c,padding:p,altBoundary:d}),w=_n(e.placement),y=vo(e.placement),S=!y,D=$p(w),b=t2(D),L=e.modifiersData.popperOffsets,T=e.rects.reference,g=e.rects.popper,I=typeof P=="function"?P(Object.assign({},e.rects,{placement:e.placement})):P,A=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),x=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(L){if(o){var R,ee=D==="y"?At:xt,me=D==="y"?Ht:qt,le=D==="y"?"height":"width",he=L[D],j=he+k[ee],K=he-k[me],q=v?-g[le]/2:0,te=y===mo?T[le]:g[le],J=y===mo?-g[le]:-T[le],oe=e.elements.arrow,de=v&&oe?Fp(oe):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:u1(),Ge=ve[ee],rt=ve[me],Kt=Ss(0,T[le],de[le]),Sn=S?T[le]/2-q-Kt-Ge-A.mainAxis:te-Kt-Ge-A.mainAxis,sn=S?-T[le]/2+q+Kt+rt+A.mainAxis:J+Kt+rt+A.mainAxis,an=e.elements.arrow&&ma(e.elements.arrow),Qn=an?D==="y"?an.clientTop||0:an.clientLeft||0:0,ln=(R=x==null?void 0:x[D])!=null?R:0,un=he+Sn-ln-Qn,ge=he+sn-ln,Xn=Ss(v?du(j,un):j,he,v?ri(K,ge):K);L[D]=Xn,N[D]=Xn-he}if(l){var Yn,dc=D==="x"?At:xt,va=D==="x"?Ht:qt,Gt=L[b],$r=b==="y"?"height":"width",_a=Gt+k[dc],Ei=Gt-k[va],jr=[At,xt].indexOf(w)!==-1,Po=(Yn=x==null?void 0:x[b])!=null?Yn:0,$e=jr?_a:Gt-T[$r]-g[$r]-Po+A.altAxis,We=jr?Gt+T[$r]+g[$r]-Po-A.altAxis:Ei,Ur=v&&jr?RD($e,Gt,We):Ss(v?$e:_a,Gt,v?We:Ei);L[b]=Ur,N[b]=Ur-Gt}e.modifiersData[r]=N}}const r2={name:"preventOverflow",enabled:!0,phase:"main",fn:n2,requiresIfExists:["offset"]};function i2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function o2(t){return t===Lt(t)||!En(t)?jp(t):i2(t)}function s2(t){var e=t.getBoundingClientRect(),n=go(e.width)/t.offsetWidth||1,r=go(e.height)/t.offsetHeight||1;return n!==1||r!==1}function a2(t,e,n){n===void 0&&(n=!1);var r=En(e),i=En(e)&&s2(e),o=Fr(e),s=yo(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Dr(e)!=="body"||Bp(o))&&(l=o2(e)),En(e)?(u=yo(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Up(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function l2(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function u2(t){var e=l2(t);return SD.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function c2(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function h2(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var pv={placement:"bottom",modifiers:[],strategy:"absolute"};function mv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function d2(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?pv:i;return function(l,u,c){c===void 0&&(c=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},pv,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],m=!1,v={state:d,setOptions:function(w){var y=typeof w=="function"?w(d.options):w;P(),d.options=Object.assign({},o,d.options,y),d.scrollParents={reference:hi(l)?Is(l):l.contextElement?Is(l.contextElement):[],popper:Is(u)};var S=u2(h2([].concat(r,d.options.modifiers)));return d.orderedModifiers=S.filter(function(D){return D.enabled}),C(),v.update()},forceUpdate:function(){if(!m){var w=d.elements,y=w.reference,S=w.popper;if(mv(y,S)){d.rects={reference:a2(y,ma(S),d.options.strategy==="fixed"),popper:Fp(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(A){return d.modifiersData[A.name]=Object.assign({},A.data)});for(var D=0;D<d.orderedModifiers.length;D++){if(d.reset===!0){d.reset=!1,D=-1;continue}var b=d.orderedModifiers[D],L=b.fn,T=b.options,g=T===void 0?{}:T,I=b.name;typeof L=="function"&&(d=L({state:d,options:g,name:I,instance:v})||d)}}}},update:c2(function(){return new Promise(function(k){v.forceUpdate(),k(d)})}),destroy:function(){P(),m=!0}};if(!mv(l,u))return v;v.setOptions(c).then(function(k){!m&&c.onFirstUpdate&&c.onFirstUpdate(k)});function C(){d.orderedModifiers.forEach(function(k){var w=k.name,y=k.options,S=y===void 0?{}:y,D=k.effect;if(typeof D=="function"){var b=D({state:d,name:w,instance:v,options:S}),L=function(){};p.push(b||L)}})}function P(){p.forEach(function(k){return k()}),p=[]}return v}}const f2=d2({defaultModifiers:[QD,e2,OD,bD,JD,KD,r2,kD]}),p2=["enabled","placement","strategy","modifiers"];function m2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const g2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},y2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},v2=[];function _2(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=v2}=n,l=m2(n,p2);const u=E.useRef(s),c=E.useRef(),d=E.useCallback(()=>{var k;(k=c.current)==null||k.update()},[]),p=E.useCallback(()=>{var k;(k=c.current)==null||k.forceUpdate()},[]),[m,v]=hD(E.useState({placement:i,update:d,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),C=E.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:k})=>{const w={},y={};Object.keys(k.elements).forEach(S=>{w[S]=k.styles[S],y[S]=k.attributes[S]}),v({state:k,styles:w,attributes:y,update:d,forceUpdate:p,placement:k.placement})}}),[d,p,v]),P=E.useMemo(()=>(Ts(u.current,s)||(u.current=s),u.current),[s]);return E.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:o,modifiers:[...P,C,g2]})},[o,i,C,r,P]),E.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=f2(t,e,Object.assign({},l,{placement:i,strategy:o,modifiers:[...P,y2,C]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,v(k=>Object.assign({},k,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function fu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var E2=function(){},w2=E2;const T2=Zs(w2),gv=()=>{};function S2(t){return t.button===0}function I2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const fh=t=>t&&("current"in t?t.current:t),yv={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function C2(t,e=gv,{disabled:n,clickTrigger:r="click"}={}){const i=E.useRef(!1),o=E.useRef(!1),s=E.useCallback(c=>{const d=fh(t);T2(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!d||I2(c)||!S2(c)||!!fu(d,c.target)||o.current,o.current=!1},[t]),l=dt(c=>{const d=fh(t);d&&fu(d,c.target)?o.current=!0:o.current=!1}),u=dt(c=>{i.current||e(c)});E.useEffect(()=>{var c,d;if(n||t==null)return;const p=rc(fh(t)),m=p.defaultView||window;let v=(c=m.event)!=null?c:(d=m.parent)==null?void 0:d.event,C=null;yv[r]&&(C=hr(p,yv[r],l,!0));const P=hr(p,r,s,!0),k=hr(p,r,y=>{if(y===v){v=void 0;return}u(y)});let w=[];return"ontouchstart"in p.documentElement&&(w=[].slice.call(p.body.children).map(y=>hr(y,"mousemove",gv))),()=>{C==null||C(),P(),k(),w.forEach(y=>y())}},[t,n,r,s,l,u])}function R2(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function A2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function x2({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:l,popperConfig:u={}}){var c,d,p,m,v;const C=R2(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:o?"fixed":u.strategy,modifiers:A2(Object.assign({},C,{eventListeners:{enabled:e,options:(c=C.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},C.preventOverflow,{options:s?Object.assign({padding:s},(d=C.preventOverflow)==null?void 0:d.options):(p=C.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=C.offset)==null?void 0:m.options)},arrow:Object.assign({},C.arrow,{enabled:!!l,options:Object.assign({},(v=C.arrow)==null?void 0:v.options,{element:l})}),flip:Object.assign({enabled:!!r},C.flip)}))})}const P2=["children","usePopper"];function k2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const N2=()=>{};function p1(t={}){const e=E.useContext(sc),[n,r]=XN(),i=E.useRef(!1),{flip:o,offset:s,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:d={},enableEventListeners:p=!0,usePopper:m=!!e}=t,v=(e==null?void 0:e.show)==null?!!t.show:e.show;v&&!i.current&&(i.current=!0);const C=L=>{e==null||e.toggle(!1,L)},{placement:P,setMenu:k,menuElement:w,toggleElement:y}=e||{},S=_2(y,w,x2({placement:c||P||"bottom-start",enabled:m,enableEvents:p??v,offset:s,flip:o,fixed:u,arrowElement:n,popperConfig:d})),D=Object.assign({ref:k||N2,"aria-labelledby":y==null?void 0:y.id},S.attributes.popper,{style:S.styles.popper}),b={show:v,placement:P,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?S:null,arrowProps:m?Object.assign({ref:r},S.attributes.arrow,{style:S.styles.arrow}):{}};return C2(w,C,{clickTrigger:l,disabled:!v}),[D,b]}function m1(t){let{children:e,usePopper:n=!0}=t,r=k2(t,P2);const[i,o]=p1(Object.assign({},r,{usePopper:n}));return V.jsx(V.Fragment,{children:e(i,o)})}m1.displayName="DropdownMenu";const pu={prefix:String(Math.round(Math.random()*1e10)),current:0},g1=Ze.createContext(pu),D2=Ze.createContext(!1);let V2=!!(typeof window<"u"&&window.document&&window.document.createElement),ph=new WeakMap;function O2(t=!1){let e=E.useContext(g1),n=E.useRef(null);if(n.current===null&&!t){var r,i;let o=(i=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=ph.get(o);s==null?ph.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,ph.delete(o))}n.current=++e.current}return n.current}function L2(t){let e=E.useContext(g1);e===pu&&!V2&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=O2(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function b2(t){let e=Ze.useId(),[n]=E.useState(U2()),r=n?"react-aria":`react-aria${pu.prefix}`;return t||`${r}-${e}`}const M2=typeof Ze.useId=="function"?b2:L2;function F2(){return!1}function $2(){return!0}function j2(t){return()=>{}}function U2(){return typeof Ze.useSyncExternalStore=="function"?Ze.useSyncExternalStore(j2,F2,$2):E.useContext(D2)}const y1=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},vv=()=>{};function v1(){const t=M2(),{show:e=!1,toggle:n=vv,setToggle:r,menuElement:i}=E.useContext(sc)||{},o=E.useCallback(l=>{n(!e,l)},[e,n]),s={id:t,ref:r||vv,onClick:o,"aria-expanded":!!e};return i&&y1(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function _1({children:t}){const[e,n]=v1();return V.jsx(V.Fragment,{children:t(e,n)})}_1.displayName="DropdownToggle";const di=E.createContext(null),Js=(t,e=null)=>t!=null?String(t):e||null,lc=E.createContext(null);lc.displayName="NavContext";const B2="data-rr-ui-",z2="rrUi";function xo(t){return`${B2}${t}`}function W2(t){return`${z2}${t}`}const H2=["eventKey","disabled","onClick","active","as"];function q2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function E1({key:t,href:e,active:n,disabled:r,onClick:i}){const o=E.useContext(di),s=E.useContext(lc),{activeKey:l}=s||{},u=Js(t,e),c=n==null&&t!=null?Js(l)===u:n;return[{onClick:dt(p=>{r||(i==null||i(p),o&&!p.isPropagationStopped()&&o(u,p))}),"aria-disabled":r||void 0,"aria-selected":c,[xo("dropdown-item")]:""},{isActive:c}]}const w1=E.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=Vp}=t,l=q2(t,H2);const[u]=E1({key:n,href:l.href,disabled:r,onClick:i,active:o});return V.jsx(s,Object.assign({},l,{ref:e},u))});w1.displayName="DropdownItem";const T1=E.createContext(oc?window:void 0);T1.Provider;function uc(){return E.useContext(T1)}function _v(){const t=i1(),e=E.useRef(null),n=E.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function ga({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${xo("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:l}){const u=uc(),[c,d]=cD(e,t,r),[p,m]=_v(),v=p.current,[C,P]=_v(),k=C.current,w=e1(c),y=E.useRef(null),S=E.useRef(!1),D=E.useContext(di),b=E.useCallback((x,N,R=N==null?void 0:N.type)=>{d(x,{originalEvent:N,source:R})},[d]),L=dt((x,N)=>{n==null||n(x,N),b(!1,N,"select"),N.isPropagationStopped()||D==null||D(x,N)}),T=E.useMemo(()=>({toggle:b,placement:s,show:c,menuElement:v,toggleElement:k,setMenu:m,setToggle:P}),[b,s,c,v,k,m,P]);v&&w&&!c&&(S.current=v.contains(v.ownerDocument.activeElement));const g=dt(()=>{k&&k.focus&&k.focus()}),I=dt(()=>{const x=y.current;let N=o;if(N==null&&(N=p.current&&y1(p.current)?"keyboard":!1),N===!1||N==="keyboard"&&!/^key.+$/.test(x))return;const R=xn(p.current,i)[0];R&&R.focus&&R.focus()});E.useEffect(()=>{c?I():S.current&&(S.current=!1,g())},[c,S,g,I]),E.useEffect(()=>{y.current=null});const A=(x,N)=>{if(!p.current)return null;const R=xn(p.current,i);let ee=R.indexOf(x)+N;return ee=Math.max(0,Math.min(ee,R.length)),R[ee]};return JN(E.useCallback(()=>u.document,[u]),"keydown",x=>{var N,R;const{key:ee}=x,me=x.target,le=(N=p.current)==null?void 0:N.contains(me),he=(R=C.current)==null?void 0:R.contains(me);if(/input|textarea/i.test(me.tagName)&&(ee===" "||ee!=="Escape"&&le||ee==="Escape"&&me.type==="search")||!le&&!he||ee==="Tab"&&(!p.current||!c))return;y.current=x.type;const K={originalEvent:x,source:x.type};switch(ee){case"ArrowUp":{const q=A(me,-1);q&&q.focus&&q.focus(),x.preventDefault();return}case"ArrowDown":if(x.preventDefault(),!c)d(!0,K);else{const q=A(me,1);q&&q.focus&&q.focus()}return;case"Tab":Yw(me.ownerDocument,"keyup",q=>{var te;(q.key==="Tab"&&!q.target||!((te=p.current)!=null&&te.contains(q.target)))&&d(!1,K)},{once:!0});break;case"Escape":ee==="Escape"&&(x.preventDefault(),x.stopPropagation()),d(!1,K);break}}),V.jsx(di.Provider,{value:L,children:V.jsx(sc.Provider,{value:T,children:l})})}ga.displayName="Dropdown";ga.Menu=m1;ga.Toggle=_1;ga.Item=w1;const zp=E.createContext({});zp.displayName="DropdownContext";const S1=E.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},o)=>(e=De(e,"dropdown-divider"),V.jsx(n,{ref:o,className:Ee(t,e),role:r,...i})));S1.displayName="DropdownDivider";const I1=E.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},o)=>(e=De(e,"dropdown-header"),V.jsx(n,{ref:o,className:Ee(t,e),role:r,...i})));I1.displayName="DropdownHeader";const C1=E.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=Op,...l},u)=>{const c=De(t,"dropdown-item"),[d,p]=E1({key:n,href:l.href,disabled:r,onClick:i,active:o});return V.jsx(s,{...l,...d,ref:u,className:Ee(e,c,p.isActive&&"active",r&&"disabled")})});C1.displayName="DropdownItem";const R1=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=De(e,"dropdown-item-text"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));R1.displayName="DropdownItemText";const K2=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",G2=typeof document<"u",A1=G2||K2?E.useLayoutEffect:E.useEffect,Wp=E.createContext(null);Wp.displayName="InputGroupContext";const _i=E.createContext(null);_i.displayName="NavbarContext";function x1(t,e){return t}function P1(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",d=n?"left-end":"right-end";let p=t?s:o;return e==="up"?p=t?i:r:e==="end"?p=t?d:c:e==="start"?p=t?u:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const k1=E.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:l="div",popperConfig:u,variant:c,...d},p)=>{let m=!1;const v=E.useContext(_i),C=De(t,"dropdown-menu"),{align:P,drop:k,isRTL:w}=E.useContext(zp);n=n||P;const y=E.useContext(Wp),S=[];if(n)if(typeof n=="object"){const x=Object.keys(n);if(x.length){const N=x[0],R=n[N];m=R==="start",S.push(`${C}-${N}-${R}`)}}else n==="end"&&(m=!0);const D=P1(m,k,w),[b,{hasShown:L,popper:T,show:g,toggle:I}]=p1({flip:i,rootCloseEvent:r,show:o,usePopper:!v&&S.length===0,offset:[0,2],popperConfig:u,placement:D});if(b.ref=kp(x1(p),b.ref),A1(()=>{g&&(T==null||T.update())},[g]),!L&&!s&&!y)return null;typeof l!="string"&&(b.show=g,b.close=()=>I==null?void 0:I(!1),b.align=n);let A=d.style;return T!=null&&T.placement&&(A={...d.style,...b.style},d["x-placement"]=T.placement),V.jsx(l,{...d,...b,style:A,...(S.length||v)&&{"data-bs-popper":"static"},className:Ee(e,C,g&&"show",m&&`${C}-end`,c&&`${C}-${c}`,...S)})});k1.displayName="DropdownMenu";const N1=E.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=n1,...o},s)=>{const l=De(t,"dropdown-toggle"),u=E.useContext(sc);r!==void 0&&(o.bsPrefix=r);const[c]=v1();return c.ref=kp(c.ref,x1(s)),V.jsx(i,{className:Ee(n,l,e&&`${l}-split`,(u==null?void 0:u.show)&&"show"),...c,...o})});N1.displayName="DropdownToggle";const D1=E.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:l,onToggle:u,focusFirstItemOnShow:c,as:d="div",navbar:p,autoClose:m=!0,...v}=xp(t,{show:"onToggle"}),C=E.useContext(Wp),P=De(n,"dropdown"),k=wN(),w=T=>m===!1?T==="click":m==="inside"?T!=="rootClose":m==="outside"?T!=="select":!0,y=fa((T,g)=>{var I;!((I=g.originalEvent)==null||(I=I.target)==null)&&I.classList.contains("dropdown-toggle")&&g.source==="mousedown"||(g.originalEvent.currentTarget===document&&(g.source!=="keydown"||g.originalEvent.key==="Escape")&&(g.source="rootClose"),w(g.source)&&(u==null||u(T,g)))}),D=P1(s==="end",r,k),b=E.useMemo(()=>({align:s,drop:r,isRTL:k}),[s,r,k]),L={down:P,"down-centered":`${P}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return V.jsx(zp.Provider,{value:b,children:V.jsx(ga,{placement:D,show:i,onSelect:l,onToggle:y,focusFirstItemOnShow:c,itemSelector:`.${P}-item:not(.disabled):not(:disabled)`,children:C?v.children:V.jsx(d,{...v,ref:e,className:Ee(o,i&&"show",L[r])})})})});D1.displayName="Dropdown";const Zr=Object.assign(D1,{Toggle:N1,Menu:k1,Item:C1,ItemText:R1,Divider:S1,Header:I1}),Ev=t=>!t||typeof t=="function"?t:e=>{t.current=e};function Q2(t,e){const n=Ev(t),r=Ev(e);return i=>{n&&n(i),r&&r(i)}}function cc(t,e){return E.useMemo(()=>Q2(t,e),[t,e])}const V1=E.createContext(null),X2=["as","active","eventKey"];function Y2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O1({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=E.useContext(di),l=E.useContext(lc),u=E.useContext(V1);let c=n;const d={role:i};if(l){!i&&l.role==="tablist"&&(d.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);d[xo("event-key")]=t,d.id=p||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(d["aria-controls"]=m)}return d.role==="tab"&&(d["aria-selected"]=c,c||(d.tabIndex=-1),o&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=dt(p=>{o||(e==null||e(p),t!=null&&s&&!p.isPropagationStopped()&&s(t,p))}),[d,{isActive:c}]}const L1=E.forwardRef((t,e)=>{let{as:n=Vp,active:r,eventKey:i}=t,o=Y2(t,X2);const[s,l]=O1(Object.assign({key:Js(i,o.href),active:r},o));return s[xo("active")]=l.isActive,V.jsx(n,Object.assign({},o,s,{ref:e}))});L1.displayName="NavItem";const J2=["as","onSelect","activeKey","role","onKeyDown"];function Z2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const wv=()=>{},Tv=xo("event-key"),b1=E.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,l=Z2(t,J2);const u=i1(),c=E.useRef(!1),d=E.useContext(di),p=E.useContext(V1);let m,v;p&&(o=o||"tablist",i=p.activeKey,m=p.getControlledId,v=p.getControllerId);const C=E.useRef(null),P=S=>{const D=C.current;if(!D)return null;const b=xn(D,`[${Tv}]:not([aria-disabled=true])`),L=D.querySelector("[aria-selected=true]");if(!L||L!==document.activeElement)return null;const T=b.indexOf(L);if(T===-1)return null;let g=T+S;return g>=b.length&&(g=0),g<0&&(g=b.length-1),b[g]},k=(S,D)=>{S!=null&&(r==null||r(S,D),d==null||d(S,D))},w=S=>{if(s==null||s(S),!p)return;let D;switch(S.key){case"ArrowLeft":case"ArrowUp":D=P(-1);break;case"ArrowRight":case"ArrowDown":D=P(1);break;default:return}D&&(S.preventDefault(),k(D.dataset[W2("EventKey")]||null,S),c.current=!0,u())};E.useEffect(()=>{if(C.current&&c.current){const S=C.current.querySelector(`[${Tv}][aria-selected=true]`);S==null||S.focus()}c.current=!1});const y=cc(e,C);return V.jsx(di.Provider,{value:k,children:V.jsx(lc.Provider,{value:{role:o,activeKey:Js(i),getControlledId:m||wv,getControllerId:v||wv},children:V.jsx(n,Object.assign({},l,{onKeyDown:w,ref:y,role:o}))})})});b1.displayName="Nav";const eV=Object.assign(b1,{Item:L1});function mh(t){t===void 0&&(t=rc());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function tV(t){const e=E.useRef(t);return e.current=t,e}function nV(t){const e=tV(t);E.useEffect(()=>()=>e.current(),[])}function rV(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Sv=xo("modal-open");class Hp{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return rV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Ln(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Sv,""),Ln(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Sv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const gh=(t,e)=>oc?t==null?(e||rc()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function iV(t,e){const n=uc(),[r,i]=E.useState(()=>gh(t,n==null?void 0:n.document));if(!r){const o=gh(t);o&&i(o)}return E.useEffect(()=>{},[e,r]),E.useEffect(()=>{const o=gh(t);o!==r&&i(o)},[t,r]),r}function oV({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=E.useRef(null),s=E.useRef(e),l=dt(n);E.useEffect(()=>{e?s.current=!0:l(o.current)},[e,l]);const u=cc(o,t.ref),c=E.cloneElement(t,{ref:u});return e?c:i||!s.current&&r?null:c}const sV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function aV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lV(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:l,children:u}=t,c=aV(t,sV);const d=E.useRef(null),p=cc(d,ic(u)),m=D=>b=>{D&&d.current&&D(d.current,b)},v=E.useCallback(m(e),[e]),C=E.useCallback(m(n),[n]),P=E.useCallback(m(r),[r]),k=E.useCallback(m(i),[i]),w=E.useCallback(m(o),[o]),y=E.useCallback(m(s),[s]),S=E.useCallback(m(l),[l]);return Object.assign({},c,{nodeRef:d},e&&{onEnter:v},n&&{onEntering:C},r&&{onEntered:P},i&&{onExit:k},o&&{onExiting:w},s&&{onExited:y},l&&{addEndListener:S},{children:typeof u=="function"?(D,b)=>u(D,Object.assign({},b,{ref:p})):E.cloneElement(u,{ref:p})})}const uV=["component"];function cV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const hV=E.forwardRef((t,e)=>{let{component:n}=t,r=cV(t,uV);const i=lV(r);return V.jsx(n,Object.assign({ref:e},i))});function dV({in:t,onTransition:e}){const n=E.useRef(null),r=E.useRef(!0),i=dt(e);return iv(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),iv(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function fV({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=E.useState(!e);e&&o&&s(!1);const l=dV({in:!!e,onTransition:c=>{const d=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(s(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(d,p=>{throw c.in||s(!0),p})}}),u=cc(l,t.ref);return o&&!e?null:E.cloneElement(t,{ref:u})}function Iv(t,e,n){return t?V.jsx(hV,Object.assign({},n,{component:t})):e?V.jsx(fV,Object.assign({},n,{transition:e})):V.jsx(oV,Object.assign({},n))}const pV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function mV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let yh;function gV(t){return yh||(yh=new Hp({ownerDocument:t==null?void 0:t.document})),yh}function yV(t){const e=uc(),n=t||gV(e),r=E.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:E.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:E.useCallback(i=>{r.current.backdrop=i},[])})}const M1=E.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:d,transition:p,runTransition:m,backdropTransition:v,runBackdropTransition:C,autoFocus:P=!0,enforceFocus:k=!0,restoreFocus:w=!0,restoreFocusOptions:y,renderDialog:S,renderBackdrop:D=ge=>V.jsx("div",Object.assign({},ge)),manager:b,container:L,onShow:T,onHide:g=()=>{},onExit:I,onExited:A,onExiting:x,onEnter:N,onEntering:R,onEntered:ee}=t,me=mV(t,pV);const le=uc(),he=iV(L),j=yV(b),K=Zw(),q=e1(n),[te,J]=E.useState(!n),oe=E.useRef(null);E.useImperativeHandle(e,()=>j,[j]),oc&&!q&&n&&(oe.current=mh(le==null?void 0:le.document)),n&&te&&J(!1);const de=dt(()=>{if(j.add(),sn.current=hr(document,"keydown",Kt),Sn.current=hr(document,"focus",()=>setTimeout(Ge),!0),T&&T(),P){var ge,Xn;const Yn=mh((ge=(Xn=j.dialog)==null?void 0:Xn.ownerDocument)!=null?ge:le==null?void 0:le.document);j.dialog&&Yn&&!fu(j.dialog,Yn)&&(oe.current=Yn,j.dialog.focus())}}),ve=dt(()=>{if(j.remove(),sn.current==null||sn.current(),Sn.current==null||Sn.current(),w){var ge;(ge=oe.current)==null||ge.focus==null||ge.focus(y),oe.current=null}});E.useEffect(()=>{!n||!he||de()},[n,he,de]),E.useEffect(()=>{te&&ve()},[te,ve]),nV(()=>{ve()});const Ge=dt(()=>{if(!k||!K()||!j.isTopModal())return;const ge=mh(le==null?void 0:le.document);j.dialog&&ge&&!fu(j.dialog,ge)&&j.dialog.focus()}),rt=dt(ge=>{ge.target===ge.currentTarget&&(c==null||c(ge),l===!0&&g())}),Kt=dt(ge=>{u&&LN(ge)&&j.isTopModal()&&(d==null||d(ge),ge.defaultPrevented||g())}),Sn=E.useRef(),sn=E.useRef(),an=(...ge)=>{J(!0),A==null||A(...ge)};if(!he)return null;const Qn=Object.assign({role:r,ref:j.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:o,className:i,tabIndex:-1});let ln=S?S(Qn):V.jsx("div",Object.assign({},Qn,{children:E.cloneElement(s,{role:"document"})}));ln=Iv(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:x,onExited:an,onEnter:N,onEntering:R,onEntered:ee,children:ln});let un=null;return l&&(un=D({ref:j.setBackdropRef,onClick:rt}),un=Iv(v,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:un})),V.jsx(V.Fragment,{children:Hi.createPortal(V.jsxs(V.Fragment,{children:[un,ln]}),he)})});M1.displayName="Modal";const vV=Object.assign(M1,{Manager:Hp});function _V(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function EV(t,e){t.classList?t.classList.add(e):_V(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function Cv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function wV(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=Cv(t.className,e):t.setAttribute("class",Cv(t.className&&t.className.baseVal||"",e))}const Ai={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class F1 extends Hp{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Ln(n,{[e]:`${parseFloat(Ln(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Ln(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(EV(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";xn(n,Ai.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),xn(n,Ai.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),xn(n,Ai.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();wV(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";xn(n,Ai.FIXED_CONTENT).forEach(o=>this.restore(r,o)),xn(n,Ai.STICKY_CONTENT).forEach(o=>this.restore(i,o)),xn(n,Ai.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let vh;function TV(t){return vh||(vh=new F1(t)),vh}const $1=E.createContext({onHide(){}}),SV=E.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const l=E.useContext($1),u=fa(()=>{l==null||l.onHide(),r==null||r()});return V.jsxs("div",{ref:s,...o,children:[i,n&&V.jsx(Lp,{"aria-label":t,variant:e,onClick:u})]})}),j1=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=De(e,"nav-item"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));j1.displayName="NavItem";const qp=E.forwardRef(({bsPrefix:t,className:e,as:n=Op,active:r,eventKey:i,disabled:o=!1,...s},l)=>{t=De(t,"nav-link");const[u,c]=O1({key:Js(i,s.href),active:r,disabled:o,...s});return V.jsx(n,{...s,...u,ref:l,disabled:o,className:Ee(e,t,o&&"disabled",c.isActive&&"active")})});qp.displayName="NavLink";const U1=E.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:l,navbarScroll:u,className:c,activeKey:d,...p}=xp(t,{activeKey:"onSelect"}),m=De(r,"nav");let v,C,P=!1;const k=E.useContext(_i),w=E.useContext(r1);return k?(v=k.bsPrefix,P=l??!0):w&&({cardHeaderBsPrefix:C}=w),V.jsx(eV,{as:n,ref:e,activeKey:d,className:Ee(c,{[m]:!P,[`${v}-nav`]:P,[`${v}-nav-scroll`]:P&&u,[`${C}-${i}`]:!!C,[`${m}-${i}`]:!!i,[`${m}-fill`]:o,[`${m}-justified`]:s}),...p})});U1.displayName="Nav";const Rv=Object.assign(U1,{Item:j1,Link:qp}),B1=E.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=De(t,"navbar-brand");const o=n||(r.href?"a":"span");return V.jsx(o,{...r,ref:i,className:Ee(e,t)})});B1.displayName="NavbarBrand";const z1=E.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=De(e,"navbar-collapse");const i=E.useContext(_i);return V.jsx(KN,{in:!!(i&&i.expanded),...n,children:V.jsx("div",{ref:r,className:e,children:t})})});z1.displayName="NavbarCollapse";const W1=E.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},l)=>{t=De(t,"navbar-toggler");const{onToggle:u,expanded:c}=E.useContext(_i)||{},d=fa(p=>{o&&o(p),u&&u()});return i==="button"&&(s.type="button"),V.jsx(i,{...s,ref:l,onClick:d,"aria-label":r,className:Ee(e,t,!c&&"collapsed"),children:n||V.jsx("span",{className:`${t}-icon`})})});W1.displayName="NavbarToggle";const Hd=new WeakMap,Av=(t,e)=>{if(!t||!e)return;const n=Hd.get(e)||new Map;Hd.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function IV(t,e=typeof window>"u"?void 0:window){const n=Av(t,e),[r,i]=E.useState(()=>n?n.matches:!1);return A1(()=>{let o=Av(t,e);if(!o)return i(!1);let s=Hd.get(e);const l=()=>{i(o.matches)};return o.refCount++,o.addListener(l),l(),()=>{o.removeListener(l),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function CV(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function o(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function s(l,u,c){let d;typeof l=="object"?(d=l,c=u,u=!0):(u=u||!0,d={[l]:u});let p=E.useMemo(()=>Object.entries(d).reduce((m,[v,C])=>((C==="up"||C===!0)&&(m=n(m,o(v))),(C==="down"||C===!0)&&(m=n(m,i(v))),m),""),[JSON.stringify(d)]);return IV(p,c)}return s}const RV=CV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),H1=E.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=De(e,"offcanvas-body"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));H1.displayName="OffcanvasBody";const AV={[en]:"show",[Pn]:"show"},q1=E.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...l},u)=>(t=De(t,"offcanvas"),V.jsx(Np,{ref:u,addEndListener:Pp,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...l,childRef:ic(n),children:(c,d)=>E.cloneElement(n,{...d,className:Ee(e,n.props.className,(c===en||c===Qs)&&`${t}-toggling`,AV[c])})})));q1.displayName="OffcanvasToggling";const K1=E.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=De(t,"offcanvas-header"),V.jsx(SV,{ref:o,...i,className:Ee(e,t),closeLabel:n,closeButton:r})));K1.displayName="OffcanvasHeader";const xV=QN("h5"),G1=E.forwardRef(({className:t,bsPrefix:e,as:n=xV,...r},i)=>(e=De(e,"offcanvas-title"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));G1.displayName="OffcanvasTitle";function PV(t){return V.jsx(q1,{...t})}function kV(t){return V.jsx(t1,{...t})}const Q1=E.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:d,onShow:p,onHide:m,container:v,autoFocus:C=!0,enforceFocus:P=!0,restoreFocus:k=!0,restoreFocusOptions:w,onEntered:y,onExit:S,onExiting:D,onEnter:b,onEntering:L,onExited:T,backdropClassName:g,manager:I,renderStaticNode:A=!1,...x},N)=>{const R=E.useRef();t=De(t,"offcanvas");const[ee,me]=E.useState(!1),le=fa(m),he=RV(o||"xs","up");E.useEffect(()=>{me(o?s&&!he:s)},[s,o,he]);const j=E.useMemo(()=>({onHide:le}),[le]);function K(){return I||(c?(R.current||(R.current=new F1({handleContainerOverflow:!1})),R.current):TV())}const q=(de,...ve)=>{de&&(de.style.visibility="visible"),b==null||b(de,...ve)},te=(de,...ve)=>{de&&(de.style.visibility=""),T==null||T(...ve)},J=E.useCallback(de=>V.jsx("div",{...de,className:Ee(`${t}-backdrop`,g)}),[g,t]),oe=de=>V.jsx("div",{...de,...x,className:Ee(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return V.jsxs(V.Fragment,{children:[!ee&&(o||A)&&oe({}),V.jsx($1.Provider,{value:j,children:V.jsx(vV,{show:ee,ref:N,backdrop:l,container:v,keyboard:u,autoFocus:C,enforceFocus:P&&!c,restoreFocus:k,restoreFocusOptions:w,onEscapeKeyDown:d,onShow:p,onHide:le,onEnter:q,onEntering:L,onEntered:y,onExit:S,onExiting:D,onExited:te,manager:K(),transition:PV,backdropTransition:kV,renderBackdrop:J,renderDialog:oe})})]})});Q1.displayName="Offcanvas";const NV=Object.assign(Q1,{Body:H1,Header:K1,Title:G1}),X1=E.forwardRef(({onHide:t,...e},n)=>{const r=E.useContext(_i),i=fa(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return V.jsx(NV,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});X1.displayName="NavbarOffcanvas";const Y1=E.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=De(e,"navbar-text"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));Y1.displayName="NavbarText";const J1=E.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:l,className:u,as:c="nav",expanded:d,onToggle:p,onSelect:m,collapseOnSelect:v=!1,...C}=xp(t,{expanded:"onToggle"}),P=De(n,"navbar"),k=E.useCallback((...S)=>{m==null||m(...S),v&&d&&(p==null||p(!1))},[m,v,d,p]);C.role===void 0&&c!=="nav"&&(C.role="navigation");let w=`${P}-expand`;typeof r=="string"&&(w=`${w}-${r}`);const y=E.useMemo(()=>({onToggle:()=>p==null?void 0:p(!d),bsPrefix:P,expanded:!!d,expand:r}),[P,d,r,p]);return V.jsx(_i.Provider,{value:y,children:V.jsx(di.Provider,{value:k,children:V.jsx(c,{ref:e,...C,className:Ee(u,P,r&&w,i&&`${P}-${i}`,o&&`bg-${o}`,l&&`sticky-${l}`,s&&`fixed-${s}`)})})})});J1.displayName="Navbar";const sl=Object.assign(J1,{Brand:B1,Collapse:z1,Offcanvas:X1,Text:Y1,Toggle:W1}),Z1=E.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:s,disabled:l,active:u,renderMenuOnMount:c,menuVariant:d,...p},m)=>{const v=De(void 0,"nav-item");return V.jsxs(Zr,{ref:m,...p,className:Ee(i,v),children:[V.jsx(Zr.Toggle,{id:t,eventKey:null,active:u,disabled:l,childBsPrefix:r,as:qp,children:e}),V.jsx(Zr.Menu,{role:s,renderOnMount:c,rootCloseEvent:o,variant:d,children:n})]})});Z1.displayName="NavDropdown";const _h=Object.assign(Z1,{Item:Zr.Item,ItemText:Zr.ItemText,Divider:Zr.Divider,Header:Zr.Header}),DV="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20strokeWidth='1.5'%20stroke='currentColor'%20className='icon-cart'%20%3e%3cpath%20strokeLinecap='round'%20strokeLinejoin='round'%20d='M15.75%2010.5V6a3.75%203.75%200%2010-7.5%200v4.5m11.356-1.993l1.263%2012c.07.665-.45%201.243-1.119%201.243H4.25a1.125%201.125%200%2001-1.12-1.243l1.264-12A1.125%201.125%200%20015.513%207.5h12.974c.576%200%201.059.435%201.119%201.007zM8.625%2010.5a.375.375%200%2011-.75%200%20.375.375%200%2001.75%200zm7.5%200a.375.375%200%2011-.75%200%20.375.375%200%2001.75%200z'%20/%3e%3c/svg%3e",ya=E.createContext(),VV=({children:t})=>{const[e,n]=E.useState([]),r=l=>{if(e.some(c=>c.id===l.id)){const c=e.map(d=>d.id==l.id?{...d,quantity:d.quantity+l.quantity}:d);n(c)}else n(c=>[...c,l])},i=()=>{n([])},o=l=>{const u=e.filter(c=>c.id!==l);n(u)},s=l=>e.reduce((u,c)=>{if(c.id==l)return u+c.quantity},0);return V.jsx(ya.Provider,{value:{items:e,addItem:r,reset:i,removeItems:o,getQuantity:s},children:t})},OV=()=>{const{items:t}=E.useContext(ya),e=t.reduce((n,r)=>n+r.quantity,0);return V.jsx(V.Fragment,{children:V.jsxs(nc,{to:"/cart",children:[V.jsx("img",{className:"imgCarrito",src:DV,style:{width:"30px",height:"auto"}}),V.jsx("span",{children:e>0&&e})]})})},LV=({allProducts:t,setAllProducts:e,total:n,countProducts:r,setCountProducts:i,setTotal:o})=>(E.useState(!1),V.jsxs(sl,{expand:"lg",style:{backgroundColor:"white",marginLeft:"1cm",marginRight:"1cm"},children:[V.jsx(sl.Brand,{as:Al,to:"/",style:{fontFamily:"'Playfair Display', serif",fontSize:"60px"},children:"Ragnarok Store"}),V.jsx(sl.Toggle,{"aria-controls":"basic-navbar-nav"}),V.jsxs(sl.Collapse,{id:"basic-navbar-nav",children:[V.jsx(Rv,{className:"me-auto",children:V.jsxs(_h,{id:"basic-nav-dropdown",children:[V.jsx(_h.Item,{as:Al,to:"/category/hombre",children:"Hombre"}),V.jsx(_h.Item,{as:Al,to:"/category/mujer",children:"Mujer"})]})}),V.jsx(Rv,{className:"ml-auto",children:V.jsx(OV,{})})]})]})),bV=({id:t,imageUrl:e,name:n,title:r,price:i})=>V.jsxs("div",{children:[V.jsx("figure",{children:V.jsx("img",{src:`/images/${e}`,alt:n})}),V.jsxs("div",{className:"info-product",children:[V.jsx("h2",{children:r}),V.jsxs("p",{className:"price",children:["$",i]}),V.jsx(nc,{to:`/items/${t}`,children:V.jsx("button",{children:"Ver ms"})})]})]}),MV=({allProducts:t,setAllProducts:e,countProducts:n,setCountProducts:r,total:i,setTotal:o})=>V.jsx("div",{className:"container-items",children:t.map(s=>V.jsx("div",{className:"item",children:V.jsx(bV,{id:s.id,imageUrl:s.imageUrl,name:s.productName,title:s.title,price:s.price})},s.id))}),xv=()=>{const[t,e]=E.useState([]),[n,r]=E.useState(!0),{id:i}=Mw();return E.useEffect(()=>{const o=Ku(),s=i?NP(Ld(o,"items"),DP("categoryId","==",i)):Ld(o,"items");MP(s).then(l=>{e(l.docs.map(u=>({id:u.id,...u.data()})))}).finally(()=>r(!1))},[i]),V.jsx(V.Fragment,{children:n?V.jsx("h5",{children:"Loading..."}):V.jsx(MV,{allProducts:t})})},FV="/ReactProyectoFinalMartinCuitino/assets/404-DBJzVZO4.png",eT=()=>V.jsx("div",{style:{textAlign:"center",padding:"50px"},children:V.jsx("img",{src:FV,alt:"404 Not Found"})}),$V=({categoryId:t,imageUrl:e,title:n,price:r,description:i,stock:o,handleAddToCart:s})=>V.jsxs("div",{children:[V.jsx("div",{children:V.jsxs("p",{children:["Category: ",t]})}),V.jsx("figure",{className:"image",children:V.jsx("img",{src:`/images/${e}`,alt:n})}),V.jsxs("div",{className:"info-product",children:[V.jsx("h2",{children:n}),V.jsxs("p",{className:"price",children:["$",r]}),V.jsx("p",{className:"description",children:i}),V.jsx("button",{onClick:s,children:"Agregar al carrito"}),V.jsxs("p",{children:["Stock: ",o]})]})]}),jV=()=>{const[t,e]=E.useState({}),[n,r]=E.useState(!0),{addItem:i,reset:o,getQuantity:s}=E.useContext(ya),[l,u]=E.useState(null),{id:c}=Mw();E.useEffect(()=>{const p=Ku(),m=qu(p,"items",c);Cw(m).then(v=>{e({id:v.id,...v.data()})}).finally(()=>r(!1))},[c]);const d=()=>{t.stock<=s(t.id)?u("No hay mas stock de este producto"):i({id:t.id,quantity:1})};return V.jsx("div",{children:t&&!n&&Object.keys(t).length>1?V.jsxs("div",{children:[V.jsx($V,{categoryId:t.categoryId,imageUrl:t.imageUrl,title:t.title,price:t.price,description:t.descripcion,stock:t.stock,handleAddToCart:d}),l&&V.jsx("div",{style:{color:"red",marginTop:"10px"},children:l})]}):!n&&V.jsx(eT,{})})},UV=({title:t,price:e,quantity:n})=>{const r=e*n;return V.jsxs("tr",{children:[V.jsx("td",{children:t}),V.jsxs("td",{children:["$",Number(e).toFixed(2)]}),V.jsx("td",{children:n}),V.jsxs("td",{children:["$",r.toFixed(2)]})]})},BV=({items:t})=>{const{reset:e}=E.useContext(ya),[n,r]=E.useState({name:"",lastName:"",phone:"",email:"",confirmEmail:""}),[i,o]=E.useState(""),[s,l]=E.useState(!1),u=t.reduce((m,v)=>m+v.price*v.quantity,0),c=E.useMemo(()=>!n.name||!n.lastName||!n.phone||!n.email||n.email!==n.confirmEmail?(o("Todos los campos son obligatorios y los emails deben coincidir. Ademas debe de haber al menos un item en el carrito"),!1):(o(""),!0),[n]),d=async()=>{if(!c)return;const m=Ku();l(!0);try{const v=t.map(async w=>{const y=qu(m,"items",w.id);await FP(y,{stock:w.stock-w.quantity})});await Promise.all(v);const C=Ld(m,"orders"),P={buyer:{name:n.name,lastName:n.lastName,phone:n.phone,email:n.email},items:t.map(({id:w,title:y,quantity:S,price:D})=>({id:w,title:y,quantity:S,price:D})),total:u,date:new Date().toISOString()},k=await $P(C,P);alert(`Gracias por tu compra. Tu ID de orden es: ${k.id}`),e(),r({name:"",lastName:"",phone:"",email:"",confirmEmail:""})}catch(v){console.error("Error procesando la orden:",v),alert("Hubo un error al procesar tu compra. Intntalo de nuevo.")}finally{l(!1)}},p=m=>{r({...n,[m.target.name]:m.target.value})};return V.jsxs("div",{children:[V.jsxs("table",{border:"1",style:{width:"100%",textAlign:"left",marginBottom:"20px"},children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Ttulo"}),V.jsx("th",{children:"Precio"}),V.jsx("th",{children:"Cantidad"}),V.jsx("th",{children:"Subtotal"})]})}),V.jsx("tbody",{children:t.map(m=>V.jsx(UV,{title:m.title,price:m.price,quantity:m.quantity},m.id))})]}),V.jsxs("h3",{children:["Total: $",u.toFixed(2)]}),V.jsxs("form",{style:{marginBottom:"20px"},children:[V.jsxs("div",{children:[V.jsx("label",{children:"Nombre: "}),V.jsx("input",{type:"text",name:"name",value:n.name,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Apellido: "}),V.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Telfono: "}),V.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Email: "}),V.jsx("input",{type:"email",name:"email",value:n.email,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Confirmar Email: "}),V.jsx("input",{type:"email",name:"confirmEmail",value:n.confirmEmail,onChange:p})]}),i&&V.jsx("div",{style:{color:"red",marginTop:"10px"},children:i})]}),V.jsx("button",{onClick:d,disabled:s||!c||t.length==0,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:s?"gray":"#007BFF",color:"white",cursor:s?"not-allowed":"pointer"},children:s?"Procesando...":"Finalizar Checkout"})]})},zV=()=>{const{items:t}=E.useContext(ya),[e,n]=E.useState([]),[r,i]=E.useState(!0);return E.useEffect(()=>{const o=Ku(),s=t.map(async l=>{const u=qu(o,"items",l.id);return Cw(u).then(c=>({id:c.id,quantity:l.quantity,...c.data()}))});Promise.all(s).then(l=>{n(l),i(!1)})},[t]),V.jsx(BV,{items:e})};function WV(){const[t,e]=E.useState([]),[n,r]=E.useState(0),[i,o]=E.useState(0);return V.jsx(V.Fragment,{children:V.jsx(VV,{children:V.jsxs(HashRouter,{basename:"/ReactProyectoFinalMartinCuitino/",children:[V.jsx(LV,{allProducts:t,setAllProducts:e,total:n,setTotal:r,countProducts:i,setCountProducts:o}),V.jsxs(bk,{children:[V.jsx(Di,{path:"/",element:V.jsx(xv,{})}),V.jsx(Di,{path:"/category/:id",element:V.jsx(xv,{})}),V.jsx(Di,{path:"/items/:id",element:V.jsx(jV,{})}),V.jsx(Di,{path:"/cart",element:V.jsx(zV,{})}),V.jsx(Di,{path:"*",element:V.jsx(eT,{})})]})]})})})}var HV="firebase",qV="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(HV,qV,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mu=new Bf("@firebase/firestore");function KV(t,...e){if(mu.logLevel<=ne.DEBUG){const n=e.map(tT);mu.debug(`Firestore (${hc}): ${t}`,...n)}}function GV(t,...e){if(mu.logLevel<=ne.ERROR){const n=e.map(tT);mu.error(`Firestore (${hc}): ${t}`,...n)}}function tT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t="Unexpected state"){const e=`FIRESTORE (${hc}) INTERNAL ASSERTION FAILED: `+t;throw GV(e),new Error(e)}function nT(t,e){t||QV()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="invalid-argument",Pv="failed-precondition";class dn extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class JV{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(nT(typeof e.accessToken=="string"),new XV(e.accessToken,new Ft(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class ZV{constructor(e,n,r){this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class eO{constructor(e,n,r){this.t=e,this.i=n,this.o=r}getToken(){return Promise.resolve(new ZV(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nO{constructor(e){this.h=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(nT(typeof e.token=="string"),new tO(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class gu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof gu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kv,ae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ae=kv||(kv={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;class Dv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new dn(or,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new dn(or,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(o,s,l,u){if(s===!0&&u===!0)throw new dn(or,`${o} and ${l} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new dn(or,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new dn(or,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new dn(or,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iO{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dn(Pv,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dn(Pv,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new YV;switch(r.type){case"firstParty":return new eO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new dn(or,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Nv.get(n);r&&(KV("ComponentProvider","Removing Datastore"),Nv.delete(n),r.terminate())}(this),Promise.resolve()}}(function(){(function(n){hc=n})(`${J0}_lite`),Bs(new so("firestore/lite",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new iO(new JV(e.getProvider("auth-internal")),new nO(e.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new dn(or,'"projectId" not provided in firebase.initializeApp.');return new gu(l.options.projectId,u)}(i,n),i);return r&&o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Tr("firestore-lite","4.7.5",""),Tr("firestore-lite","4.7.5","esm2017")})();const oO={apiKey:"AIzaSyDTjGQNhyMzUwhAa2hz-pcYQS4SwfzE8a0",authDomain:"entrega-react-martin-c.firebaseapp.com",projectId:"entrega-react-martin-c",storageBucket:"entrega-react-martin-c.firebasestorage.app",messagingSenderId:"680212623764",appId:"1:680212623764:web:f7a35222db956fe9605f81"};Z0(oO);Eh.createRoot(document.getElementById("root")).render(V.jsx(Ze.StrictMode,{children:V.jsx(WV,{})}));
