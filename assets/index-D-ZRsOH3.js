(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function ta(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bv={exports:{}},wu={},Mv={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var na=Symbol.for("react.element"),DT=Symbol.for("react.portal"),VT=Symbol.for("react.fragment"),OT=Symbol.for("react.strict_mode"),LT=Symbol.for("react.profiler"),bT=Symbol.for("react.provider"),MT=Symbol.for("react.context"),FT=Symbol.for("react.forward_ref"),$T=Symbol.for("react.suspense"),jT=Symbol.for("react.memo"),UT=Symbol.for("react.lazy"),zm=Symbol.iterator;function BT(t){return t===null||typeof t!="object"?null:(t=zm&&t[zm]||t["@@iterator"],typeof t=="function"?t:null)}var Fv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$v=Object.assign,jv={};function _o(t,e,n){this.props=t,this.context=e,this.refs=jv,this.updater=n||Fv}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uv(){}Uv.prototype=_o.prototype;function Gf(t,e,n){this.props=t,this.context=e,this.refs=jv,this.updater=n||Fv}var Qf=Gf.prototype=new Uv;Qf.constructor=Gf;$v(Qf,_o.prototype);Qf.isPureReactComponent=!0;var Wm=Array.isArray,Bv=Object.prototype.hasOwnProperty,Xf={current:null},zv={key:!0,ref:!0,__self:!0,__source:!0};function Wv(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Bv.call(e,r)&&!zv.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:na,type:t,key:o,ref:s,props:i,_owner:Xf.current}}function zT(t,e){return{$$typeof:na,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yf(t){return typeof t=="object"&&t!==null&&t.$$typeof===na}function WT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hm=/\/+/g;function kc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WT(""+t.key):e.toString(36)}function hl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case na:case DT:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+kc(s,0):r,Wm(i)?(n="",t!=null&&(n=t.replace(Hm,"$&/")+"/"),hl(i,e,n,"",function(c){return c})):i!=null&&(Yf(i)&&(i=zT(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Hm,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Wm(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+kc(o,l);s+=hl(o,e,n,u,i)}else if(u=BT(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+kc(o,l++),s+=hl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function $a(t,e,n){if(t==null)return t;var r=[],i=0;return hl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function HT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yt={current:null},fl={transition:null},qT={ReactCurrentDispatcher:yt,ReactCurrentBatchConfig:fl,ReactCurrentOwner:Xf};function Hv(){throw Error("act(...) is not supported in production builds of React.")}Z.Children={map:$a,forEach:function(t,e,n){$a(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $a(t,function(){e++}),e},toArray:function(t){return $a(t,function(e){return e})||[]},only:function(t){if(!Yf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=_o;Z.Fragment=VT;Z.Profiler=LT;Z.PureComponent=Gf;Z.StrictMode=OT;Z.Suspense=$T;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qT;Z.act=Hv;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=$v({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Xf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Bv.call(e,u)&&!zv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:na,type:t.type,key:i,ref:o,props:r,_owner:s}};Z.createContext=function(t){return t={$$typeof:MT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:bT,_context:t},t.Consumer=t};Z.createElement=Wv;Z.createFactory=function(t){var e=Wv.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:FT,render:t}};Z.isValidElement=Yf;Z.lazy=function(t){return{$$typeof:UT,_payload:{_status:-1,_result:t},_init:HT}};Z.memo=function(t,e){return{$$typeof:jT,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=fl.transition;fl.transition={};try{t()}finally{fl.transition=e}};Z.unstable_act=Hv;Z.useCallback=function(t,e){return yt.current.useCallback(t,e)};Z.useContext=function(t){return yt.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return yt.current.useDeferredValue(t)};Z.useEffect=function(t,e){return yt.current.useEffect(t,e)};Z.useId=function(){return yt.current.useId()};Z.useImperativeHandle=function(t,e,n){return yt.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return yt.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return yt.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return yt.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return yt.current.useReducer(t,e,n)};Z.useRef=function(t){return yt.current.useRef(t)};Z.useState=function(t){return yt.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return yt.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return yt.current.useTransition()};Z.version="18.3.1";Mv.exports=Z;var _=Mv.exports;const Ze=ta(_);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KT=_,GT=Symbol.for("react.element"),QT=Symbol.for("react.fragment"),XT=Object.prototype.hasOwnProperty,YT=KT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,JT={key:!0,ref:!0,__self:!0,__source:!0};function qv(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)XT.call(e,r)&&!JT.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GT,type:t,key:o,ref:s,props:i,_owner:YT.current}}wu.Fragment=QT;wu.jsx=qv;wu.jsxs=qv;bv.exports=wu;var V=bv.exports,wh={},Kv={exports:{}},bt={},Gv={exports:{}},Qv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,K){var q=j.length;j.push(K);e:for(;0<q;){var te=q-1>>>1,J=j[te];if(0<i(J,K))j[te]=K,j[q]=J,q=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var K=j[0],q=j.pop();if(q!==K){j[0]=q;e:for(var te=0,J=j.length,oe=J>>>1;te<oe;){var fe=2*(te+1)-1,ve=j[fe],Ge=fe+1,rt=j[Ge];if(0>i(ve,q))Ge<J&&0>i(rt,ve)?(j[te]=rt,j[Ge]=q,te=Ge):(j[te]=ve,j[fe]=q,te=fe);else if(Ge<J&&0>i(rt,q))j[te]=rt,j[Ge]=q,te=Ge;else break e}}return K}function i(j,K){var q=j.sortIndex-K.sortIndex;return q!==0?q:j.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,p=null,m=3,v=!1,C=!1,x=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(j){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=j)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function D(j){if(x=!1,T(j),!C)if(n(u)!==null)C=!0,le(L);else{var K=n(c);K!==null&&he(D,K.startTime-j)}}function L(j,K){C=!1,x&&(x=!1,w(y),y=-1),v=!0;var q=m;try{for(T(K),p=n(u);p!==null&&(!(p.expirationTime>K)||j&&!k());){var te=p.callback;if(typeof te=="function"){p.callback=null,m=p.priorityLevel;var J=te(p.expirationTime<=K);K=t.unstable_now(),typeof J=="function"?p.callback=J:p===n(u)&&r(u),T(K)}else r(u);p=n(u)}if(p!==null)var oe=!0;else{var fe=n(c);fe!==null&&he(D,fe.startTime-K),oe=!1}return oe}finally{p=null,m=q,v=!1}}var b=!1,S=null,y=-1,I=5,A=-1;function k(){return!(t.unstable_now()-A<I)}function N(){if(S!==null){var j=t.unstable_now();A=j;var K=!0;try{K=S(!0,j)}finally{K?R():(b=!1,S=null)}}else b=!1}var R;if(typeof g=="function")R=function(){g(N)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=N,R=function(){me.postMessage(null)}}else R=function(){P(N,0)};function le(j){S=j,b||(b=!0,R())}function he(j,K){y=P(function(){j(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){C||v||(C=!0,le(L))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(j){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var q=m;m=K;try{return j()}finally{m=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,K){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var q=m;m=j;try{return K()}finally{m=q}},t.unstable_scheduleCallback=function(j,K,q){var te=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?te+q:te):q=te,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=q+J,j={id:f++,callback:K,priorityLevel:j,startTime:q,expirationTime:J,sortIndex:-1},q>te?(j.sortIndex=q,e(c,j),n(u)===null&&j===n(c)&&(x?(w(y),y=-1):x=!0,he(D,q-te))):(j.sortIndex=J,e(u,j),C||v||(C=!0,le(L))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var K=m;return function(){var q=m;m=K;try{return j.apply(this,arguments)}finally{m=q}}}})(Qv);Gv.exports=Qv;var ZT=Gv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eS=_,Ot=ZT;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xv=new Set,Rs={};function di(t,e){Zi(t,e),Zi(t+"Capture",e)}function Zi(t,e){for(Rs[t]=e,t=0;t<e.length;t++)Xv.add(e[t])}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Th=Object.prototype.hasOwnProperty,tS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qm={},Km={};function nS(t){return Th.call(Km,t)?!0:Th.call(qm,t)?!1:tS.test(t)?Km[t]=!0:(qm[t]=!0,!1)}function rS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iS(t,e,n,r){if(e===null||typeof e>"u"||rS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function vt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new vt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new vt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new vt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new vt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new vt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new vt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new vt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new vt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new vt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function Zf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);tt[e]=new vt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jf,Zf);tt[e]=new vt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new vt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new vt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ed(t,e,n,r){var i=tt.hasOwnProperty(e)?tt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iS(e,n,i,r)&&(n=null),r||i===null?nS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Kn=eS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ja=Symbol.for("react.element"),Vi=Symbol.for("react.portal"),Oi=Symbol.for("react.fragment"),td=Symbol.for("react.strict_mode"),Sh=Symbol.for("react.profiler"),Yv=Symbol.for("react.provider"),Jv=Symbol.for("react.context"),nd=Symbol.for("react.forward_ref"),Ih=Symbol.for("react.suspense"),Ch=Symbol.for("react.suspense_list"),rd=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),Zv=Symbol.for("react.offscreen"),Gm=Symbol.iterator;function Wo(t){return t===null||typeof t!="object"?null:(t=Gm&&t[Gm]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Nc;function ts(t){if(Nc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nc=e&&e[1]||""}return`
`+Nc+t}var Dc=!1;function Vc(t,e){if(!t||Dc)return"";Dc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{Dc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ts(t):""}function oS(t){switch(t.tag){case 5:return ts(t.type);case 16:return ts("Lazy");case 13:return ts("Suspense");case 19:return ts("SuspenseList");case 0:case 2:case 15:return t=Vc(t.type,!1),t;case 11:return t=Vc(t.type.render,!1),t;case 1:return t=Vc(t.type,!0),t;default:return""}}function Rh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oi:return"Fragment";case Vi:return"Portal";case Sh:return"Profiler";case td:return"StrictMode";case Ih:return"Suspense";case Ch:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Jv:return(t.displayName||"Context")+".Consumer";case Yv:return(t._context.displayName||"Context")+".Provider";case nd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rd:return e=t.displayName||null,e!==null?e:Rh(t.type)||"Memo";case nr:e=t._payload,t=t._init;try{return Rh(t(e))}catch{}}return null}function sS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Rh(e);case 8:return e===td?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ir(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aS(t){var e=e_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ua(t){t._valueTracker||(t._valueTracker=aS(t))}function t_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Vl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ah(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qm(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ir(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n_(t,e){e=e.checked,e!=null&&ed(t,"checked",e,!1)}function xh(t,e){n_(t,e);var n=Ir(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ph(t,e.type,Ir(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xm(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ph(t,e,n){(e!=="number"||Vl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ns=Array.isArray;function qi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ir(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ym(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ns(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ir(n)}}function r_(t,e){var n=Ir(e.value),r=Ir(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Jm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function i_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?i_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ba,o_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ba=Ba||document.createElement("div"),Ba.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ba.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function As(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lS=["Webkit","ms","Moz","O"];Object.keys(cs).forEach(function(t){lS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cs[e]=cs[t]})});function s_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cs.hasOwnProperty(t)&&cs[t]?(""+e).trim():e+"px"}function a_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=s_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uS=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dh(t,e){if(e){if(uS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=null;function id(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lh=null,Ki=null,Gi=null;function Zm(t){if(t=oa(t)){if(typeof Lh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Ru(e),Lh(t.stateNode,t.type,e))}}function l_(t){Ki?Gi?Gi.push(t):Gi=[t]:Ki=t}function u_(){if(Ki){var t=Ki,e=Gi;if(Gi=Ki=null,Zm(t),e)for(t=0;t<e.length;t++)Zm(e[t])}}function c_(t,e){return t(e)}function h_(){}var Oc=!1;function f_(t,e,n){if(Oc)return t(e,n);Oc=!0;try{return c_(t,e,n)}finally{Oc=!1,(Ki!==null||Gi!==null)&&(h_(),u_())}}function xs(t,e){var n=t.stateNode;if(n===null)return null;var r=Ru(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var bh=!1;if(Fn)try{var Ho={};Object.defineProperty(Ho,"passive",{get:function(){bh=!0}}),window.addEventListener("test",Ho,Ho),window.removeEventListener("test",Ho,Ho)}catch{bh=!1}function cS(t,e,n,r,i,o,s,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var hs=!1,Ol=null,Ll=!1,Mh=null,hS={onError:function(t){hs=!0,Ol=t}};function fS(t,e,n,r,i,o,s,l,u){hs=!1,Ol=null,cS.apply(hS,arguments)}function dS(t,e,n,r,i,o,s,l,u){if(fS.apply(this,arguments),hs){if(hs){var c=Ol;hs=!1,Ol=null}else throw Error(U(198));Ll||(Ll=!0,Mh=c)}}function pi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eg(t){if(pi(t)!==t)throw Error(U(188))}function pS(t){var e=t.alternate;if(!e){if(e=pi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return eg(i),t;if(o===r)return eg(i),e;o=o.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function p_(t){return t=pS(t),t!==null?m_(t):null}function m_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=m_(t);if(e!==null)return e;t=t.sibling}return null}var g_=Ot.unstable_scheduleCallback,tg=Ot.unstable_cancelCallback,mS=Ot.unstable_shouldYield,gS=Ot.unstable_requestPaint,Le=Ot.unstable_now,yS=Ot.unstable_getCurrentPriorityLevel,od=Ot.unstable_ImmediatePriority,y_=Ot.unstable_UserBlockingPriority,bl=Ot.unstable_NormalPriority,vS=Ot.unstable_LowPriority,v_=Ot.unstable_IdlePriority,Tu=null,pn=null;function _S(t){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(Tu,t,void 0,(t.current.flags&128)===128)}catch{}}var tn=Math.clz32?Math.clz32:TS,ES=Math.log,wS=Math.LN2;function TS(t){return t>>>=0,t===0?32:31-(ES(t)/wS|0)|0}var za=64,Wa=4194304;function rs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ml(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=rs(l):(o&=s,o!==0&&(r=rs(o)))}else s=n&~i,s!==0?r=rs(s):o!==0&&(r=rs(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tn(e),i=1<<n,r|=t[n],e&=~i;return r}function SS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-tn(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=SS(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function Fh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function __(){var t=za;return za<<=1,!(za&4194240)&&(za=64),t}function Lc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ra(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tn(e),t[e]=n}function CS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-tn(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function sd(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var pe=0;function E_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w_,ad,T_,S_,I_,$h=!1,Ha=[],fr=null,dr=null,pr=null,Ps=new Map,ks=new Map,sr=[],RS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ng(t,e){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":pr=null;break;case"pointerover":case"pointerout":Ps.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(e.pointerId)}}function qo(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=oa(e),e!==null&&ad(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function AS(t,e,n,r,i){switch(e){case"focusin":return fr=qo(fr,t,e,n,r,i),!0;case"dragenter":return dr=qo(dr,t,e,n,r,i),!0;case"mouseover":return pr=qo(pr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ps.set(o,qo(Ps.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ks.set(o,qo(ks.get(o)||null,t,e,n,r,i)),!0}return!1}function C_(t){var e=Xr(t.target);if(e!==null){var n=pi(e);if(n!==null){if(e=n.tag,e===13){if(e=d_(n),e!==null){t.blockedOn=e,I_(t.priority,function(){T_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Oh=r,n.target.dispatchEvent(r),Oh=null}else return e=oa(n),e!==null&&ad(e),t.blockedOn=n,!1;e.shift()}return!0}function rg(t,e,n){dl(t)&&n.delete(e)}function xS(){$h=!1,fr!==null&&dl(fr)&&(fr=null),dr!==null&&dl(dr)&&(dr=null),pr!==null&&dl(pr)&&(pr=null),Ps.forEach(rg),ks.forEach(rg)}function Ko(t,e){t.blockedOn===e&&(t.blockedOn=null,$h||($h=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,xS)))}function Ns(t){function e(i){return Ko(i,t)}if(0<Ha.length){Ko(Ha[0],t);for(var n=1;n<Ha.length;n++){var r=Ha[n];r.blockedOn===t&&(r.blockedOn=null)}}for(fr!==null&&Ko(fr,t),dr!==null&&Ko(dr,t),pr!==null&&Ko(pr,t),Ps.forEach(e),ks.forEach(e),n=0;n<sr.length;n++)r=sr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<sr.length&&(n=sr[0],n.blockedOn===null);)C_(n),n.blockedOn===null&&sr.shift()}var Qi=Kn.ReactCurrentBatchConfig,Fl=!0;function PS(t,e,n,r){var i=pe,o=Qi.transition;Qi.transition=null;try{pe=1,ld(t,e,n,r)}finally{pe=i,Qi.transition=o}}function kS(t,e,n,r){var i=pe,o=Qi.transition;Qi.transition=null;try{pe=4,ld(t,e,n,r)}finally{pe=i,Qi.transition=o}}function ld(t,e,n,r){if(Fl){var i=jh(t,e,n,r);if(i===null)Hc(t,e,r,$l,n),ng(t,r);else if(AS(i,t,e,n,r))r.stopPropagation();else if(ng(t,r),e&4&&-1<RS.indexOf(t)){for(;i!==null;){var o=oa(i);if(o!==null&&w_(o),o=jh(t,e,n,r),o===null&&Hc(t,e,r,$l,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Hc(t,e,r,null,n)}}var $l=null;function jh(t,e,n,r){if($l=null,t=id(r),t=Xr(t),t!==null)if(e=pi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=d_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $l=t,null}function R_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yS()){case od:return 1;case y_:return 4;case bl:case vS:return 16;case v_:return 536870912;default:return 16}default:return 16}}var lr=null,ud=null,pl=null;function A_(){if(pl)return pl;var t,e=ud,n=e.length,r,i="value"in lr?lr.value:lr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return pl=i.slice(t,1<r?1-r:void 0)}function ml(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qa(){return!0}function ig(){return!1}function Mt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?qa:ig,this.isPropagationStopped=ig,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qa)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qa)},persist:function(){},isPersistent:qa}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cd=Mt(Eo),ia=Pe({},Eo,{view:0,detail:0}),NS=Mt(ia),bc,Mc,Go,Su=Pe({},ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Go&&(Go&&t.type==="mousemove"?(bc=t.screenX-Go.screenX,Mc=t.screenY-Go.screenY):Mc=bc=0,Go=t),bc)},movementY:function(t){return"movementY"in t?t.movementY:Mc}}),og=Mt(Su),DS=Pe({},Su,{dataTransfer:0}),VS=Mt(DS),OS=Pe({},ia,{relatedTarget:0}),Fc=Mt(OS),LS=Pe({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),bS=Mt(LS),MS=Pe({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FS=Mt(MS),$S=Pe({},Eo,{data:0}),sg=Mt($S),jS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},US={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zS(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=BS[t])?!!e[t]:!1}function hd(){return zS}var WS=Pe({},ia,{key:function(t){if(t.key){var e=jS[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ml(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?US[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(t){return t.type==="keypress"?ml(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ml(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HS=Mt(WS),qS=Pe({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=Mt(qS),KS=Pe({},ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),GS=Mt(KS),QS=Pe({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=Mt(QS),YS=Pe({},Su,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=Mt(YS),ZS=[9,13,27,32],fd=Fn&&"CompositionEvent"in window,fs=null;Fn&&"documentMode"in document&&(fs=document.documentMode);var eI=Fn&&"TextEvent"in window&&!fs,x_=Fn&&(!fd||fs&&8<fs&&11>=fs),lg=" ",ug=!1;function P_(t,e){switch(t){case"keyup":return ZS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function tI(t,e){switch(t){case"compositionend":return k_(e);case"keypress":return e.which!==32?null:(ug=!0,lg);case"textInput":return t=e.data,t===lg&&ug?null:t;default:return null}}function nI(t,e){if(Li)return t==="compositionend"||!fd&&P_(t,e)?(t=A_(),pl=ud=lr=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x_&&e.locale!=="ko"?null:e.data;default:return null}}var rI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rI[t.type]:e==="textarea"}function N_(t,e,n,r){l_(r),e=jl(e,"onChange"),0<e.length&&(n=new cd("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ds=null,Ds=null;function iI(t){B_(t,0)}function Iu(t){var e=Fi(t);if(t_(e))return t}function oI(t,e){if(t==="change")return e}var D_=!1;if(Fn){var $c;if(Fn){var jc="oninput"in document;if(!jc){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),jc=typeof hg.oninput=="function"}$c=jc}else $c=!1;D_=$c&&(!document.documentMode||9<document.documentMode)}function fg(){ds&&(ds.detachEvent("onpropertychange",V_),Ds=ds=null)}function V_(t){if(t.propertyName==="value"&&Iu(Ds)){var e=[];N_(e,Ds,t,id(t)),f_(iI,e)}}function sI(t,e,n){t==="focusin"?(fg(),ds=e,Ds=n,ds.attachEvent("onpropertychange",V_)):t==="focusout"&&fg()}function aI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Iu(Ds)}function lI(t,e){if(t==="click")return Iu(e)}function uI(t,e){if(t==="input"||t==="change")return Iu(e)}function cI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var rn=typeof Object.is=="function"?Object.is:cI;function Vs(t,e){if(rn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Th.call(e,i)||!rn(t[i],e[i]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pg(t,e){var n=dg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dg(n)}}function O_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L_(){for(var t=window,e=Vl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Vl(t.document)}return e}function dd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function hI(t){var e=L_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&O_(n.ownerDocument.documentElement,n)){if(r!==null&&dd(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=pg(n,o);var s=pg(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fI=Fn&&"documentMode"in document&&11>=document.documentMode,bi=null,Uh=null,ps=null,Bh=!1;function mg(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Bh||bi==null||bi!==Vl(r)||(r=bi,"selectionStart"in r&&dd(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ps&&Vs(ps,r)||(ps=r,r=jl(Uh,"onSelect"),0<r.length&&(e=new cd("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=bi)))}function Ka(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Mi={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},Uc={},b_={};Fn&&(b_=document.createElement("div").style,"AnimationEvent"in window||(delete Mi.animationend.animation,delete Mi.animationiteration.animation,delete Mi.animationstart.animation),"TransitionEvent"in window||delete Mi.transitionend.transition);function Cu(t){if(Uc[t])return Uc[t];if(!Mi[t])return t;var e=Mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in b_)return Uc[t]=e[n];return t}var M_=Cu("animationend"),F_=Cu("animationiteration"),$_=Cu("animationstart"),j_=Cu("transitionend"),U_=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(t,e){U_.set(t,e),di(e,[t])}for(var Bc=0;Bc<gg.length;Bc++){var zc=gg[Bc],dI=zc.toLowerCase(),pI=zc[0].toUpperCase()+zc.slice(1);Or(dI,"on"+pI)}Or(M_,"onAnimationEnd");Or(F_,"onAnimationIteration");Or($_,"onAnimationStart");Or("dblclick","onDoubleClick");Or("focusin","onFocus");Or("focusout","onBlur");Or(j_,"onTransitionEnd");Zi("onMouseEnter",["mouseout","mouseover"]);Zi("onMouseLeave",["mouseout","mouseover"]);Zi("onPointerEnter",["pointerout","pointerover"]);Zi("onPointerLeave",["pointerout","pointerover"]);di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));di("onBeforeInput",["compositionend","keypress","textInput","paste"]);di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mI=new Set("cancel close invalid load scroll toggle".split(" ").concat(is));function yg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,dS(r,e,void 0,t),t.currentTarget=null}function B_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;yg(i,l,c),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;yg(i,l,c),o=u}}}if(Ll)throw t=Mh,Ll=!1,Mh=null,t}function Te(t,e){var n=e[Kh];n===void 0&&(n=e[Kh]=new Set);var r=t+"__bubble";n.has(r)||(z_(e,t,2,!1),n.add(r))}function Wc(t,e,n){var r=0;e&&(r|=4),z_(n,t,r,e)}var Ga="_reactListening"+Math.random().toString(36).slice(2);function Os(t){if(!t[Ga]){t[Ga]=!0,Xv.forEach(function(n){n!=="selectionchange"&&(mI.has(n)||Wc(n,!1,t),Wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ga]||(e[Ga]=!0,Wc("selectionchange",!1,e))}}function z_(t,e,n,r){switch(R_(e)){case 1:var i=PS;break;case 4:i=kS;break;default:i=ld}n=i.bind(null,e,n,t),i=void 0,!bh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Hc(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=Xr(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}f_(function(){var c=o,f=id(n),p=[];e:{var m=U_.get(t);if(m!==void 0){var v=cd,C=t;switch(t){case"keypress":if(ml(n)===0)break e;case"keydown":case"keyup":v=HS;break;case"focusin":C="focus",v=Fc;break;case"focusout":C="blur",v=Fc;break;case"beforeblur":case"afterblur":v=Fc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=VS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=GS;break;case M_:case F_:case $_:v=bS;break;case j_:v=XS;break;case"scroll":v=NS;break;case"wheel":v=JS;break;case"copy":case"cut":case"paste":v=FS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ag}var x=(e&4)!==0,P=!x&&t==="scroll",w=x?m!==null?m+"Capture":null:m;x=[];for(var g=c,T;g!==null;){T=g;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,w!==null&&(D=xs(g,w),D!=null&&x.push(Ls(g,D,T)))),P)break;g=g.return}0<x.length&&(m=new v(m,C,null,n,f),p.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==Oh&&(C=n.relatedTarget||n.fromElement)&&(Xr(C)||C[$n]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(C=n.relatedTarget||n.toElement,v=c,C=C?Xr(C):null,C!==null&&(P=pi(C),C!==P||C.tag!==5&&C.tag!==6)&&(C=null)):(v=null,C=c),v!==C)){if(x=og,D="onMouseLeave",w="onMouseEnter",g="mouse",(t==="pointerout"||t==="pointerover")&&(x=ag,D="onPointerLeave",w="onPointerEnter",g="pointer"),P=v==null?m:Fi(v),T=C==null?m:Fi(C),m=new x(D,g+"leave",v,n,f),m.target=P,m.relatedTarget=T,D=null,Xr(f)===c&&(x=new x(w,g+"enter",C,n,f),x.target=T,x.relatedTarget=P,D=x),P=D,v&&C)t:{for(x=v,w=C,g=0,T=x;T;T=Ci(T))g++;for(T=0,D=w;D;D=Ci(D))T++;for(;0<g-T;)x=Ci(x),g--;for(;0<T-g;)w=Ci(w),T--;for(;g--;){if(x===w||w!==null&&x===w.alternate)break t;x=Ci(x),w=Ci(w)}x=null}else x=null;v!==null&&vg(p,m,v,x,!1),C!==null&&P!==null&&vg(p,P,C,x,!0)}}e:{if(m=c?Fi(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var L=oI;else if(cg(m))if(D_)L=uI;else{L=aI;var b=sI}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(L=lI);if(L&&(L=L(t,c))){N_(p,L,n,f);break e}b&&b(t,m,c),t==="focusout"&&(b=m._wrapperState)&&b.controlled&&m.type==="number"&&Ph(m,"number",m.value)}switch(b=c?Fi(c):window,t){case"focusin":(cg(b)||b.contentEditable==="true")&&(bi=b,Uh=c,ps=null);break;case"focusout":ps=Uh=bi=null;break;case"mousedown":Bh=!0;break;case"contextmenu":case"mouseup":case"dragend":Bh=!1,mg(p,n,f);break;case"selectionchange":if(fI)break;case"keydown":case"keyup":mg(p,n,f)}var S;if(fd)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Li?P_(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(x_&&n.locale!=="ko"&&(Li||y!=="onCompositionStart"?y==="onCompositionEnd"&&Li&&(S=A_()):(lr=f,ud="value"in lr?lr.value:lr.textContent,Li=!0)),b=jl(c,y),0<b.length&&(y=new sg(y,t,null,n,f),p.push({event:y,listeners:b}),S?y.data=S:(S=k_(n),S!==null&&(y.data=S)))),(S=eI?tI(t,n):nI(t,n))&&(c=jl(c,"onBeforeInput"),0<c.length&&(f=new sg("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=S))}B_(p,e)})}function Ls(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xs(t,n),o!=null&&r.unshift(Ls(t,o,i)),o=xs(t,e),o!=null&&r.push(Ls(t,o,i))),t=t.return}return r}function Ci(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vg(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,i?(u=xs(n,o),u!=null&&s.unshift(Ls(n,u,l))):i||(u=xs(n,o),u!=null&&s.push(Ls(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var gI=/\r\n?/g,yI=/\u0000|\uFFFD/g;function _g(t){return(typeof t=="string"?t:""+t).replace(gI,`
`).replace(yI,"")}function Qa(t,e,n){if(e=_g(e),_g(t)!==e&&n)throw Error(U(425))}function Ul(){}var zh=null,Wh=null;function Hh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,vI=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,_I=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(t){return Eg.resolve(null).then(t).catch(EI)}:qh;function EI(t){setTimeout(function(){throw t})}function qc(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Ns(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ns(e)}function mr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wo=Math.random().toString(36).slice(2),dn="__reactFiber$"+wo,bs="__reactProps$"+wo,$n="__reactContainer$"+wo,Kh="__reactEvents$"+wo,wI="__reactListeners$"+wo,TI="__reactHandles$"+wo;function Xr(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$n]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wg(t);t!==null;){if(n=t[dn])return n;t=wg(t)}return e}t=n,n=t.parentNode}return null}function oa(t){return t=t[dn]||t[$n],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Ru(t){return t[bs]||null}var Gh=[],$i=-1;function Lr(t){return{current:t}}function Ie(t){0>$i||(t.current=Gh[$i],Gh[$i]=null,$i--)}function _e(t,e){$i++,Gh[$i]=t.current,t.current=e}var Cr={},dt=Lr(Cr),St=Lr(!1),oi=Cr;function eo(t,e){var n=t.type.contextTypes;if(!n)return Cr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function It(t){return t=t.childContextTypes,t!=null}function Bl(){Ie(St),Ie(dt)}function Tg(t,e,n){if(dt.current!==Cr)throw Error(U(168));_e(dt,e),_e(St,n)}function W_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,sS(t)||"Unknown",i));return Pe({},n,r)}function zl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Cr,oi=dt.current,_e(dt,t),_e(St,St.current),!0}function Sg(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=W_(t,e,oi),r.__reactInternalMemoizedMergedChildContext=t,Ie(St),Ie(dt),_e(dt,t)):Ie(St),_e(St,n)}var Pn=null,Au=!1,Kc=!1;function H_(t){Pn===null?Pn=[t]:Pn.push(t)}function SI(t){Au=!0,H_(t)}function br(){if(!Kc&&Pn!==null){Kc=!0;var t=0,e=pe;try{var n=Pn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Pn=null,Au=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(t+1)),g_(od,br),i}finally{pe=e,Kc=!1}}return null}var ji=[],Ui=0,Wl=null,Hl=0,$t=[],jt=0,si=null,Dn=1,Vn="";function Kr(t,e){ji[Ui++]=Hl,ji[Ui++]=Wl,Wl=t,Hl=e}function q_(t,e,n){$t[jt++]=Dn,$t[jt++]=Vn,$t[jt++]=si,si=t;var r=Dn;t=Vn;var i=32-tn(r)-1;r&=~(1<<i),n+=1;var o=32-tn(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Dn=1<<32-tn(e)+i|n<<i|r,Vn=o+t}else Dn=1<<o|n<<i|r,Vn=t}function pd(t){t.return!==null&&(Kr(t,1),q_(t,1,0))}function md(t){for(;t===Wl;)Wl=ji[--Ui],ji[Ui]=null,Hl=ji[--Ui],ji[Ui]=null;for(;t===si;)si=$t[--jt],$t[jt]=null,Vn=$t[--jt],$t[jt]=null,Dn=$t[--jt],$t[jt]=null}var Vt=null,Nt=null,Ce=!1,Zt=null;function K_(t,e){var n=Ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ig(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=mr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vt=t,Nt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=si!==null?{id:Dn,overflow:Vn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vt=t,Nt=null,!0):!1;default:return!1}}function Qh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Xh(t){if(Ce){var e=Nt;if(e){var n=e;if(!Ig(t,e)){if(Qh(t))throw Error(U(418));e=mr(n.nextSibling);var r=Vt;e&&Ig(t,e)?K_(r,n):(t.flags=t.flags&-4097|2,Ce=!1,Vt=t)}}else{if(Qh(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ce=!1,Vt=t}}}function Cg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vt=t}function Xa(t){if(t!==Vt)return!1;if(!Ce)return Cg(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Hh(t.type,t.memoizedProps)),e&&(e=Nt)){if(Qh(t))throw G_(),Error(U(418));for(;e;)K_(t,e),e=mr(e.nextSibling)}if(Cg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nt=mr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nt=null}}else Nt=Vt?mr(t.stateNode.nextSibling):null;return!0}function G_(){for(var t=Nt;t;)t=mr(t.nextSibling)}function to(){Nt=Vt=null,Ce=!1}function gd(t){Zt===null?Zt=[t]:Zt.push(t)}var II=Kn.ReactCurrentBatchConfig;function Qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ya(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rg(t){var e=t._init;return e(t._payload)}function Q_(t){function e(w,g){if(t){var T=w.deletions;T===null?(w.deletions=[g],w.flags|=16):T.push(g)}}function n(w,g){if(!t)return null;for(;g!==null;)e(w,g),g=g.sibling;return null}function r(w,g){for(w=new Map;g!==null;)g.key!==null?w.set(g.key,g):w.set(g.index,g),g=g.sibling;return w}function i(w,g){return w=_r(w,g),w.index=0,w.sibling=null,w}function o(w,g,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<g?(w.flags|=2,g):T):(w.flags|=2,g)):(w.flags|=1048576,g)}function s(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,g,T,D){return g===null||g.tag!==6?(g=eh(T,w.mode,D),g.return=w,g):(g=i(g,T),g.return=w,g)}function u(w,g,T,D){var L=T.type;return L===Oi?f(w,g,T.props.children,D,T.key):g!==null&&(g.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===nr&&Rg(L)===g.type)?(D=i(g,T.props),D.ref=Qo(w,g,T),D.return=w,D):(D=Tl(T.type,T.key,T.props,null,w.mode,D),D.ref=Qo(w,g,T),D.return=w,D)}function c(w,g,T,D){return g===null||g.tag!==4||g.stateNode.containerInfo!==T.containerInfo||g.stateNode.implementation!==T.implementation?(g=th(T,w.mode,D),g.return=w,g):(g=i(g,T.children||[]),g.return=w,g)}function f(w,g,T,D,L){return g===null||g.tag!==7?(g=ni(T,w.mode,D,L),g.return=w,g):(g=i(g,T),g.return=w,g)}function p(w,g,T){if(typeof g=="string"&&g!==""||typeof g=="number")return g=eh(""+g,w.mode,T),g.return=w,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ja:return T=Tl(g.type,g.key,g.props,null,w.mode,T),T.ref=Qo(w,null,g),T.return=w,T;case Vi:return g=th(g,w.mode,T),g.return=w,g;case nr:var D=g._init;return p(w,D(g._payload),T)}if(ns(g)||Wo(g))return g=ni(g,w.mode,T,null),g.return=w,g;Ya(w,g)}return null}function m(w,g,T,D){var L=g!==null?g.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return L!==null?null:l(w,g,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case ja:return T.key===L?u(w,g,T,D):null;case Vi:return T.key===L?c(w,g,T,D):null;case nr:return L=T._init,m(w,g,L(T._payload),D)}if(ns(T)||Wo(T))return L!==null?null:f(w,g,T,D,null);Ya(w,T)}return null}function v(w,g,T,D,L){if(typeof D=="string"&&D!==""||typeof D=="number")return w=w.get(T)||null,l(g,w,""+D,L);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ja:return w=w.get(D.key===null?T:D.key)||null,u(g,w,D,L);case Vi:return w=w.get(D.key===null?T:D.key)||null,c(g,w,D,L);case nr:var b=D._init;return v(w,g,T,b(D._payload),L)}if(ns(D)||Wo(D))return w=w.get(T)||null,f(g,w,D,L,null);Ya(g,D)}return null}function C(w,g,T,D){for(var L=null,b=null,S=g,y=g=0,I=null;S!==null&&y<T.length;y++){S.index>y?(I=S,S=null):I=S.sibling;var A=m(w,S,T[y],D);if(A===null){S===null&&(S=I);break}t&&S&&A.alternate===null&&e(w,S),g=o(A,g,y),b===null?L=A:b.sibling=A,b=A,S=I}if(y===T.length)return n(w,S),Ce&&Kr(w,y),L;if(S===null){for(;y<T.length;y++)S=p(w,T[y],D),S!==null&&(g=o(S,g,y),b===null?L=S:b.sibling=S,b=S);return Ce&&Kr(w,y),L}for(S=r(w,S);y<T.length;y++)I=v(S,w,y,T[y],D),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?y:I.key),g=o(I,g,y),b===null?L=I:b.sibling=I,b=I);return t&&S.forEach(function(k){return e(w,k)}),Ce&&Kr(w,y),L}function x(w,g,T,D){var L=Wo(T);if(typeof L!="function")throw Error(U(150));if(T=L.call(T),T==null)throw Error(U(151));for(var b=L=null,S=g,y=g=0,I=null,A=T.next();S!==null&&!A.done;y++,A=T.next()){S.index>y?(I=S,S=null):I=S.sibling;var k=m(w,S,A.value,D);if(k===null){S===null&&(S=I);break}t&&S&&k.alternate===null&&e(w,S),g=o(k,g,y),b===null?L=k:b.sibling=k,b=k,S=I}if(A.done)return n(w,S),Ce&&Kr(w,y),L;if(S===null){for(;!A.done;y++,A=T.next())A=p(w,A.value,D),A!==null&&(g=o(A,g,y),b===null?L=A:b.sibling=A,b=A);return Ce&&Kr(w,y),L}for(S=r(w,S);!A.done;y++,A=T.next())A=v(S,w,y,A.value,D),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?y:A.key),g=o(A,g,y),b===null?L=A:b.sibling=A,b=A);return t&&S.forEach(function(N){return e(w,N)}),Ce&&Kr(w,y),L}function P(w,g,T,D){if(typeof T=="object"&&T!==null&&T.type===Oi&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case ja:e:{for(var L=T.key,b=g;b!==null;){if(b.key===L){if(L=T.type,L===Oi){if(b.tag===7){n(w,b.sibling),g=i(b,T.props.children),g.return=w,w=g;break e}}else if(b.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===nr&&Rg(L)===b.type){n(w,b.sibling),g=i(b,T.props),g.ref=Qo(w,b,T),g.return=w,w=g;break e}n(w,b);break}else e(w,b);b=b.sibling}T.type===Oi?(g=ni(T.props.children,w.mode,D,T.key),g.return=w,w=g):(D=Tl(T.type,T.key,T.props,null,w.mode,D),D.ref=Qo(w,g,T),D.return=w,w=D)}return s(w);case Vi:e:{for(b=T.key;g!==null;){if(g.key===b)if(g.tag===4&&g.stateNode.containerInfo===T.containerInfo&&g.stateNode.implementation===T.implementation){n(w,g.sibling),g=i(g,T.children||[]),g.return=w,w=g;break e}else{n(w,g);break}else e(w,g);g=g.sibling}g=th(T,w.mode,D),g.return=w,w=g}return s(w);case nr:return b=T._init,P(w,g,b(T._payload),D)}if(ns(T))return C(w,g,T,D);if(Wo(T))return x(w,g,T,D);Ya(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,g!==null&&g.tag===6?(n(w,g.sibling),g=i(g,T),g.return=w,w=g):(n(w,g),g=eh(T,w.mode,D),g.return=w,w=g),s(w)):n(w,g)}return P}var no=Q_(!0),X_=Q_(!1),ql=Lr(null),Kl=null,Bi=null,yd=null;function vd(){yd=Bi=Kl=null}function _d(t){var e=ql.current;Ie(ql),t._currentValue=e}function Yh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){Kl=t,yd=Bi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tt=!0),t.firstContext=null)}function zt(t){var e=t._currentValue;if(yd!==t)if(t={context:t,memoizedValue:e,next:null},Bi===null){if(Kl===null)throw Error(U(308));Bi=t,Kl.dependencies={lanes:0,firstContext:t}}else Bi=Bi.next=t;return e}var Yr=null;function Ed(t){Yr===null?Yr=[t]:Yr.push(t)}function Y_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ed(e)):(n.next=i.next,i.next=n),e.interleaved=n,jn(t,r)}function jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rr=!1;function wd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function On(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function gr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jn(t,n)}return i=r.interleaved,i===null?(e.next=e,Ed(r)):(e.next=i.next,i.next=e),r.interleaved=e,jn(t,n)}function gl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sd(t,n)}}function Ag(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gl(t,e,n,r){var i=t.updateQueue;rr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;s=0,f=c=u=null,l=o;do{var m=l.lane,v=l.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var C=t,x=l;switch(m=e,v=n,x.tag){case 1:if(C=x.payload,typeof C=="function"){p=C.call(v,p,m);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=x.payload,m=typeof C=="function"?C.call(v,p,m):C,m==null)break e;p=Pe({},p,m);break e;case 2:rr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,u=p):f=f.next=v,s|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(f===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);li|=s,t.lanes=s,t.memoizedState=p}}function xg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var sa={},mn=Lr(sa),Ms=Lr(sa),Fs=Lr(sa);function Jr(t){if(t===sa)throw Error(U(174));return t}function Td(t,e){switch(_e(Fs,e),_e(Ms,t),_e(mn,sa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nh(e,t)}Ie(mn),_e(mn,e)}function ro(){Ie(mn),Ie(Ms),Ie(Fs)}function Z_(t){Jr(Fs.current);var e=Jr(mn.current),n=Nh(e,t.type);e!==n&&(_e(Ms,t),_e(mn,n))}function Sd(t){Ms.current===t&&(Ie(mn),Ie(Ms))}var Re=Lr(0);function Ql(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gc=[];function Id(){for(var t=0;t<Gc.length;t++)Gc[t]._workInProgressVersionPrimary=null;Gc.length=0}var yl=Kn.ReactCurrentDispatcher,Qc=Kn.ReactCurrentBatchConfig,ai=0,Ae=null,je=null,qe=null,Xl=!1,ms=!1,$s=0,CI=0;function st(){throw Error(U(321))}function Cd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!rn(t[n],e[n]))return!1;return!0}function Rd(t,e,n,r,i,o){if(ai=o,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yl.current=t===null||t.memoizedState===null?PI:kI,t=n(r,i),ms){o=0;do{if(ms=!1,$s=0,25<=o)throw Error(U(301));o+=1,qe=je=null,e.updateQueue=null,yl.current=NI,t=n(r,i)}while(ms)}if(yl.current=Yl,e=je!==null&&je.next!==null,ai=0,qe=je=Ae=null,Xl=!1,e)throw Error(U(300));return t}function Ad(){var t=$s!==0;return $s=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ae.memoizedState=qe=t:qe=qe.next=t,qe}function Wt(){if(je===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=qe===null?Ae.memoizedState:qe.next;if(e!==null)qe=e,je=t;else{if(t===null)throw Error(U(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},qe===null?Ae.memoizedState=qe=t:qe=qe.next=t}return qe}function js(t,e){return typeof e=="function"?e(t):e}function Xc(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=je,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,c=o;do{var f=c.lane;if((ai&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,s=r):u=u.next=p,Ae.lanes|=f,li|=f}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=l,rn(r,e.memoizedState)||(Tt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Ae.lanes|=o,li|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yc(t){var e=Wt(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);rn(o,e.memoizedState)||(Tt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function e0(){}function t0(t,e){var n=Ae,r=Wt(),i=e(),o=!rn(r.memoizedState,i);if(o&&(r.memoizedState=i,Tt=!0),r=r.queue,xd(i0.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Us(9,r0.bind(null,n,r,i,e),void 0,null),Ke===null)throw Error(U(349));ai&30||n0(n,e,i)}return i}function n0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function r0(t,e,n,r){e.value=n,e.getSnapshot=r,o0(e)&&s0(t)}function i0(t,e,n){return n(function(){o0(e)&&s0(t)})}function o0(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!rn(t,n)}catch{return!0}}function s0(t){var e=jn(t,1);e!==null&&nn(e,t,1,-1)}function Pg(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:t},e.queue=t,t=t.dispatch=xI.bind(null,Ae,t),[e.memoizedState,t]}function Us(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function a0(){return Wt().memoizedState}function vl(t,e,n,r){var i=hn();Ae.flags|=t,i.memoizedState=Us(1|e,n,void 0,r===void 0?null:r)}function xu(t,e,n,r){var i=Wt();r=r===void 0?null:r;var o=void 0;if(je!==null){var s=je.memoizedState;if(o=s.destroy,r!==null&&Cd(r,s.deps)){i.memoizedState=Us(e,n,o,r);return}}Ae.flags|=t,i.memoizedState=Us(1|e,n,o,r)}function kg(t,e){return vl(8390656,8,t,e)}function xd(t,e){return xu(2048,8,t,e)}function l0(t,e){return xu(4,2,t,e)}function u0(t,e){return xu(4,4,t,e)}function c0(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h0(t,e,n){return n=n!=null?n.concat([t]):null,xu(4,4,c0.bind(null,e,t),n)}function Pd(){}function f0(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cd(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function d0(t,e){var n=Wt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cd(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function p0(t,e,n){return ai&21?(rn(n,e)||(n=__(),Ae.lanes|=n,li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tt=!0),t.memoizedState=n)}function RI(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=Qc.transition;Qc.transition={};try{t(!1),e()}finally{pe=n,Qc.transition=r}}function m0(){return Wt().memoizedState}function AI(t,e,n){var r=vr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},g0(t))y0(e,n);else if(n=Y_(t,e,n,r),n!==null){var i=gt();nn(n,t,r,i),v0(n,e,r)}}function xI(t,e,n){var r=vr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(g0(t))y0(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,rn(l,s)){var u=e.interleaved;u===null?(i.next=i,Ed(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Y_(t,e,i,r),n!==null&&(i=gt(),nn(n,t,r,i),v0(n,e,r))}}function g0(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function y0(t,e){ms=Xl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function v0(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sd(t,n)}}var Yl={readContext:zt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},PI={readContext:zt,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:zt,useEffect:kg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vl(4194308,4,c0.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vl(4194308,4,t,e)},useInsertionEffect:function(t,e){return vl(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=AI.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:Pg,useDebugValue:Pd,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=Pg(!1),e=t[0];return t=RI.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,i=hn();if(Ce){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Ke===null)throw Error(U(349));ai&30||n0(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,kg(i0.bind(null,r,o,t),[t]),r.flags|=2048,Us(9,r0.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=hn(),e=Ke.identifierPrefix;if(Ce){var n=Vn,r=Dn;n=(r&~(1<<32-tn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$s++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=CI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kI={readContext:zt,useCallback:f0,useContext:zt,useEffect:xd,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:d0,useReducer:Xc,useRef:a0,useState:function(){return Xc(js)},useDebugValue:Pd,useDeferredValue:function(t){var e=Wt();return p0(e,je.memoizedState,t)},useTransition:function(){var t=Xc(js)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:e0,useSyncExternalStore:t0,useId:m0,unstable_isNewReconciler:!1},NI={readContext:zt,useCallback:f0,useContext:zt,useEffect:xd,useImperativeHandle:h0,useInsertionEffect:l0,useLayoutEffect:u0,useMemo:d0,useReducer:Yc,useRef:a0,useState:function(){return Yc(js)},useDebugValue:Pd,useDeferredValue:function(t){var e=Wt();return je===null?e.memoizedState=t:p0(e,je.memoizedState,t)},useTransition:function(){var t=Yc(js)[0],e=Wt().memoizedState;return[t,e]},useMutableSource:e0,useSyncExternalStore:t0,useId:m0,unstable_isNewReconciler:!1};function Yt(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Jh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pu={isMounted:function(t){return(t=t._reactInternals)?pi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=gt(),i=vr(t),o=On(r,i);o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,i),e!==null&&(nn(e,t,i,r),gl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=gt(),i=vr(t),o=On(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=gr(t,o,i),e!==null&&(nn(e,t,i,r),gl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=gt(),r=vr(t),i=On(n,r);i.tag=2,e!=null&&(i.callback=e),e=gr(t,i,r),e!==null&&(nn(e,t,r,n),gl(e,t,r))}};function Ng(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Vs(n,r)||!Vs(i,o):!0}function _0(t,e,n){var r=!1,i=Cr,o=e.contextType;return typeof o=="object"&&o!==null?o=zt(o):(i=It(e)?oi:dt.current,r=e.contextTypes,o=(r=r!=null)?eo(t,i):Cr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Dg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pu.enqueueReplaceState(e,e.state,null)}function Zh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},wd(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=zt(o):(o=It(e)?oi:dt.current,i.context=eo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Jh(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pu.enqueueReplaceState(i,i.state,null),Gl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function io(t,e){try{var n="",r=e;do n+=oS(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Jc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ef(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DI=typeof WeakMap=="function"?WeakMap:Map;function E0(t,e,n){n=On(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Zl||(Zl=!0,hf=r),ef(t,e)},n}function w0(t,e,n){n=On(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ef(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ef(t,e),typeof r!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Vg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qI.bind(null,t,e,n),e.then(t,t))}function Og(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Lg(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=On(-1,1),e.tag=2,gr(n,e,1))),n.lanes|=1),t)}var VI=Kn.ReactCurrentOwner,Tt=!1;function mt(t,e,n,r){e.child=t===null?X_(e,null,n,r):no(e,t.child,n,r)}function bg(t,e,n,r,i){n=n.render;var o=e.ref;return Xi(e,i),r=Rd(t,e,n,r,o,i),n=Ad(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Un(t,e,i)):(Ce&&n&&pd(e),e.flags|=1,mt(t,e,r,i),e.child)}function Mg(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Md(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,T0(t,e,o,r,i)):(t=Tl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Vs,n(s,r)&&t.ref===e.ref)return Un(t,e,i)}return e.flags|=1,t=_r(o,r),t.ref=e.ref,t.return=e,e.child=t}function T0(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Vs(o,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,Un(t,e,i)}return tf(t,e,n,r,i)}function S0(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Wi,kt),kt|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,_e(Wi,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,_e(Wi,kt),kt|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,_e(Wi,kt),kt|=r;return mt(t,e,i,n),e.child}function I0(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function tf(t,e,n,r,i){var o=It(n)?oi:dt.current;return o=eo(e,o),Xi(e,i),n=Rd(t,e,n,r,o,i),r=Ad(),t!==null&&!Tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Un(t,e,i)):(Ce&&r&&pd(e),e.flags|=1,mt(t,e,n,i),e.child)}function Fg(t,e,n,r,i){if(It(n)){var o=!0;zl(e)}else o=!1;if(Xi(e,i),e.stateNode===null)_l(t,e),_0(e,n,r),Zh(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=zt(c):(c=It(n)?oi:dt.current,c=eo(e,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function";p||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==c)&&Dg(e,s,r,c),rr=!1;var m=e.memoizedState;s.state=m,Gl(e,r,s,i),u=e.memoizedState,l!==r||m!==u||St.current||rr?(typeof f=="function"&&(Jh(e,n,f,r),u=e.memoizedState),(l=rr||Ng(e,n,l,r,m,u,c))?(p||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,J_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:Yt(e.type,l),s.props=c,p=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=zt(u):(u=It(n)?oi:dt.current,u=eo(e,u));var v=n.getDerivedStateFromProps;(f=typeof v=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==p||m!==u)&&Dg(e,s,r,u),rr=!1,m=e.memoizedState,s.state=m,Gl(e,r,s,i);var C=e.memoizedState;l!==p||m!==C||St.current||rr?(typeof v=="function"&&(Jh(e,n,v,r),C=e.memoizedState),(c=rr||Ng(e,n,c,r,m,C,u)||!1)?(f||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,C,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,C,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=C),s.props=r,s.state=C,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return nf(t,e,n,r,o,i)}function nf(t,e,n,r,i,o){I0(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Sg(e,n,!1),Un(t,e,o);r=e.stateNode,VI.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=no(e,t.child,null,o),e.child=no(e,null,l,o)):mt(t,e,l,o),e.memoizedState=r.state,i&&Sg(e,n,!0),e.child}function C0(t){var e=t.stateNode;e.pendingContext?Tg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tg(t,e.context,!1),Td(t,e.containerInfo)}function $g(t,e,n,r,i){return to(),gd(i),e.flags|=256,mt(t,e,n,r),e.child}var rf={dehydrated:null,treeContext:null,retryLane:0};function of(t){return{baseLanes:t,cachePool:null,transitions:null}}function R0(t,e,n){var r=e.pendingProps,i=Re.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),_e(Re,i&1),t===null)return Xh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Du(s,r,0,null),t=ni(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=of(n),e.memoizedState=rf,t):kd(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return OI(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=_r(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=_r(l,o):(o=ni(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?of(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=rf,r}return o=t.child,t=o.sibling,r=_r(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kd(t,e){return e=Du({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ja(t,e,n,r){return r!==null&&gd(r),no(e,t.child,null,n),t=kd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function OI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Jc(Error(U(422))),Ja(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Du({mode:"visible",children:r.children},i,0,null),o=ni(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&no(e,t.child,null,s),e.child.memoizedState=of(s),e.memoizedState=rf,o);if(!(e.mode&1))return Ja(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(U(419)),r=Jc(o,r,void 0),Ja(t,e,s,r)}if(l=(s&t.childLanes)!==0,Tt||l){if(r=Ke,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,jn(t,i),nn(r,t,i,-1))}return bd(),r=Jc(Error(U(421))),Ja(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KI.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Nt=mr(i.nextSibling),Vt=e,Ce=!0,Zt=null,t!==null&&($t[jt++]=Dn,$t[jt++]=Vn,$t[jt++]=si,Dn=t.id,Vn=t.overflow,si=e),e=kd(e,r.children),e.flags|=4096,e)}function jg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Yh(t.return,e,n)}function Zc(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function A0(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(mt(t,e,r.children,n),r=Re.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jg(t,n,e);else if(t.tag===19)jg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(_e(Re,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ql(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zc(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ql(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zc(e,!0,n,null,o);break;case"together":Zc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _l(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Un(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=_r(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_r(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LI(t,e,n){switch(e.tag){case 3:C0(e),to();break;case 5:Z_(e);break;case 1:It(e.type)&&zl(e);break;case 4:Td(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;_e(ql,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(_e(Re,Re.current&1),e.flags|=128,null):n&e.child.childLanes?R0(t,e,n):(_e(Re,Re.current&1),t=Un(t,e,n),t!==null?t.sibling:null);_e(Re,Re.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return A0(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Re,Re.current),r)break;return null;case 22:case 23:return e.lanes=0,S0(t,e,n)}return Un(t,e,n)}var x0,sf,P0,k0;x0=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sf=function(){};P0=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Jr(mn.current);var o=null;switch(n){case"input":i=Ah(t,i),r=Ah(t,r),o=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),o=[];break;case"textarea":i=kh(t,i),r=kh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ul)}Dh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Rs.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Rs.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Te("scroll",t),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};k0=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function at(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function bI(t,e,n){var r=e.pendingProps;switch(md(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(e),null;case 1:return It(e.type)&&Bl(),at(e),null;case 3:return r=e.stateNode,ro(),Ie(St),Ie(dt),Id(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zt!==null&&(pf(Zt),Zt=null))),sf(t,e),at(e),null;case 5:Sd(e);var i=Jr(Fs.current);if(n=e.type,t!==null&&e.stateNode!=null)P0(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return at(e),null}if(t=Jr(mn.current),Xa(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[dn]=e,r[bs]=o,t=(e.mode&1)!==0,n){case"dialog":Te("cancel",r),Te("close",r);break;case"iframe":case"object":case"embed":Te("load",r);break;case"video":case"audio":for(i=0;i<is.length;i++)Te(is[i],r);break;case"source":Te("error",r);break;case"img":case"image":case"link":Te("error",r),Te("load",r);break;case"details":Te("toggle",r);break;case"input":Qm(r,o),Te("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Te("invalid",r);break;case"textarea":Ym(r,o),Te("invalid",r)}Dh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Qa(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Qa(r.textContent,l,t),i=["children",""+l]):Rs.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&Te("scroll",r)}switch(n){case"input":Ua(r),Xm(r,o,!0);break;case"textarea":Ua(r),Jm(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ul)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=i_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[dn]=e,t[bs]=r,x0(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vh(n,r),n){case"dialog":Te("cancel",t),Te("close",t),i=r;break;case"iframe":case"object":case"embed":Te("load",t),i=r;break;case"video":case"audio":for(i=0;i<is.length;i++)Te(is[i],t);i=r;break;case"source":Te("error",t),i=r;break;case"img":case"image":case"link":Te("error",t),Te("load",t),i=r;break;case"details":Te("toggle",t),i=r;break;case"input":Qm(t,r),i=Ah(t,r),Te("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),Te("invalid",t);break;case"textarea":Ym(t,r),i=kh(t,r),Te("invalid",t);break;default:i=r}Dh(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?a_(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&o_(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&As(t,u):typeof u=="number"&&As(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Rs.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Te("scroll",t):u!=null&&ed(t,o,u,s))}switch(n){case"input":Ua(t),Xm(t,r,!1);break;case"textarea":Ua(t),Jm(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ir(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?qi(t,!!r.multiple,o,!1):r.defaultValue!=null&&qi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ul)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return at(e),null;case 6:if(t&&e.stateNode!=null)k0(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Jr(Fs.current),Jr(mn.current),Xa(e)){if(r=e.stateNode,n=e.memoizedProps,r[dn]=e,(o=r.nodeValue!==n)&&(t=Vt,t!==null))switch(t.tag){case 3:Qa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=e,e.stateNode=r}return at(e),null;case 13:if(Ie(Re),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&Nt!==null&&e.mode&1&&!(e.flags&128))G_(),to(),e.flags|=98560,o=!1;else if(o=Xa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(U(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(U(317));o[dn]=e}else to(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;at(e),o=!1}else Zt!==null&&(pf(Zt),Zt=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Re.current&1?Ue===0&&(Ue=3):bd())),e.updateQueue!==null&&(e.flags|=4),at(e),null);case 4:return ro(),sf(t,e),t===null&&Os(e.stateNode.containerInfo),at(e),null;case 10:return _d(e.type._context),at(e),null;case 17:return It(e.type)&&Bl(),at(e),null;case 19:if(Ie(Re),o=e.memoizedState,o===null)return at(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Xo(o,!1);else{if(Ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ql(t),s!==null){for(e.flags|=128,Xo(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return _e(Re,Re.current&1|2),e.child}t=t.sibling}o.tail!==null&&Le()>oo&&(e.flags|=128,r=!0,Xo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Ql(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Ce)return at(e),null}else 2*Le()-o.renderingStartTime>oo&&n!==1073741824&&(e.flags|=128,r=!0,Xo(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Le(),e.sibling=null,n=Re.current,_e(Re,r?n&1|2:n&1),e):(at(e),null);case 22:case 23:return Ld(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(at(e),e.subtreeFlags&6&&(e.flags|=8192)):at(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function MI(t,e){switch(md(e),e.tag){case 1:return It(e.type)&&Bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ro(),Ie(St),Ie(dt),Id(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sd(e),null;case 13:if(Ie(Re),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));to()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Re),null;case 4:return ro(),null;case 10:return _d(e.type._context),null;case 22:case 23:return Ld(),null;case 24:return null;default:return null}}var Za=!1,ct=!1,FI=typeof WeakSet=="function"?WeakSet:Set,W=null;function zi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){De(t,e,r)}else n.current=null}function af(t,e,n){try{n()}catch(r){De(t,e,r)}}var Ug=!1;function $I(t,e){if(zh=Fl,t=L_(),dd(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=s+i),p!==o||r!==0&&p.nodeType!==3||(u=s+r),p.nodeType===3&&(s+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===n&&++c===i&&(l=s),m===o&&++f===r&&(u=s),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:t,selectionRange:n},Fl=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var C=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var x=C.memoizedProps,P=C.memoizedState,w=e.stateNode,g=w.getSnapshotBeforeUpdate(e.elementType===e.type?x:Yt(e.type,x),P);w.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(D){De(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return C=Ug,Ug=!1,C}function gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&af(e,n,o)}i=i.next}while(i!==r)}}function ku(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function N0(t){var e=t.alternate;e!==null&&(t.alternate=null,N0(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[bs],delete e[Kh],delete e[wI],delete e[TI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D0(t){return t.tag===5||t.tag===3||t.tag===4}function Bg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ul));else if(r!==4&&(t=t.child,t!==null))for(uf(t,e,n),t=t.sibling;t!==null;)uf(t,e,n),t=t.sibling}function cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(cf(t,e,n),t=t.sibling;t!==null;)cf(t,e,n),t=t.sibling}var Xe=null,Jt=!1;function tr(t,e,n){for(n=n.child;n!==null;)V0(t,e,n),n=n.sibling}function V0(t,e,n){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(Tu,n)}catch{}switch(n.tag){case 5:ct||zi(n,e);case 6:var r=Xe,i=Jt;Xe=null,tr(t,e,n),Xe=r,Jt=i,Xe!==null&&(Jt?(t=Xe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(Jt?(t=Xe,n=n.stateNode,t.nodeType===8?qc(t.parentNode,n):t.nodeType===1&&qc(t,n),Ns(t)):qc(Xe,n.stateNode));break;case 4:r=Xe,i=Jt,Xe=n.stateNode.containerInfo,Jt=!0,tr(t,e,n),Xe=r,Jt=i;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&af(n,e,s),i=i.next}while(i!==r)}tr(t,e,n);break;case 1:if(!ct&&(zi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){De(n,e,l)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,tr(t,e,n),ct=r):tr(t,e,n);break;default:tr(t,e,n)}}function zg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FI),e.forEach(function(r){var i=GI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Xt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Xe=l.stateNode,Jt=!1;break e;case 3:Xe=l.stateNode.containerInfo,Jt=!0;break e;case 4:Xe=l.stateNode.containerInfo,Jt=!0;break e}l=l.return}if(Xe===null)throw Error(U(160));V0(o,s,i),Xe=null,Jt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){De(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)O0(e,t),e=e.sibling}function O0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xt(e,t),cn(t),r&4){try{gs(3,t,t.return),ku(3,t)}catch(x){De(t,t.return,x)}try{gs(5,t,t.return)}catch(x){De(t,t.return,x)}}break;case 1:Xt(e,t),cn(t),r&512&&n!==null&&zi(n,n.return);break;case 5:if(Xt(e,t),cn(t),r&512&&n!==null&&zi(n,n.return),t.flags&32){var i=t.stateNode;try{As(i,"")}catch(x){De(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&n_(i,o),Vh(l,s);var c=Vh(l,o);for(s=0;s<u.length;s+=2){var f=u[s],p=u[s+1];f==="style"?a_(i,p):f==="dangerouslySetInnerHTML"?o_(i,p):f==="children"?As(i,p):ed(i,f,p,c)}switch(l){case"input":xh(i,o);break;case"textarea":r_(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?qi(i,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?qi(i,!!o.multiple,o.defaultValue,!0):qi(i,!!o.multiple,o.multiple?[]:"",!1))}i[bs]=o}catch(x){De(t,t.return,x)}}break;case 6:if(Xt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(x){De(t,t.return,x)}}break;case 3:if(Xt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ns(e.containerInfo)}catch(x){De(t,t.return,x)}break;case 4:Xt(e,t),cn(t);break;case 13:Xt(e,t),cn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Vd=Le())),r&4&&zg(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||f,Xt(e,t),ct=c):Xt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(W=t,f=t.child;f!==null;){for(p=W=f;W!==null;){switch(m=W,v=m.child,m.tag){case 0:case 11:case 14:case 15:gs(4,m,m.return);break;case 1:zi(m,m.return);var C=m.stateNode;if(typeof C.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,C.props=e.memoizedProps,C.state=e.memoizedState,C.componentWillUnmount()}catch(x){De(r,n,x)}}break;case 5:zi(m,m.return);break;case 22:if(m.memoizedState!==null){Hg(p);continue}}v!==null?(v.return=m,W=v):Hg(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=p.stateNode,u=p.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=s_("display",s))}catch(x){De(t,t.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){De(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Xt(e,t),cn(t),r&4&&zg(t);break;case 21:break;default:Xt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(D0(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(As(i,""),r.flags&=-33);var o=Bg(t);cf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Bg(t);uf(t,l,s);break;default:throw Error(U(161))}}catch(u){De(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jI(t,e,n){W=t,L0(t)}function L0(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Za;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||ct;l=Za;var c=ct;if(Za=s,(ct=u)&&!c)for(W=i;W!==null;)s=W,u=s.child,s.tag===22&&s.memoizedState!==null?qg(i):u!==null?(u.return=s,W=u):qg(i);for(;o!==null;)W=o,L0(o),o=o.sibling;W=i,Za=l,ct=c}Wg(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,W=o):Wg(t)}}function Wg(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||ku(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&xg(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}xg(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Ns(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}ct||e.flags&512&&lf(e)}catch(m){De(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function Hg(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function qg(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ku(4,e)}catch(u){De(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){De(e,i,u)}}var o=e.return;try{lf(e)}catch(u){De(e,o,u)}break;case 5:var s=e.return;try{lf(e)}catch(u){De(e,s,u)}}}catch(u){De(e,e.return,u)}if(e===t){W=null;break}var l=e.sibling;if(l!==null){l.return=e.return,W=l;break}W=e.return}}var UI=Math.ceil,Jl=Kn.ReactCurrentDispatcher,Nd=Kn.ReactCurrentOwner,Bt=Kn.ReactCurrentBatchConfig,ue=0,Ke=null,Me=null,et=0,kt=0,Wi=Lr(0),Ue=0,Bs=null,li=0,Nu=0,Dd=0,ys=null,Et=null,Vd=0,oo=1/0,xn=null,Zl=!1,hf=null,yr=null,el=!1,ur=null,eu=0,vs=0,ff=null,El=-1,wl=0;function gt(){return ue&6?Le():El!==-1?El:El=Le()}function vr(t){return t.mode&1?ue&2&&et!==0?et&-et:II.transition!==null?(wl===0&&(wl=__()),wl):(t=pe,t!==0||(t=window.event,t=t===void 0?16:R_(t.type)),t):1}function nn(t,e,n,r){if(50<vs)throw vs=0,ff=null,Error(U(185));ra(t,n,r),(!(ue&2)||t!==Ke)&&(t===Ke&&(!(ue&2)&&(Nu|=n),Ue===4&&ar(t,et)),Ct(t,r),n===1&&ue===0&&!(e.mode&1)&&(oo=Le()+500,Au&&br()))}function Ct(t,e){var n=t.callbackNode;IS(t,e);var r=Ml(t,t===Ke?et:0);if(r===0)n!==null&&tg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tg(n),e===1)t.tag===0?SI(Kg.bind(null,t)):H_(Kg.bind(null,t)),_I(function(){!(ue&6)&&br()}),n=null;else{switch(E_(r)){case 1:n=od;break;case 4:n=y_;break;case 16:n=bl;break;case 536870912:n=v_;break;default:n=bl}n=z0(n,b0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function b0(t,e){if(El=-1,wl=0,ue&6)throw Error(U(327));var n=t.callbackNode;if(Yi()&&t.callbackNode!==n)return null;var r=Ml(t,t===Ke?et:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tu(t,r);else{e=r;var i=ue;ue|=2;var o=F0();(Ke!==t||et!==e)&&(xn=null,oo=Le()+500,ti(t,e));do try{WI();break}catch(l){M0(t,l)}while(!0);vd(),Jl.current=o,ue=i,Me!==null?e=0:(Ke=null,et=0,e=Ue)}if(e!==0){if(e===2&&(i=Fh(t),i!==0&&(r=i,e=df(t,i))),e===1)throw n=Bs,ti(t,0),ar(t,r),Ct(t,Le()),n;if(e===6)ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!BI(i)&&(e=tu(t,r),e===2&&(o=Fh(t),o!==0&&(r=o,e=df(t,o))),e===1))throw n=Bs,ti(t,0),ar(t,r),Ct(t,Le()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Gr(t,Et,xn);break;case 3:if(ar(t,r),(r&130023424)===r&&(e=Vd+500-Le(),10<e)){if(Ml(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){gt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qh(Gr.bind(null,t,Et,xn),e);break}Gr(t,Et,xn);break;case 4:if(ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-tn(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Le()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*UI(r/1960))-r,10<r){t.timeoutHandle=qh(Gr.bind(null,t,Et,xn),r);break}Gr(t,Et,xn);break;case 5:Gr(t,Et,xn);break;default:throw Error(U(329))}}}return Ct(t,Le()),t.callbackNode===n?b0.bind(null,t):null}function df(t,e){var n=ys;return t.current.memoizedState.isDehydrated&&(ti(t,e).flags|=256),t=tu(t,e),t!==2&&(e=Et,Et=n,e!==null&&pf(e)),t}function pf(t){Et===null?Et=t:Et.push.apply(Et,t)}function BI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!rn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ar(t,e){for(e&=~Dd,e&=~Nu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tn(e),r=1<<n;t[n]=-1,e&=~r}}function Kg(t){if(ue&6)throw Error(U(327));Yi();var e=Ml(t,0);if(!(e&1))return Ct(t,Le()),null;var n=tu(t,e);if(t.tag!==0&&n===2){var r=Fh(t);r!==0&&(e=r,n=df(t,r))}if(n===1)throw n=Bs,ti(t,0),ar(t,e),Ct(t,Le()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gr(t,Et,xn),Ct(t,Le()),null}function Od(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(oo=Le()+500,Au&&br())}}function ui(t){ur!==null&&ur.tag===0&&!(ue&6)&&Yi();var e=ue;ue|=1;var n=Bt.transition,r=pe;try{if(Bt.transition=null,pe=1,t)return t()}finally{pe=r,Bt.transition=n,ue=e,!(ue&6)&&br()}}function Ld(){kt=Wi.current,Ie(Wi)}function ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vI(n)),Me!==null)for(n=Me.return;n!==null;){var r=n;switch(md(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:ro(),Ie(St),Ie(dt),Id();break;case 5:Sd(r);break;case 4:ro();break;case 13:Ie(Re);break;case 19:Ie(Re);break;case 10:_d(r.type._context);break;case 22:case 23:Ld()}n=n.return}if(Ke=t,Me=t=_r(t.current,null),et=kt=e,Ue=0,Bs=null,Dd=Nu=li=0,Et=ys=null,Yr!==null){for(e=0;e<Yr.length;e++)if(n=Yr[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Yr=null}return t}function M0(t,e){do{var n=Me;try{if(vd(),yl.current=Yl,Xl){for(var r=Ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Xl=!1}if(ai=0,qe=je=Ae=null,ms=!1,$s=0,Nd.current=null,n===null||n.return===null){Ue=1,Bs=e,Me=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=et,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Og(s);if(v!==null){v.flags&=-257,Lg(v,s,l,o,e),v.mode&1&&Vg(o,c,e),e=v,u=c;var C=e.updateQueue;if(C===null){var x=new Set;x.add(u),e.updateQueue=x}else C.add(u);break e}else{if(!(e&1)){Vg(o,c,e),bd();break e}u=Error(U(426))}}else if(Ce&&l.mode&1){var P=Og(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Lg(P,s,l,o,e),gd(io(u,l));break e}}o=u=io(u,l),Ue!==4&&(Ue=2),ys===null?ys=[o]:ys.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var w=E0(o,u,e);Ag(o,w);break e;case 1:l=u;var g=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(yr===null||!yr.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var D=w0(o,l,e);Ag(o,D);break e}}o=o.return}while(o!==null)}j0(n)}catch(L){e=L,Me===n&&n!==null&&(Me=n=n.return);continue}break}while(!0)}function F0(){var t=Jl.current;return Jl.current=Yl,t===null?Yl:t}function bd(){(Ue===0||Ue===3||Ue===2)&&(Ue=4),Ke===null||!(li&268435455)&&!(Nu&268435455)||ar(Ke,et)}function tu(t,e){var n=ue;ue|=2;var r=F0();(Ke!==t||et!==e)&&(xn=null,ti(t,e));do try{zI();break}catch(i){M0(t,i)}while(!0);if(vd(),ue=n,Jl.current=r,Me!==null)throw Error(U(261));return Ke=null,et=0,Ue}function zI(){for(;Me!==null;)$0(Me)}function WI(){for(;Me!==null&&!mS();)$0(Me)}function $0(t){var e=B0(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?j0(t):Me=e,Nd.current=null}function j0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=MI(n,e),n!==null){n.flags&=32767,Me=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ue=6,Me=null;return}}else if(n=bI(n,e,kt),n!==null){Me=n;return}if(e=e.sibling,e!==null){Me=e;return}Me=e=t}while(e!==null);Ue===0&&(Ue=5)}function Gr(t,e,n){var r=pe,i=Bt.transition;try{Bt.transition=null,pe=1,HI(t,e,n,r)}finally{Bt.transition=i,pe=r}return null}function HI(t,e,n,r){do Yi();while(ur!==null);if(ue&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(CS(t,o),t===Ke&&(Me=Ke=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||el||(el=!0,z0(bl,function(){return Yi(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Bt.transition,Bt.transition=null;var s=pe;pe=1;var l=ue;ue|=4,Nd.current=null,$I(t,n),O0(n,t),hI(Wh),Fl=!!zh,Wh=zh=null,t.current=n,jI(n),gS(),ue=l,pe=s,Bt.transition=o}else t.current=n;if(el&&(el=!1,ur=t,eu=i),o=t.pendingLanes,o===0&&(yr=null),_S(n.stateNode),Ct(t,Le()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Zl)throw Zl=!1,t=hf,hf=null,t;return eu&1&&t.tag!==0&&Yi(),o=t.pendingLanes,o&1?t===ff?vs++:(vs=0,ff=t):vs=0,br(),null}function Yi(){if(ur!==null){var t=E_(eu),e=Bt.transition,n=pe;try{if(Bt.transition=null,pe=16>t?16:t,ur===null)var r=!1;else{if(t=ur,ur=null,eu=0,ue&6)throw Error(U(331));var i=ue;for(ue|=4,W=t.current;W!==null;){var o=W,s=o.child;if(W.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(W=c;W!==null;){var f=W;switch(f.tag){case 0:case 11:case 15:gs(8,f,o)}var p=f.child;if(p!==null)p.return=f,W=p;else for(;W!==null;){f=W;var m=f.sibling,v=f.return;if(N0(f),f===c){W=null;break}if(m!==null){m.return=v,W=m;break}W=v}}}var C=o.alternate;if(C!==null){var x=C.child;if(x!==null){C.child=null;do{var P=x.sibling;x.sibling=null,x=P}while(x!==null)}}W=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,W=s;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:gs(9,o,o.return)}var w=o.sibling;if(w!==null){w.return=o.return,W=w;break e}W=o.return}}var g=t.current;for(W=g;W!==null;){s=W;var T=s.child;if(s.subtreeFlags&2064&&T!==null)T.return=s,W=T;else e:for(s=g;W!==null;){if(l=W,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ku(9,l)}}catch(L){De(l,l.return,L)}if(l===s){W=null;break e}var D=l.sibling;if(D!==null){D.return=l.return,W=D;break e}W=l.return}}if(ue=i,br(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(Tu,t)}catch{}r=!0}return r}finally{pe=n,Bt.transition=e}}return!1}function Gg(t,e,n){e=io(n,e),e=E0(t,e,1),t=gr(t,e,1),e=gt(),t!==null&&(ra(t,1,e),Ct(t,e))}function De(t,e,n){if(t.tag===3)Gg(t,t,n);else for(;e!==null;){if(e.tag===3){Gg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yr===null||!yr.has(r))){t=io(n,t),t=w0(e,t,1),e=gr(e,t,1),t=gt(),e!==null&&(ra(e,1,t),Ct(e,t));break}}e=e.return}}function qI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=gt(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(et&n)===n&&(Ue===4||Ue===3&&(et&130023424)===et&&500>Le()-Vd?ti(t,0):Dd|=n),Ct(t,e)}function U0(t,e){e===0&&(t.mode&1?(e=Wa,Wa<<=1,!(Wa&130023424)&&(Wa=4194304)):e=1);var n=gt();t=jn(t,e),t!==null&&(ra(t,e,n),Ct(t,n))}function KI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),U0(t,n)}function GI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),U0(t,n)}var B0;B0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||St.current)Tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tt=!1,LI(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ce&&e.flags&1048576&&q_(e,Hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_l(t,e),t=e.pendingProps;var i=eo(e,dt.current);Xi(e,n),i=Rd(null,e,r,t,i,n);var o=Ad();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,It(r)?(o=!0,zl(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wd(e),i.updater=Pu,e.stateNode=i,i._reactInternals=e,Zh(e,r,t,n),e=nf(null,e,r,!0,o,n)):(e.tag=0,Ce&&o&&pd(e),mt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_l(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=XI(r),t=Yt(r,t),i){case 0:e=tf(null,e,r,t,n);break e;case 1:e=Fg(null,e,r,t,n);break e;case 11:e=bg(null,e,r,t,n);break e;case 14:e=Mg(null,e,r,Yt(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),tf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),Fg(t,e,r,i,n);case 3:e:{if(C0(e),t===null)throw Error(U(387));r=e.pendingProps,o=e.memoizedState,i=o.element,J_(t,e),Gl(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=io(Error(U(423)),e),e=$g(t,e,r,n,i);break e}else if(r!==i){i=io(Error(U(424)),e),e=$g(t,e,r,n,i);break e}else for(Nt=mr(e.stateNode.containerInfo.firstChild),Vt=e,Ce=!0,Zt=null,n=X_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(to(),r===i){e=Un(t,e,n);break e}mt(t,e,r,n)}e=e.child}return e;case 5:return Z_(e),t===null&&Xh(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Hh(r,i)?s=null:o!==null&&Hh(r,o)&&(e.flags|=32),I0(t,e),mt(t,e,s,n),e.child;case 6:return t===null&&Xh(e),null;case 13:return R0(t,e,n);case 4:return Td(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=no(e,null,r,n):mt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),bg(t,e,r,i,n);case 7:return mt(t,e,e.pendingProps,n),e.child;case 8:return mt(t,e,e.pendingProps.children,n),e.child;case 12:return mt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,_e(ql,r._currentValue),r._currentValue=s,o!==null)if(rn(o.value,s)){if(o.children===i.children&&!St.current){e=Un(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=On(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Yh(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(U(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Yh(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}mt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=zt(i),r=r(i),e.flags|=1,mt(t,e,r,n),e.child;case 14:return r=e.type,i=Yt(r,e.pendingProps),i=Yt(r.type,i),Mg(t,e,r,i,n);case 15:return T0(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yt(r,i),_l(t,e),e.tag=1,It(r)?(t=!0,zl(e)):t=!1,Xi(e,n),_0(e,r,i),Zh(e,r,i,n),nf(null,e,r,!0,t,n);case 19:return A0(t,e,n);case 22:return S0(t,e,n)}throw Error(U(156,e.tag))};function z0(t,e){return g_(t,e)}function QI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,e,n,r){return new QI(t,e,n,r)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XI(t){if(typeof t=="function")return Md(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nd)return 11;if(t===rd)return 14}return 2}function _r(t,e){var n=t.alternate;return n===null?(n=Ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tl(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Md(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Oi:return ni(n.children,i,o,e);case td:s=8,i|=8;break;case Sh:return t=Ut(12,n,e,i|2),t.elementType=Sh,t.lanes=o,t;case Ih:return t=Ut(13,n,e,i),t.elementType=Ih,t.lanes=o,t;case Ch:return t=Ut(19,n,e,i),t.elementType=Ch,t.lanes=o,t;case Zv:return Du(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Yv:s=10;break e;case Jv:s=9;break e;case nd:s=11;break e;case rd:s=14;break e;case nr:s=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Ut(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ni(t,e,n,r){return t=Ut(7,t,r,e),t.lanes=n,t}function Du(t,e,n,r){return t=Ut(22,t,r,e),t.elementType=Zv,t.lanes=n,t.stateNode={isHidden:!1},t}function eh(t,e,n){return t=Ut(6,t,null,e),t.lanes=n,t}function th(t,e,n){return e=Ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Lc(0),this.expirationTimes=Lc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fd(t,e,n,r,i,o,s,l,u){return t=new YI(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ut(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wd(o),t}function JI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function W0(t){if(!t)return Cr;t=t._reactInternals;e:{if(pi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(It(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(It(n))return W_(t,n,e)}return e}function H0(t,e,n,r,i,o,s,l,u){return t=Fd(n,r,!0,t,i,o,s,l,u),t.context=W0(null),n=t.current,r=gt(),i=vr(n),o=On(r,i),o.callback=e??null,gr(n,o,i),t.current.lanes=i,ra(t,i,r),Ct(t,r),t}function Vu(t,e,n,r){var i=e.current,o=gt(),s=vr(i);return n=W0(n),e.context===null?e.context=n:e.pendingContext=n,e=On(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=gr(i,e,s),t!==null&&(nn(t,i,s,o),gl(t,i,s)),s}function nu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function $d(t,e){Qg(t,e),(t=t.alternate)&&Qg(t,e)}function ZI(){return null}var q0=typeof reportError=="function"?reportError:function(t){console.error(t)};function jd(t){this._internalRoot=t}Ou.prototype.render=jd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Vu(t,e,null,null)};Ou.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ui(function(){Vu(null,t,null,null)}),e[$n]=null}};function Ou(t){this._internalRoot=t}Ou.prototype.unstable_scheduleHydration=function(t){if(t){var e=S_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<sr.length&&e!==0&&e<sr[n].priority;n++);sr.splice(n,0,t),n===0&&C_(t)}};function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function eC(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=nu(s);o.call(c)}}var s=H0(e,r,t,0,null,!1,!1,"",Xg);return t._reactRootContainer=s,t[$n]=s.current,Os(t.nodeType===8?t.parentNode:t),ui(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var c=nu(u);l.call(c)}}var u=Fd(t,0,!1,null,null,!1,!1,"",Xg);return t._reactRootContainer=u,t[$n]=u.current,Os(t.nodeType===8?t.parentNode:t),ui(function(){Vu(e,u,n,r)}),u}function bu(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=nu(s);l.call(u)}}Vu(e,s,t,i)}else s=eC(n,e,t,i,r);return nu(s)}w_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rs(e.pendingLanes);n!==0&&(sd(e,n|1),Ct(e,Le()),!(ue&6)&&(oo=Le()+500,br()))}break;case 13:ui(function(){var r=jn(t,1);if(r!==null){var i=gt();nn(r,t,1,i)}}),$d(t,1)}};ad=function(t){if(t.tag===13){var e=jn(t,134217728);if(e!==null){var n=gt();nn(e,t,134217728,n)}$d(t,134217728)}};T_=function(t){if(t.tag===13){var e=vr(t),n=jn(t,e);if(n!==null){var r=gt();nn(n,t,e,r)}$d(t,e)}};S_=function(){return pe};I_=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Lh=function(t,e,n){switch(e){case"input":if(xh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ru(r);if(!i)throw Error(U(90));t_(r),xh(r,i)}}}break;case"textarea":r_(t,n);break;case"select":e=n.value,e!=null&&qi(t,!!n.multiple,e,!1)}};c_=Od;h_=ui;var tC={usingClientEntryPoint:!1,Events:[oa,Fi,Ru,l_,u_,Od]},Yo={findFiberByHostInstance:Xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nC={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=p_(t),t===null?null:t.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||ZI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tl.isDisabled&&tl.supportsFiber)try{Tu=tl.inject(nC),pn=tl}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;bt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ud(e))throw Error(U(200));return JI(t,e,null,n)};bt.createRoot=function(t,e){if(!Ud(t))throw Error(U(299));var n=!1,r="",i=q0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fd(t,1,!1,null,null,n,!1,r,i),t[$n]=e.current,Os(t.nodeType===8?t.parentNode:t),new jd(e)};bt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=p_(e),t=t===null?null:t.stateNode,t};bt.flushSync=function(t){return ui(t)};bt.hydrate=function(t,e,n){if(!Lu(e))throw Error(U(200));return bu(null,t,e,!0,n)};bt.hydrateRoot=function(t,e,n){if(!Ud(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=q0;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=H0(e,null,t,1,n??null,i,!1,o,s),t[$n]=e.current,Os(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ou(e)};bt.render=function(t,e,n){if(!Lu(e))throw Error(U(200));return bu(null,t,e,!1,n)};bt.unmountComponentAtNode=function(t){if(!Lu(t))throw Error(U(40));return t._reactRootContainer?(ui(function(){bu(null,null,t,!1,function(){t._reactRootContainer=null,t[$n]=null})}),!0):!1};bt.unstable_batchedUpdates=Od;bt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return bu(t,e,n,!1,r)};bt.version="18.3.1-next-f1338f8080-20240426";function K0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K0)}catch(t){console.error(t)}}K0(),Kv.exports=bt;var G0=Kv.exports;const Hi=ta(G0);var Yg=G0;wh.createRoot=Yg.createRoot,wh.hydrateRoot=Yg.hydrateRoot;var Jg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},X0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,p=(o&3)<<4|l>>4;let m=(l&15)<<2|c>>6,v=c&63;u||(v=64,s||(m=64)),r.push(n[f],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||c==null||p==null)throw new iC;const m=o<<2|l>>4;if(r.push(m),c!==64){const v=l<<4&240|c>>2;if(r.push(v),p!==64){const C=c<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oC=function(t){const e=Q0(t);return X0.encodeByteArray(e,!0)},ru=function(t){return oC(t).replace(/\./g,"")},sC=function(t){try{return X0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=()=>aC().__FIREBASE_DEFAULTS__,uC=()=>{if(typeof process>"u"||typeof Jg>"u")return;const t=Jg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},cC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sC(t[1]);return e&&JSON.parse(e)},Bd=()=>{try{return lC()||uC()||cC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hC=t=>{var e,n;return(n=(e=Bd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},fC=t=>{const e=hC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Y0=()=>{var t;return(t=Bd())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ru(JSON.stringify(n)),ru(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){var t;const e=(t=Bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yC(){return!gC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function _C(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=EC,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J0.prototype.create)}}class J0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wC(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new mi(i,l,r)}}function wC(t,e){return t.replace(TC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const TC=/\{\$([^}]+)}/g;function mf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(Zg(o)&&Zg(s)){if(!mf(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Zg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t){return t&&t._delegate?t._delegate:t}class so{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SC=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(CC(e))try{this.getOrInitializeService({instanceIdentifier:Qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qr){return this.instances.has(e)}getOptions(e=Qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qr){return this.component?this.component.multipleInstances?e:Qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function IC(t){return t===Qr?void 0:t}function CC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const AC={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},xC=ne.INFO,PC={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},kC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=PC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zd{constructor(e){this.name=e,this._logLevel=xC,this._logHandler=kC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const NC=(t,e)=>e.some(n=>t instanceof n);let ey,ty;function DC(){return ey||(ey=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VC(){return ty||(ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,gf=new WeakMap,eE=new WeakMap,nh=new WeakMap,Wd=new WeakMap;function OC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Er(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Z0.set(n,t)}).catch(()=>{}),Wd.set(e,t),e}function LC(t){if(gf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gf.set(t,e)}let yf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Er(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bC(t){yf=t(yf)}function MC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(rh(this),e,...n);return eE.set(r,e.sort?e.sort():[e]),Er(r)}:VC().includes(t)?function(...e){return t.apply(rh(this),e),Er(Z0.get(this))}:function(...e){return Er(t.apply(rh(this),e))}}function FC(t){return typeof t=="function"?MC(t):(t instanceof IDBTransaction&&LC(t),NC(t,DC())?new Proxy(t,yf):t)}function Er(t){if(t instanceof IDBRequest)return OC(t);if(nh.has(t))return nh.get(t);const e=FC(t);return e!==t&&(nh.set(t,e),Wd.set(e,t)),e}const rh=t=>Wd.get(t);function $C(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=Er(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Er(s.result),u.oldVersion,u.newVersion,Er(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const jC=["get","getKey","getAll","getAllKeys","count"],UC=["put","add","delete","clear"],ih=new Map;function ny(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ih.get(e))return ih.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=UC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||jC.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return ih.set(e,o),o}bC(t=>({...t,get:(e,n,r)=>ny(e,n)||t.get(e,n,r),has:(e,n)=>!!ny(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",ry="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zn=new zd("@firebase/app"),WC="@firebase/app-compat",HC="@firebase/analytics-compat",qC="@firebase/analytics",KC="@firebase/app-check-compat",GC="@firebase/app-check",QC="@firebase/auth",XC="@firebase/auth-compat",YC="@firebase/database",JC="@firebase/data-connect",ZC="@firebase/database-compat",eR="@firebase/functions",tR="@firebase/functions-compat",nR="@firebase/installations",rR="@firebase/installations-compat",iR="@firebase/messaging",oR="@firebase/messaging-compat",sR="@firebase/performance",aR="@firebase/performance-compat",lR="@firebase/remote-config",uR="@firebase/remote-config-compat",cR="@firebase/storage",hR="@firebase/storage-compat",fR="@firebase/firestore",dR="@firebase/vertexai",pR="@firebase/firestore-compat",mR="firebase",gR="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="[DEFAULT]",yR={[vf]:"fire-core",[WC]:"fire-core-compat",[qC]:"fire-analytics",[HC]:"fire-analytics-compat",[GC]:"fire-app-check",[KC]:"fire-app-check-compat",[QC]:"fire-auth",[XC]:"fire-auth-compat",[YC]:"fire-rtdb",[JC]:"fire-data-connect",[ZC]:"fire-rtdb-compat",[eR]:"fire-fn",[tR]:"fire-fn-compat",[nR]:"fire-iid",[rR]:"fire-iid-compat",[iR]:"fire-fcm",[oR]:"fire-fcm-compat",[sR]:"fire-perf",[aR]:"fire-perf-compat",[lR]:"fire-rc",[uR]:"fire-rc-compat",[cR]:"fire-gcs",[hR]:"fire-gcs-compat",[fR]:"fire-fst",[pR]:"fire-fst-compat",[dR]:"fire-vertex","fire-js":"fire-js",[mR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new Map,vR=new Map,Ef=new Map;function iy(t,e){try{t.container.addComponent(e)}catch(n){zn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if(Ef.has(e))return zn.debug(`There were multiple attempts to register component ${e}.`),!1;Ef.set(e,t);for(const n of iu.values())iy(n,t);for(const n of vR.values())iy(n,t);return!0}function _R(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wr=new J0("app","Firebase",ER);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new so("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=gR;function nE(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_f,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw wr.create("bad-app-name",{appName:String(i)});if(n||(n=Y0()),!n)throw wr.create("no-options");const o=iu.get(i);if(o){if(mf(n,o.options)&&mf(r,o.config))return o;throw wr.create("duplicate-app",{appName:i})}const s=new RC(i);for(const u of Ef.values())s.addComponent(u);const l=new wR(n,r,s);return iu.set(i,l),l}function TR(t=_f){const e=iu.get(t);if(!e&&t===_f&&Y0())return nE();if(!e)throw wr.create("no-app",{appName:t});return e}function Tr(t,e,n){var r;let i=(r=yR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zn.warn(l.join(" "));return}zs(new so(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR="firebase-heartbeat-database",IR=1,Ws="firebase-heartbeat-store";let oh=null;function rE(){return oh||(oh=$C(SR,IR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ws)}catch(n){console.warn(n)}}}}).catch(t=>{throw wr.create("idb-open",{originalErrorMessage:t.message})})),oh}async function CR(t){try{const n=(await rE()).transaction(Ws),r=await n.objectStore(Ws).get(iE(t));return await n.done,r}catch(e){if(e instanceof mi)zn.warn(e.message);else{const n=wr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zn.warn(n.message)}}}async function oy(t,e){try{const r=(await rE()).transaction(Ws,"readwrite");await r.objectStore(Ws).put(e,iE(t)),await r.done}catch(n){if(n instanceof mi)zn.warn(n.message);else{const r=wr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zn.warn(r.message)}}}function iE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=1024,AR=30*24*60*60*1e3;class xR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kR(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=sy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=AR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=sy(),{heartbeatsToSend:r,unsentEntries:i}=PR(this._heartbeatsCache.heartbeats),o=ru(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zn.warn(n),""}}}function sy(){return new Date().toISOString().substring(0,10)}function PR(t,e=RR){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),ay(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),ay(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?_C().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await CR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function ay(t){return ru(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t){zs(new so("platform-logger",e=>new BC(e),"PRIVATE")),zs(new so("heartbeat",e=>new xR(e),"PRIVATE")),Tr(vf,ry,t),Tr(vf,ry,"esm2017"),Tr("fire-js","")}NR("");var ly=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ri,oE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,y){function I(){}I.prototype=y.prototype,S.D=y.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(A,k,N){for(var R=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)R[ee-2]=arguments[ee];return y.prototype[k].apply(A,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,y,I){I||(I=0);var A=Array(16);if(typeof y=="string")for(var k=0;16>k;++k)A[k]=y.charCodeAt(I++)|y.charCodeAt(I++)<<8|y.charCodeAt(I++)<<16|y.charCodeAt(I++)<<24;else for(k=0;16>k;++k)A[k]=y[I++]|y[I++]<<8|y[I++]<<16|y[I++]<<24;y=S.g[0],I=S.g[1],k=S.g[2];var N=S.g[3],R=y+(N^I&(k^N))+A[0]+3614090360&4294967295;y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+A[1]+3905402710&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+A[2]+606105819&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+A[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(N^I&(k^N))+A[4]+4118548399&4294967295,y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+A[5]+1200080426&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+A[6]+2821735955&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+A[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(N^I&(k^N))+A[8]+1770035416&4294967295,y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+A[9]+2336552879&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+A[10]+4294925233&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+A[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(N^I&(k^N))+A[12]+1804603682&4294967295,y=I+(R<<7&4294967295|R>>>25),R=N+(k^y&(I^k))+A[13]+4254626195&4294967295,N=y+(R<<12&4294967295|R>>>20),R=k+(I^N&(y^I))+A[14]+2792965006&4294967295,k=N+(R<<17&4294967295|R>>>15),R=I+(y^k&(N^y))+A[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=y+(k^N&(I^k))+A[1]+4129170786&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+A[6]+3225465664&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+A[11]+643717713&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+A[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^N&(I^k))+A[5]+3593408605&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+A[10]+38016083&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+A[15]+3634488961&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+A[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^N&(I^k))+A[9]+568446438&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+A[14]+3275163606&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+A[3]+4107603335&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+A[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(k^N&(I^k))+A[13]+2850285829&4294967295,y=I+(R<<5&4294967295|R>>>27),R=N+(I^k&(y^I))+A[2]+4243563512&4294967295,N=y+(R<<9&4294967295|R>>>23),R=k+(y^I&(N^y))+A[7]+1735328473&4294967295,k=N+(R<<14&4294967295|R>>>18),R=I+(N^y&(k^N))+A[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=y+(I^k^N)+A[5]+4294588738&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+A[8]+2272392833&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+A[11]+1839030562&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+A[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^N)+A[1]+2763975236&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+A[4]+1272893353&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+A[7]+4139469664&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+A[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^N)+A[13]+681279174&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+A[0]+3936430074&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+A[3]+3572445317&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+A[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(I^k^N)+A[9]+3654602809&4294967295,y=I+(R<<4&4294967295|R>>>28),R=N+(y^I^k)+A[12]+3873151461&4294967295,N=y+(R<<11&4294967295|R>>>21),R=k+(N^y^I)+A[15]+530742520&4294967295,k=N+(R<<16&4294967295|R>>>16),R=I+(k^N^y)+A[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=y+(k^(I|~N))+A[0]+4096336452&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+A[7]+1126891415&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+A[14]+2878612391&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+A[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~N))+A[12]+1700485571&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+A[3]+2399980690&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+A[10]+4293915773&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+A[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~N))+A[8]+1873313359&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+A[15]+4264355552&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+A[6]+2734768916&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+A[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=y+(k^(I|~N))+A[4]+4149444226&4294967295,y=I+(R<<6&4294967295|R>>>26),R=N+(I^(y|~k))+A[11]+3174756917&4294967295,N=y+(R<<10&4294967295|R>>>22),R=k+(y^(N|~I))+A[2]+718787259&4294967295,k=N+(R<<15&4294967295|R>>>17),R=I+(N^(k|~y))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+y&4294967295,S.g[1]=S.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,S.g[2]=S.g[2]+k&4294967295,S.g[3]=S.g[3]+N&4294967295}r.prototype.u=function(S,y){y===void 0&&(y=S.length);for(var I=y-this.blockSize,A=this.B,k=this.h,N=0;N<y;){if(k==0)for(;N<=I;)i(this,S,N),N+=this.blockSize;if(typeof S=="string"){for(;N<y;)if(A[k++]=S.charCodeAt(N++),k==this.blockSize){i(this,A),k=0;break}}else for(;N<y;)if(A[k++]=S[N++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=y},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var y=1;y<S.length-8;++y)S[y]=0;var I=8*this.o;for(y=S.length-8;y<S.length;++y)S[y]=I&255,I/=256;for(this.u(S),S=Array(16),y=I=0;4>y;++y)for(var A=0;32>A;A+=8)S[I++]=this.g[y]>>>A&255;return S};function o(S,y){var I=l;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=y(S)}function s(S,y){this.h=y;for(var I=[],A=!0,k=S.length-1;0<=k;k--){var N=S[k]|0;A&&N==y||(I[k]=N,A=!1)}this.g=I}var l={};function u(S){return-128<=S&&128>S?o(S,function(y){return new s([y|0],0>y?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return P(c(-S));for(var y=[],I=1,A=0;S>=I;A++)y[A]=S/I|0,I*=4294967296;return new s(y,0)}function f(S,y){if(S.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(S.charAt(0)=="-")return P(f(S.substring(1),y));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(y,8)),A=p,k=0;k<S.length;k+=8){var N=Math.min(8,S.length-k),R=parseInt(S.substring(k,k+N),y);8>N?(N=c(Math.pow(y,N)),A=A.j(N).add(c(R))):(A=A.j(I),A=A.add(c(R)))}return A}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(x(this))return-P(this).m();for(var S=0,y=1,I=0;I<this.g.length;I++){var A=this.i(I);S+=(0<=A?A:4294967296+A)*y,y*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C(this))return"0";if(x(this))return"-"+P(this).toString(S);for(var y=c(Math.pow(S,6)),I=this,A="";;){var k=D(I,y).g;I=w(I,k.j(y));var N=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=k,C(I))return N+A;for(;6>N.length;)N="0"+N;A=N+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function C(S){if(S.h!=0)return!1;for(var y=0;y<S.g.length;y++)if(S.g[y]!=0)return!1;return!0}function x(S){return S.h==-1}t.l=function(S){return S=w(this,S),x(S)?-1:C(S)?0:1};function P(S){for(var y=S.g.length,I=[],A=0;A<y;A++)I[A]=~S.g[A];return new s(I,~S.h).add(m)}t.abs=function(){return x(this)?P(this):this},t.add=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0,k=0;k<=y;k++){var N=A+(this.i(k)&65535)+(S.i(k)&65535),R=(N>>>16)+(this.i(k)>>>16)+(S.i(k)>>>16);A=R>>>16,N&=65535,R&=65535,I[k]=R<<16|N}return new s(I,I[I.length-1]&-2147483648?-1:0)};function w(S,y){return S.add(P(y))}t.j=function(S){if(C(this)||C(S))return p;if(x(this))return x(S)?P(this).j(P(S)):P(P(this).j(S));if(x(S))return P(this.j(P(S)));if(0>this.l(v)&&0>S.l(v))return c(this.m()*S.m());for(var y=this.g.length+S.g.length,I=[],A=0;A<2*y;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(var k=0;k<S.g.length;k++){var N=this.i(A)>>>16,R=this.i(A)&65535,ee=S.i(k)>>>16,me=S.i(k)&65535;I[2*A+2*k]+=R*me,g(I,2*A+2*k),I[2*A+2*k+1]+=N*me,g(I,2*A+2*k+1),I[2*A+2*k+1]+=R*ee,g(I,2*A+2*k+1),I[2*A+2*k+2]+=N*ee,g(I,2*A+2*k+2)}for(A=0;A<y;A++)I[A]=I[2*A+1]<<16|I[2*A];for(A=y;A<2*y;A++)I[A]=0;return new s(I,0)};function g(S,y){for(;(S[y]&65535)!=S[y];)S[y+1]+=S[y]>>>16,S[y]&=65535,y++}function T(S,y){this.g=S,this.h=y}function D(S,y){if(C(y))throw Error("division by zero");if(C(S))return new T(p,p);if(x(S))return y=D(P(S),y),new T(P(y.g),P(y.h));if(x(y))return y=D(S,P(y)),new T(P(y.g),y.h);if(30<S.g.length){if(x(S)||x(y))throw Error("slowDivide_ only works with positive integers.");for(var I=m,A=y;0>=A.l(S);)I=L(I),A=L(A);var k=b(I,1),N=b(A,1);for(A=b(A,2),I=b(I,2);!C(A);){var R=N.add(A);0>=R.l(S)&&(k=k.add(I),N=R),A=b(A,1),I=b(I,1)}return y=w(S,k.j(y)),new T(k,y)}for(k=p;0<=S.l(y);){for(I=Math.max(1,Math.floor(S.m()/y.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),N=c(I),R=N.j(y);x(R)||0<R.l(S);)I-=A,N=c(I),R=N.j(y);C(N)&&(N=m),k=k.add(N),S=w(S,R)}return new T(k,S)}t.A=function(S){return D(this,S).h},t.and=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)&S.i(A);return new s(I,this.h&S.h)},t.or=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)|S.i(A);return new s(I,this.h|S.h)},t.xor=function(S){for(var y=Math.max(this.g.length,S.g.length),I=[],A=0;A<y;A++)I[A]=this.i(A)^S.i(A);return new s(I,this.h^S.h)};function L(S){for(var y=S.g.length+1,I=[],A=0;A<y;A++)I[A]=S.i(A)<<1|S.i(A-1)>>>31;return new s(I,S.h)}function b(S,y){var I=y>>5;y%=32;for(var A=S.g.length-I,k=[],N=0;N<A;N++)k[N]=0<y?S.i(N+I)>>>y|S.i(N+I+1)<<32-y:S.i(N+I);return new s(k,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,oE=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,ri=s}).apply(typeof ly<"u"?ly:typeof self<"u"?self:typeof window<"u"?window:{});var nl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sE,os,aE,Sl,wf,lE,uE,cE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof nl=="object"&&nl];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(a,h){if(h)e:{var d=r;a=a.split(".");for(var E=0;E<a.length-1;E++){var O=a[E];if(!(O in d))break e;d=d[O]}a=a[a.length-1],E=d[a],h=h(E),h!=E&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function o(a,h){a instanceof String&&(a+="");var d=0,E=!1,O={next:function(){if(!E&&d<a.length){var M=d++;return{value:h(M,a[M]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(a){return a||function(){return o(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function c(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),a.apply(h,O)}}return function(){return a.apply(h,arguments)}}function m(a,h,d){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,m.apply(null,arguments)}function v(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var E=d.slice();return E.push.apply(E,arguments),a.apply(this,E)}}function C(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(E,O,M){for(var B=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)B[ye-2]=arguments[ye];return h.prototype[O].apply(E,B)}}function x(a){const h=a.length;if(0<h){const d=Array(h);for(let E=0;E<h;E++)d[E]=a[E];return d}return[]}function P(a,h){for(let d=1;d<arguments.length;d++){const E=arguments[d];if(u(E)){const O=a.length||0,M=E.length||0;a.length=O+M;for(let B=0;B<M;B++)a[O+B]=E[B]}else a.push(E)}}class w{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function g(a){return/^[\s\xa0]*$/.test(a)}function T(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function D(a){return D[" "](a),a}D[" "]=function(){};var L=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function b(a,h,d){for(const E in a)h.call(d,a[E],E,a)}function S(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function y(a){const h={};for(const d in a)h[d]=a[d];return h}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(a,h){let d,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(d in E)a[d]=E[d];for(let M=0;M<I.length;M++)d=I[M],Object.prototype.hasOwnProperty.call(E,d)&&(a[d]=E[d])}}function k(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function N(a){l.setTimeout(()=>{throw a},0)}function R(){var a=K;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class ee{constructor(){this.h=this.g=null}add(h,d){const E=me.get();E.set(h,d),this.h?this.h.next=E:this.g=E,this.h=E}}var me=new w(()=>new le,a=>a.reset());class le{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let he,j=!1,K=new ee,q=()=>{const a=l.Promise.resolve(void 0);he=()=>{a.then(te)}};var te=()=>{for(var a;a=R();){try{a.h.call(a.g)}catch(d){N(d)}var h=me;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}j=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function ve(a,h){if(oe.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,E=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(L){e:{try{D(h.nodeName);var O=!0;break e}catch{}O=!1}O||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Ge[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ve.aa.h.call(this)}}C(ve,oe);var Ge={2:"touch",3:"pen",4:"mouse"};ve.prototype.h=function(){ve.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var rt="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function Cn(a,h,d,E,O){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!E,this.ha=O,this.key=++Kt,this.da=this.fa=!1}function sn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function an(a){this.src=a,this.g={},this.h=0}an.prototype.add=function(a,h,d,E,O){var M=a.toString();a=this.g[M],a||(a=this.g[M]=[],this.h++);var B=ln(a,h,E,O);return-1<B?(h=a[B],d||(h.fa=!1)):(h=new Cn(h,this.src,M,!!E,O),h.fa=d,a.push(h)),h};function Qn(a,h){var d=h.type;if(d in a.g){var E=a.g[d],O=Array.prototype.indexOf.call(E,h,void 0),M;(M=0<=O)&&Array.prototype.splice.call(E,O,1),M&&(sn(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function ln(a,h,d,E){for(var O=0;O<a.length;++O){var M=a[O];if(!M.da&&M.listener==h&&M.capture==!!d&&M.ha==E)return O}return-1}var un="closure_lm_"+(1e6*Math.random()|0),ge={};function Xn(a,h,d,E,O){if(Array.isArray(h)){for(var M=0;M<h.length;M++)Xn(a,h[M],d,E,O);return null}return d=ko(d),a&&a[rt]?a.K(h,d,c(E)?!!E.capture:!!E,O):Yn(a,h,d,!1,E,O)}function Yn(a,h,d,E,O,M){if(!h)throw Error("Invalid event type");var B=c(O)?!!O.capture:!!O,ye=Ei(a);if(ye||(a[un]=ye=new an(a)),d=ye.add(h,d,E,B,M),d.proxy)return d;if(E=dc(),d.proxy=E,E.src=a,E.listener=d,a.addEventListener)fe||(O=B),O===void 0&&(O=!1),a.addEventListener(h.toString(),E,O);else if(a.attachEvent)a.attachEvent(jr(h.toString()),E);else if(a.addListener&&a.removeListener)a.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return d}function dc(){function a(d){return h.call(a.src,a.listener,d)}const h=Sa;return a}function Ta(a,h,d,E,O){if(Array.isArray(h))for(var M=0;M<h.length;M++)Ta(a,h[M],d,E,O);else E=c(E)?!!E.capture:!!E,d=ko(d),a&&a[rt]?(a=a.i,h=String(h).toString(),h in a.g&&(M=a.g[h],d=ln(M,d,E,O),-1<d&&(sn(M[d]),Array.prototype.splice.call(M,d,1),M.length==0&&(delete a.g[h],a.h--)))):a&&(a=Ei(a))&&(h=a.g[h.toString()],a=-1,h&&(a=ln(h,d,E,O)),(d=-1<a?h[a]:null)&&Gt(d))}function Gt(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[rt])Qn(h.i,a);else{var d=a.type,E=a.proxy;h.removeEventListener?h.removeEventListener(d,E,a.capture):h.detachEvent?h.detachEvent(jr(d),E):h.addListener&&h.removeListener&&h.removeListener(E),(d=Ei(h))?(Qn(d,a),d.h==0&&(d.src=null,h[un]=null)):sn(a)}}}function jr(a){return a in ge?ge[a]:ge[a]="on"+a}function Sa(a,h){if(a.da)a=!0;else{h=new ve(h,this);var d=a.listener,E=a.ha||a.src;a.fa&&Gt(a),a=d.call(E,h)}return a}function Ei(a){return a=a[un],a instanceof an?a:null}var Ur="__closure_events_fn_"+(1e9*Math.random()>>>0);function ko(a){return typeof a=="function"?a:(a[Ur]||(a[Ur]=function(h){return a.handleEvent(h)}),a[Ur])}function $e(){J.call(this),this.i=new an(this),this.M=this,this.F=null}C($e,J),$e.prototype[rt]=!0,$e.prototype.removeEventListener=function(a,h,d,E){Ta(this,a,h,d,E)};function We(a,h){var d,E=a.F;if(E)for(d=[];E;E=E.F)d.push(E);if(a=a.M,E=h.type||h,typeof h=="string")h=new oe(h,a);else if(h instanceof oe)h.target=h.target||a;else{var O=h;h=new oe(E,a),A(h,O)}if(O=!0,d)for(var M=d.length-1;0<=M;M--){var B=h.g=d[M];O=Br(B,E,!0,h)&&O}if(B=h.g=a,O=Br(B,E,!0,h)&&O,O=Br(B,E,!1,h)&&O,d)for(M=0;M<d.length;M++)B=h.g=d[M],O=Br(B,E,!1,h)&&O}$e.prototype.N=function(){if($e.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],E=0;E<d.length;E++)sn(d[E]);delete a.g[h],a.h--}}this.F=null},$e.prototype.K=function(a,h,d,E){return this.i.add(String(a),h,!1,d,E)},$e.prototype.L=function(a,h,d,E){return this.i.add(String(a),h,!0,d,E)};function Br(a,h,d,E){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var O=!0,M=0;M<h.length;++M){var B=h[M];if(B&&!B.da&&B.capture==d){var ye=B.listener,Qe=B.ha||B.src;B.fa&&Qn(a.i,B),O=ye.call(Qe,E)!==!1&&O}}return O&&!E.defaultPrevented}function Gp(a,h,d){if(typeof a=="function")d&&(a=m(a,d));else if(a&&typeof a.handleEvent=="function")a=m(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Qp(a){a.g=Gp(()=>{a.g=null,a.i&&(a.i=!1,Qp(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class sT extends J{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Qp(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function No(a){J.call(this),this.h=a,this.g={}}C(No,J);var Xp=[];function Yp(a){b(a.g,function(h,d){this.g.hasOwnProperty(d)&&Gt(h)},a),a.g={}}No.prototype.N=function(){No.aa.N.call(this),Yp(this)},No.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pc=l.JSON.stringify,aT=l.JSON.parse,lT=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function mc(){}mc.prototype.h=null;function Jp(a){return a.h||(a.h=a.i())}function Zp(){}var Do={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gc(){oe.call(this,"d")}C(gc,oe);function yc(){oe.call(this,"c")}C(yc,oe);var zr={},em=null;function Ia(){return em=em||new $e}zr.La="serverreachability";function tm(a){oe.call(this,zr.La,a)}C(tm,oe);function Vo(a){const h=Ia();We(h,new tm(h))}zr.STAT_EVENT="statevent";function nm(a,h){oe.call(this,zr.STAT_EVENT,a),this.stat=h}C(nm,oe);function pt(a){const h=Ia();We(h,new nm(h,a))}zr.Ma="timingevent";function rm(a,h){oe.call(this,zr.Ma,a),this.size=h}C(rm,oe);function Oo(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function uT(a,h,d,E,O,M){a.info(function(){if(a.g)if(M)for(var B="",ye=M.split("&"),Qe=0;Qe<ye.length;Qe++){var ce=ye[Qe].split("=");if(1<ce.length){var it=ce[0];ce=ce[1];var ot=it.split("_");B=2<=ot.length&&ot[1]=="type"?B+(it+"="+ce+"&"):B+(it+"=redacted&")}}else B=null;else B=M;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+h+`
`+d+`
`+B})}function cT(a,h,d,E,O,M,B){a.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+h+`
`+d+`
`+M+" "+B})}function wi(a,h,d,E){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+fT(a,d)+(E?" "+E:"")})}function hT(a,h){a.info(function(){return"TIMEOUT: "+h})}Lo.prototype.info=function(){};function fT(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var E=d[a];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var M=O[0];if(M!="noop"&&M!="stop"&&M!="close")for(var B=1;B<O.length;B++)O[B]=""}}}}return pc(d)}catch{return h}}var Ca={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},im={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vc;function Ra(){}C(Ra,mc),Ra.prototype.g=function(){return new XMLHttpRequest},Ra.prototype.i=function(){return{}},vc=new Ra;function Jn(a,h,d,E){this.j=a,this.i=h,this.l=d,this.R=E||1,this.U=new No(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new om}function om(){this.i=null,this.g="",this.h=!1}var sm={},_c={};function Ec(a,h,d){a.L=1,a.v=ka(Rn(h)),a.m=d,a.P=!0,am(a,null)}function am(a,h){a.F=Date.now(),Aa(a),a.A=Rn(a.v);var d=a.A,E=a.R;Array.isArray(E)||(E=[String(E)]),wm(d.i,"t",E),a.C=0,d=a.j.J,a.h=new om,a.g=$m(a.j,d?h:null,!a.m),0<a.O&&(a.M=new sT(m(a.Y,a,a.g),a.O)),h=a.U,d=a.g,E=a.ca;var O="readystatechange";Array.isArray(O)||(O&&(Xp[0]=O.toString()),O=Xp);for(var M=0;M<O.length;M++){var B=Xn(d,O[M],E||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),Vo(),uT(a.i,a.u,a.A,a.l,a.R,a.m)}Jn.prototype.ca=function(a){a=a.target;const h=this.M;h&&An(a)==3?h.j():this.Y(a)},Jn.prototype.Y=function(a){try{if(a==this.g)e:{const ot=An(this.g);var h=this.g.Ba();const Ii=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||xm(this.g)))){this.J||ot!=4||h==7||(h==8||0>=Ii?Vo(3):Vo(2)),wc(this);var d=this.g.Z();this.X=d;t:if(lm(this)){var E=xm(this.g);a="";var O=E.length,M=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wr(this),bo(this);var B="";break t}this.h.i=new l.TextDecoder}for(h=0;h<O;h++)this.h.h=!0,a+=this.h.i.decode(E[h],{stream:!(M&&h==O-1)});E.length=0,this.h.g+=a,this.C=0,B=this.h.g}else B=this.g.oa();if(this.o=d==200,cT(this.i,this.u,this.A,this.l,this.R,ot,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ye,Qe=this.g;if((ye=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!g(ye)){var ce=ye;break t}}ce=null}if(d=ce)wi(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Tc(this,d);else{this.o=!1,this.s=3,pt(12),Wr(this),bo(this);break e}}if(this.P){d=!0;let Qt;for(;!this.J&&this.C<B.length;)if(Qt=dT(this,B),Qt==_c){ot==4&&(this.s=4,pt(14),d=!1),wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==sm){this.s=4,pt(15),wi(this.i,this.l,B,"[Invalid Chunk]"),d=!1;break}else wi(this.i,this.l,Qt,null),Tc(this,Qt);if(lm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||B.length!=0||this.h.h||(this.s=1,pt(16),d=!1),this.o=this.o&&d,!d)wi(this.i,this.l,B,"[Invalid Chunked Response]"),Wr(this),bo(this);else if(0<B.length&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.ba&&!it.M&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+B.length),xc(it),it.M=!0,pt(11))}}else wi(this.i,this.l,B,null),Tc(this,B);ot==4&&Wr(this),this.o&&!this.J&&(ot==4?Lm(this.j,this):(this.o=!1,Aa(this)))}else kT(this.g),d==400&&0<B.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Wr(this),bo(this)}}}catch{}finally{}};function lm(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function dT(a,h){var d=a.C,E=h.indexOf(`
`,d);return E==-1?_c:(d=Number(h.substring(d,E)),isNaN(d)?sm:(E+=1,E+d>h.length?_c:(h=h.slice(E,E+d),a.C=E+d,h)))}Jn.prototype.cancel=function(){this.J=!0,Wr(this)};function Aa(a){a.S=Date.now()+a.I,um(a,a.I)}function um(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Oo(m(a.ba,a),h)}function wc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Jn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(hT(this.i,this.A),this.L!=2&&(Vo(),pt(17)),Wr(this),this.s=2,bo(this)):um(this,this.S-a)};function bo(a){a.j.G==0||a.J||Lm(a.j,a)}function Wr(a){wc(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,Yp(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Tc(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Sc(d.h,a))){if(!a.K&&Sc(d.h,a)&&d.G==3){try{var E=d.Da.g.parse(h)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)ba(d),Oa(d);else break e;Ac(d),pt(18)}}else d.za=O[1],0<d.za-d.T&&37500>O[2]&&d.F&&d.v==0&&!d.C&&(d.C=Oo(m(d.Za,d),6e3));if(1>=fm(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else qr(d,11)}else if((a.K||d.g==a)&&ba(d),!g(h))for(O=d.Da.g.parse(h),h=0;h<O.length;h++){let ce=O[h];if(d.T=ce[0],ce=ce[1],d.G==2)if(ce[0]=="c"){d.K=ce[1],d.ia=ce[2];const it=ce[3];it!=null&&(d.la=it,d.j.info("VER="+d.la));const ot=ce[4];ot!=null&&(d.Aa=ot,d.j.info("SVER="+d.Aa));const Ii=ce[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(E=1.5*Ii,d.L=E,d.j.info("backChannelRequestTimeoutMs_="+E)),E=d;const Qt=a.g;if(Qt){const Fa=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fa){var M=E.h;M.g||Fa.indexOf("spdy")==-1&&Fa.indexOf("quic")==-1&&Fa.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Ic(M,M.h),M.h=null))}if(E.D){const Pc=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Pc&&(E.ya=Pc,we(E.I,E.D,Pc))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),E=d;var B=a;if(E.qa=Fm(E,E.J?E.ia:null,E.W),B.K){dm(E.h,B);var ye=B,Qe=E.L;Qe&&(ye.I=Qe),ye.B&&(wc(ye),Aa(ye)),E.g=B}else Vm(E);0<d.i.length&&La(d)}else ce[0]!="stop"&&ce[0]!="close"||qr(d,7);else d.G==3&&(ce[0]=="stop"||ce[0]=="close"?ce[0]=="stop"?qr(d,7):Rc(d):ce[0]!="noop"&&d.l&&d.l.ta(ce),d.v=0)}}Vo(4)}catch{}}var pT=class{constructor(a,h){this.g=a,this.map=h}};function cm(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hm(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function fm(a){return a.h?1:a.g?a.g.size:0}function Sc(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function Ic(a,h){a.g?a.g.add(h):a.h=h}function dm(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}cm.prototype.cancel=function(){if(this.i=pm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function pm(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return x(a.i)}function mT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var h=[],d=a.length,E=0;E<d;E++)h.push(a[E]);return h}h=[],d=0;for(E in a)h[d++]=a[E];return h}function gT(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const E in a)h[d++]=E;return h}}}function mm(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=gT(a),E=mT(a),O=E.length,M=0;M<O;M++)h.call(void 0,E[M],d&&d[M],a)}var gm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yT(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var E=a[d].indexOf("="),O=null;if(0<=E){var M=a[d].substring(0,E);O=a[d].substring(E+1)}else M=a[d];h(M,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Hr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Hr){this.h=a.h,xa(this,a.j),this.o=a.o,this.g=a.g,Pa(this,a.s),this.l=a.l;var h=a.i,d=new $o;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),ym(this,d),this.m=a.m}else a&&(h=String(a).match(gm))?(this.h=!1,xa(this,h[1]||"",!0),this.o=Mo(h[2]||""),this.g=Mo(h[3]||"",!0),Pa(this,h[4]),this.l=Mo(h[5]||"",!0),ym(this,h[6]||"",!0),this.m=Mo(h[7]||"")):(this.h=!1,this.i=new $o(null,this.h))}Hr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Fo(h,vm,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Fo(h,vm,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Fo(d,d.charAt(0)=="/"?ET:_T,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Fo(d,TT)),a.join("")};function Rn(a){return new Hr(a)}function xa(a,h,d){a.j=d?Mo(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Pa(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function ym(a,h,d){h instanceof $o?(a.i=h,ST(a.i,a.h)):(d||(h=Fo(h,wT)),a.i=new $o(h,a.h))}function we(a,h,d){a.i.set(h,d)}function ka(a){return we(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Mo(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Fo(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,vT),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function vT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var vm=/[#\/\?@]/g,_T=/[#\?:]/g,ET=/[#\?]/g,wT=/[#\?@]/g,TT=/#/g;function $o(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function Zn(a){a.g||(a.g=new Map,a.h=0,a.i&&yT(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=$o.prototype,t.add=function(a,h){Zn(this),this.i=null,a=Ti(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function _m(a,h){Zn(a),h=Ti(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function Em(a,h){return Zn(a),h=Ti(a,h),a.g.has(h)}t.forEach=function(a,h){Zn(this),this.g.forEach(function(d,E){d.forEach(function(O){a.call(h,O,E,this)},this)},this)},t.na=function(){Zn(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let E=0;E<h.length;E++){const O=a[E];for(let M=0;M<O.length;M++)d.push(h[E])}return d},t.V=function(a){Zn(this);let h=[];if(typeof a=="string")Em(this,a)&&(h=h.concat(this.g.get(Ti(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return Zn(this),this.i=null,a=Ti(this,a),Em(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function wm(a,h,d){_m(a,h),0<d.length&&(a.i=null,a.g.set(Ti(a,h),x(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var E=h[d];const M=encodeURIComponent(String(E)),B=this.V(E);for(E=0;E<B.length;E++){var O=M;B[E]!==""&&(O+="="+encodeURIComponent(String(B[E]))),a.push(O)}}return this.i=a.join("&")};function Ti(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function ST(a,h){h&&!a.j&&(Zn(a),a.i=null,a.g.forEach(function(d,E){var O=E.toLowerCase();E!=O&&(_m(this,E),wm(this,O,d))},a)),a.j=h}function IT(a,h){const d=new Lo;if(l.Image){const E=new Image;E.onload=v(er,d,"TestLoadImage: loaded",!0,h,E),E.onerror=v(er,d,"TestLoadImage: error",!1,h,E),E.onabort=v(er,d,"TestLoadImage: abort",!1,h,E),E.ontimeout=v(er,d,"TestLoadImage: timeout",!1,h,E),l.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=a}else h(!1)}function CT(a,h){const d=new Lo,E=new AbortController,O=setTimeout(()=>{E.abort(),er(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:E.signal}).then(M=>{clearTimeout(O),M.ok?er(d,"TestPingServer: ok",!0,h):er(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(O),er(d,"TestPingServer: error",!1,h)})}function er(a,h,d,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(d)}catch{}}function RT(){this.g=new lT}function AT(a,h,d){const E=d||"";try{mm(a,function(O,M){let B=O;c(O)&&(B=pc(O)),h.push(E+M+"="+encodeURIComponent(B))})}catch(O){throw h.push(E+"type="+encodeURIComponent("_badmap")),O}}function Na(a){this.l=a.Ub||null,this.j=a.eb||!1}C(Na,mc),Na.prototype.g=function(){return new Da(this.l,this.j)},Na.prototype.i=function(a){return function(){return a}}({});function Da(a,h){$e.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Da,$e),t=Da.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Uo(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Uo(this)),this.g&&(this.readyState=3,Uo(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tm(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tm(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?jo(this):Uo(this),this.readyState==3&&Tm(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,jo(this))},t.Qa=function(a){this.g&&(this.response=a,jo(this))},t.ga=function(){this.g&&jo(this)};function jo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Uo(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Uo(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Sm(a){let h="";return b(a,function(d,E){h+=E,h+=":",h+=d,h+=`\r
`}),h}function Cc(a,h,d){e:{for(E in d){var E=!1;break e}E=!0}E||(d=Sm(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):we(a,h,d))}function Ne(a){$e.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ne,$e);var xT=/^https?$/i,PT=["POST","PUT"];t=Ne.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vc.g(),this.v=this.o?Jp(this.o):Jp(vc),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(M){Im(this,M);return}if(a=d||"",d=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)d.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const M of E.keys())d.set(M,E.get(M));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(d.keys()).find(M=>M.toLowerCase()=="content-type"),O=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(PT,h,void 0))||E||O||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,B]of d)this.g.setRequestHeader(M,B);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Am(this),this.u=!0,this.g.send(a),this.u=!1}catch(M){Im(this,M)}};function Im(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,Cm(a),Va(a)}function Cm(a){a.A||(a.A=!0,We(a,"complete"),We(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,We(this,"complete"),We(this,"abort"),Va(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Va(this,!0)),Ne.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Rm(this):this.bb())},t.bb=function(){Rm(this)};function Rm(a){if(a.h&&typeof s<"u"&&(!a.v[1]||An(a)!=4||a.Z()!=2)){if(a.u&&An(a)==4)Gp(a.Ea,0,a);else if(We(a,"readystatechange"),An(a)==4){a.h=!1;try{const B=a.Z();e:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var E;if(E=B===0){var O=String(a.D).match(gm)[1]||null;!O&&l.self&&l.self.location&&(O=l.self.location.protocol.slice(0,-1)),E=!xT.test(O?O.toLowerCase():"")}d=E}if(d)We(a,"complete"),We(a,"success");else{a.m=6;try{var M=2<An(a)?a.g.statusText:""}catch{M=""}a.l=M+" ["+a.Z()+"]",Cm(a)}}finally{Va(a)}}}}function Va(a,h){if(a.g){Am(a);const d=a.g,E=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||We(a,"ready");try{d.onreadystatechange=E}catch{}}}function Am(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function An(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),aT(h)}};function xm(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function kT(a){const h={};a=(a.g&&2<=An(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<a.length;E++){if(g(a[E]))continue;var d=k(a[E]);const O=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const M=h[O]||[];h[O]=M,M.push(d)}S(h,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bo(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function Pm(a){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bo("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bo("baseRetryDelayMs",5e3,a),this.cb=Bo("retryDelaySeedMs",1e4,a),this.Wa=Bo("forwardChannelMaxRetries",2,a),this.wa=Bo("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new cm(a&&a.concurrentRequestLimit),this.Da=new RT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pm.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,E){pt(0),this.W=a,this.H=h||{},d&&E!==void 0&&(this.H.OSID=d,this.H.OAID=E),this.F=this.X,this.I=Fm(this,null,this.W),La(this)};function Rc(a){if(km(a),a.G==3){var h=a.U++,d=Rn(a.I);if(we(d,"SID",a.K),we(d,"RID",h),we(d,"TYPE","terminate"),zo(a,d),h=new Jn(a,a.j,h),h.L=2,h.v=ka(Rn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=$m(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Aa(h)}Mm(a)}function Oa(a){a.g&&(xc(a),a.g.cancel(),a.g=null)}function km(a){Oa(a),a.u&&(l.clearTimeout(a.u),a.u=null),ba(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function La(a){if(!hm(a.h)&&!a.s){a.s=!0;var h=a.Ga;he||q(),j||(he(),j=!0),K.add(h,a),a.B=0}}function NT(a,h){return fm(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Oo(m(a.Ga,a,h),bm(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const O=new Jn(this,this.j,a);let M=this.o;if(this.S&&(M?(M=y(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(O.H=M,M=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var E=this.i[d];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(h+=E,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=Dm(this,O,h),d=Rn(this.I),we(d,"RID",a),we(d,"CVER",22),this.D&&we(d,"X-HTTP-Session-Id",this.D),zo(this,d),M&&(this.O?h="headers="+encodeURIComponent(String(Sm(M)))+"&"+h:this.m&&Cc(d,this.m,M)),Ic(this.h,O),this.Ua&&we(d,"TYPE","init"),this.P?(we(d,"$req",h),we(d,"SID","null"),O.T=!0,Ec(O,d,null)):Ec(O,d,h),this.G=2}}else this.G==3&&(a?Nm(this,a):this.i.length==0||hm(this.h)||Nm(this))};function Nm(a,h){var d;h?d=h.l:d=a.U++;const E=Rn(a.I);we(E,"SID",a.K),we(E,"RID",d),we(E,"AID",a.T),zo(a,E),a.m&&a.o&&Cc(E,a.m,a.o),d=new Jn(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Dm(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Ic(a.h,d),Ec(d,E,h)}function zo(a,h){a.H&&b(a.H,function(d,E){we(h,E,d)}),a.l&&mm({},function(d,E){we(h,E,d)})}function Dm(a,h,d){d=Math.min(a.i.length,d);var E=a.l?m(a.l.Na,a.l,a):null;e:{var O=a.i;let M=-1;for(;;){const B=["count="+d];M==-1?0<d?(M=O[0].g,B.push("ofs="+M)):M=0:B.push("ofs="+M);let ye=!0;for(let Qe=0;Qe<d;Qe++){let ce=O[Qe].g;const it=O[Qe].map;if(ce-=M,0>ce)M=Math.max(0,O[Qe].g-100),ye=!1;else try{AT(it,B,"req"+ce+"_")}catch{E&&E(it)}}if(ye){E=B.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,E}function Vm(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;he||q(),j||(he(),j=!0),K.add(h,a),a.v=0}}function Ac(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Oo(m(a.Fa,a),bm(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Om(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Oo(m(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Oa(this),Om(this))};function xc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Om(a){a.g=new Jn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=Rn(a.qa);we(h,"RID","rpc"),we(h,"SID",a.K),we(h,"AID",a.T),we(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&we(h,"TO",a.ja),we(h,"TYPE","xmlhttp"),zo(a,h),a.m&&a.o&&Cc(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=ka(Rn(h)),d.m=null,d.P=!0,am(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Oa(this),Ac(this),pt(19))};function ba(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Lm(a,h){var d=null;if(a.g==h){ba(a),xc(a),a.g=null;var E=2}else if(Sc(a.h,h))d=h.D,dm(a.h,h),E=1;else return;if(a.G!=0){if(h.o)if(E==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var O=a.B;E=Ia(),We(E,new rm(E,d)),La(a)}else Vm(a);else if(O=h.s,O==3||O==0&&0<h.X||!(E==1&&NT(a,h)||E==2&&Ac(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),O){case 1:qr(a,5);break;case 4:qr(a,10);break;case 3:qr(a,6);break;default:qr(a,2)}}}function bm(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function qr(a,h){if(a.j.info("Error code "+h),h==2){var d=m(a.fb,a),E=a.Xa;const O=!E;E=new Hr(E||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xa(E,"https"),ka(E),O?IT(E.toString(),d):CT(E.toString(),d)}else pt(2);a.G=0,a.l&&a.l.sa(h),Mm(a),km(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Mm(a){if(a.G=0,a.ka=[],a.l){const h=pm(a.h);(h.length!=0||a.i.length!=0)&&(P(a.ka,h),P(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function Fm(a,h,d){var E=d instanceof Hr?Rn(d):new Hr(d);if(E.g!="")h&&(E.g=h+"."+E.g),Pa(E,E.s);else{var O=l.location;E=O.protocol,h=h?h+"."+O.hostname:O.hostname,O=+O.port;var M=new Hr(null);E&&xa(M,E),h&&(M.g=h),O&&Pa(M,O),d&&(M.l=d),E=M}return d=a.D,h=a.ya,d&&h&&we(E,d,h),we(E,"VER",a.la),zo(a,E),E}function $m(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new Ne(new Na({eb:d})):new Ne(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jm(){}t=jm.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ma(){}Ma.prototype.g=function(a,h){return new Pt(a,h)};function Pt(a,h){$e.call(this),this.g=new Pm(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!g(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!g(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new Si(this)}C(Pt,$e),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Rc(this.g)},Pt.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=pc(a),a=d);h.i.push(new pT(h.Ya++,a)),h.G==3&&La(h)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Rc(this.g),delete this.g,Pt.aa.N.call(this)};function Um(a){gc.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}C(Um,gc);function Bm(){yc.call(this),this.status=1}C(Bm,yc);function Si(a){this.g=a}C(Si,jm),Si.prototype.ua=function(){We(this.g,"a")},Si.prototype.ta=function(a){We(this.g,new Um(a))},Si.prototype.sa=function(a){We(this.g,new Bm)},Si.prototype.ra=function(){We(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,cE=function(){return new Ma},uE=function(){return Ia()},lE=zr,wf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ca.NO_ERROR=0,Ca.TIMEOUT=8,Ca.HTTP_ERROR=6,Sl=Ca,im.COMPLETE="complete",aE=im,Zp.EventType=Do,Do.OPEN="a",Do.CLOSE="b",Do.ERROR="c",Do.MESSAGE="d",$e.prototype.listen=$e.prototype.K,os=Zp,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,sE=Ne}).apply(typeof nl<"u"?nl:typeof self<"u"?self:typeof window<"u"?window:{});const uy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new zd("@firebase/firestore");function xi(){return ci.logLevel}function z(t,...e){if(ci.logLevel<=ne.DEBUG){const n=e.map(Hd);ci.debug(`Firestore (${To}): ${t}`,...n)}}function Wn(t,...e){if(ci.logLevel<=ne.ERROR){const n=e.map(Hd);ci.error(`Firestore (${To}): ${t}`,...n)}}function ao(t,...e){if(ci.logLevel<=ne.WARN){const n=e.map(Hd);ci.warn(`Firestore (${To}): ${t}`,...n)}}function Hd(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+t;throw Wn(e),new Error(e)}function de(t,e){t||Q()}function Y(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let H=class extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hE=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},DR=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}};class VR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class OR{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){de(this.o===void 0);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Ln;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ln,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ln)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(de(typeof r.accessToken=="string"),new hE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new ut(e)}}let LR=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},bR=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},MR=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}};class FR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){de(this.o===void 0);const r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.R=n.token,new MR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=$R(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function lo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{static fromTimestamp(e){return new X(e)}static min(){return new X(new Be(0,0))}static max(){return new X(new Be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Hs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Hs?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Hs{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new H($.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const jR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Hs{construct(e,n,r){return new Je(e,n,r)}static isValidIdentifier(e){return jR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Je(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new H($.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new H($.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new H($.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Je(n)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Se.fromString(e))}static fromName(e){return new G(Se.fromString(e).popFirst(5))}static empty(){return new G(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Se(e.slice()))}}function UR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=X.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new Rr(i,G.empty(),e)}function BR(t){return new Rr(t.readTime,t.key,-1)}class Rr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Rr(X.min(),G.empty(),-1)}static max(){return new Rr(X.max(),G.empty(),-1)}}function zR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(t){if(t.code!==$.FAILED_PRECONDITION||t.message!==WR)throw t;z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new F((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function qR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mu.oe=-1;function Fu(t){return t==null}function ou(t){return t===0&&1/t==-1/0}function KR(t){return typeof t=="number"&&Number.isInteger(t)&&!ou(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=cy(e)),e=QR(t.get(n),e);return cy(e)}function QR(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function cy(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Mr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||Ye.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rl(this.root,e,this.comparator,!1)}getReverseIterator(){return new rl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rl(this.root,e,this.comparator,!0)}}class rl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ye{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Ye.RED,this.left=i??Ye.EMPTY,this.right=o??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Ye(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ye.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ye(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fy(this.data.getIterator())}getIteratorFrom(e){return new fy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ze)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ze(this.comparator);return n.data=e,n}}class fy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.fields=e,e.sort(Je.comparator)}static empty(){return new Dt([])}unionWith(e){let n=new ze(Je.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Dt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pE("Invalid base64 string: "+o):o}}(e);return new nt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nt.EMPTY_BYTE_STRING=new nt("");const XR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ar(t){if(de(!!t),typeof t=="string"){let e=0;const n=XR.exec(t);if(de(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xr(t){return typeof t=="string"?nt.fromBase64String(t):nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function $u(t){const e=t.mapValue.fields.__previous_value__;return qd(e)?$u(e):e}function qs(t){const e=Ar(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n,r,i,o,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}let mE=class Tf{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Tf("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Tf&&e.projectId===this.projectId&&e.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Pr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?qd(t)?4:ZR(t)?9007199254740991:JR(t)?10:11:Q()}function wn(t,e){if(t===e)return!0;const n=Pr(t);if(n!==Pr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return qs(t).isEqual(qs(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Ar(i.timestampValue),l=Ar(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return xr(i.bytesValue).isEqual(xr(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Oe(i.doubleValue),l=Oe(o.doubleValue);return s===l?ou(s)===ou(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return lo(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(hy(s)!==hy(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!wn(s[u],l[u])))return!1;return!0}(t,e);default:return Q()}}function Ks(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function uo(t,e){if(t===e)return 0;const n=Pr(t),r=Pr(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return dy(t.timestampValue,e.timestampValue);case 4:return dy(qs(t),qs(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(o,s){const l=xr(o),u=xr(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=ie(l[c],u[c]);if(f!==0)return f}return ie(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=ie(Oe(o.latitude),Oe(s.latitude));return l!==0?l:ie(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return py(t.arrayValue,e.arrayValue);case 10:return function(o,s){var l,u,c,f;const p=o.fields||{},m=s.fields||{},v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,C=(u=m.value)===null||u===void 0?void 0:u.arrayValue,x=ie(((c=v==null?void 0:v.values)===null||c===void 0?void 0:c.length)||0,((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0);return x!==0?x:py(v,C)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===il.mapValue&&s===il.mapValue)return 0;if(o===il.mapValue)return 1;if(s===il.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let p=0;p<u.length&&p<f.length;++p){const m=ie(u[p],f[p]);if(m!==0)return m;const v=uo(l[u[p]],c[f[p]]);if(v!==0)return v}return ie(u.length,f.length)}(t.mapValue,e.mapValue);default:throw Q()}}function dy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Ar(t),r=Ar(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function py(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=uo(n[i],r[i]);if(o)return o}return ie(n.length,r.length)}function co(t){return Sf(t)}function Sf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ar(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Sf(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Sf(n.fields[s])}`;return i+"}"}(t.mapValue):Q()}function Il(t){switch(Pr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$u(t);return e?16+Il(e):16;case 5:return 2*t.stringValue.length;case 6:return xr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+Il(o),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Mr(r.fields,(o,s)=>{i+=o.length+Il(s)}),i}(t.mapValue);default:throw Q()}}function my(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function If(t){return!!t&&"integerValue"in t}function Kd(t){return!!t&&"arrayValue"in t}function gy(t){return!!t&&"nullValue"in t}function yy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cl(t){return!!t&&"mapValue"in t}function JR(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function _s(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Mr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_s(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_s(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.value=e}static empty(){return new wt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_s(n)}setAll(e){let n=Je.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=_s(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Cl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Mr(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new wt(_s(this.value))}}function gE(t){const e=[];return Mr(t.fields,(n,r)=>{const i=new Je([n]);if(Cl(r)){const o=gE(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Dt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ht(e,0,X.min(),X.min(),X.min(),wt.empty(),0)}static newFoundDocument(e,n,r,i){return new ht(e,1,n,X.min(),r,i,0)}static newNoDocument(e,n){return new ht(e,2,n,X.min(),X.min(),wt.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,X.min(),X.min(),wt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(X.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.position=e,this.inclusive=n}}function vy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=uo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function _y(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function eA(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class Fe extends yE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nA(e,n,r):n==="array-contains"?new oA(e,r):n==="in"?new sA(e,r):n==="not-in"?new aA(e,r):n==="array-contains-any"?new lA(e,r):new Fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rA(e,r):new iA(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Pr(this.value)===Pr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class on extends yE{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new on(e,n)}matches(e){return vE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vE(t){return t.op==="and"}function _E(t){return tA(t)&&vE(t)}function tA(t){for(const e of t.filters)if(e instanceof on)return!1;return!0}function Cf(t){if(t instanceof Fe)return t.field.canonicalString()+t.op.toString()+co(t.value);if(_E(t))return t.filters.map(e=>Cf(e)).join(",");{const e=t.filters.map(n=>Cf(n)).join(",");return`${t.op}(${e})`}}function EE(t,e){return t instanceof Fe?function(r,i){return i instanceof Fe&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&EE(s,i.filters[l]),!0):!1}(t,e):void Q()}function wE(t){return t instanceof Fe?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(t):t instanceof on?function(n){return n.op.toString()+" {"+n.getFilters().map(wE).join(" ,")+"}"}(t):"Filter"}class nA extends Fe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class rA extends Fe{constructor(e,n){super(e,"in",n),this.keys=TE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class iA extends Fe{constructor(e,n){super(e,"not-in",n),this.keys=TE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function TE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class oA extends Fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kd(n)&&Ks(n.arrayValue,this.value)}}class sA extends Fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ks(this.value.arrayValue,n)}}class aA extends Fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ks(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ks(this.value.arrayValue,n)}}class lA extends Fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kd(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ks(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function Ey(t,e=null,n=[],r=[],i=null,o=null,s=null){return new uA(t,e,n,r,i,o,s)}function Gd(t){const e=Y(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Fu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>co(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>co(r)).join(",")),e.ue=n}return e.ue}function Qd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eA(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!EE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_y(t.startAt,e.startAt)&&_y(t.endAt,e.endAt)}function Rf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cA(t,e,n,r,i,o,s,l){return new aa(t,e,n,r,i,o,s,l)}function Xd(t){return new aa(t)}function wy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function SE(t){return t.collectionGroup!==null}function Es(t){const e=Y(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new ze(Je.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new au(o,r))}),n.has(Je.keyField().canonicalString())||e.ce.push(new au(Je.keyField(),r))}return e.ce}function gn(t){const e=Y(t);return e.le||(e.le=hA(e,Es(t))),e.le}function hA(t,e){if(t.limitType==="F")return Ey(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new au(i.field,o)});const n=t.endAt?new su(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new su(t.startAt.position,t.startAt.inclusive):null;return Ey(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Af(t,e){const n=t.filters.concat([e]);return new aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xf(t,e,n){return new aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ju(t,e){return Qd(gn(t),gn(e))&&t.limitType===e.limitType}function IE(t){return`${Gd(gn(t))}|lt:${t.limitType}`}function Pi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>wE(i)).join(", ")}]`),Fu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>co(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>co(i)).join(",")),`Target(${r})`}(gn(t))}; limitType=${t.limitType})`}function Uu(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Es(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=vy(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,Es(r),i)||r.endAt&&!function(s,l,u){const c=vy(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,Es(r),i))}(t,e)}function fA(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function CE(t){return(e,n)=>{let r=!1;for(const i of Es(t)){const o=dA(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function dA(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),c=l.data.field(o);return u!==null&&c!==null?uo(u,c):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return dE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=new ke(G.comparator);function Hn(){return pA}const RE=new ke(G.comparator);function ss(...t){let e=RE;for(const n of t)e=e.insert(n.key,n);return e}function AE(t){let e=RE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zr(){return ws()}function xE(){return ws()}function ws(){return new gi(t=>t.toString(),(t,e)=>t.isEqual(e))}const mA=new ke(G.comparator),gA=new ze(G.comparator);function re(...t){let e=gA;for(const n of t)e=e.add(n);return e}const yA=new ze(ie);function vA(){return yA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ou(e)?"-0":e}}function PE(t){return{integerValue:""+t}}function _A(t,e){return KR(e)?PE(e):Yd(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(){this._=void 0}}function EA(t,e,n){return t instanceof lu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&qd(o)&&(o=$u(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Gs?NE(t,e):t instanceof Qs?DE(t,e):function(i,o){const s=kE(i,o),l=Ty(s)+Ty(i.Pe);return If(s)&&If(i.Pe)?PE(l):Yd(i.serializer,l)}(t,e)}function wA(t,e,n){return t instanceof Gs?NE(t,e):t instanceof Qs?DE(t,e):n}function kE(t,e){return t instanceof uu?function(r){return If(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class lu extends Bu{}class Gs extends Bu{constructor(e){super(),this.elements=e}}function NE(t,e){const n=VE(e);for(const r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Qs extends Bu{constructor(e){super(),this.elements=e}}function DE(t,e){let n=VE(e);for(const r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}class uu extends Bu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Ty(t){return Oe(t.integerValue||t.doubleValue)}function VE(t){return Kd(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TA(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Gs&&i instanceof Gs||r instanceof Qs&&i instanceof Qs?lo(r.elements,i.elements,wn):r instanceof uu&&i instanceof uu?wn(r.Pe,i.Pe):r instanceof lu&&i instanceof lu}(t.transform,e.transform)}class SA{constructor(e,n){this.version=e,this.transformResults=n}}class yn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zu{}function OE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bE(t.key,yn.none()):new la(t.key,t.data,yn.none());{const n=t.data,r=wt.empty();let i=new ze(Je.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Fr(t.key,r,new Dt(i.toArray()),yn.none())}}function IA(t,e,n){t instanceof la?function(i,o,s){const l=i.value.clone(),u=Iy(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Fr?function(i,o,s){if(!Rl(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=Iy(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LE(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ts(t,e,n,r){return t instanceof la?function(o,s,l,u){if(!Rl(o.precondition,s))return l;const c=o.value.clone(),f=Cy(o.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Fr?function(o,s,l,u){if(!Rl(o.precondition,s))return l;const c=Cy(o.fieldTransforms,u,s),f=s.data;return f.setAll(LE(o)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,l){return Rl(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function CA(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=kE(r.transform,i||null);o!=null&&(n===null&&(n=wt.empty()),n.set(r.field,o))}return n||null}function Sy(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&lo(r,i,(o,s)=>TA(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class la extends zu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Fr extends zu{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function LE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Iy(t,e,n){const r=new Map;de(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,wA(s,l,n[i]))}return r}function Cy(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,EA(o,s,e))}return r}class bE extends zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RA extends zu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&IA(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ts(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ts(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xE();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=OE(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(X.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,r)=>Sy(n,r))&&lo(this.baseMutations,e.baseMutations,(n,r)=>Sy(n,r))}}class Jd{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){de(e.mutations.length===r.length);let i=function(){return mA}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Jd(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be,se;function kA(t){switch(t){default:return Q();case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0}}function ME(t){if(t===void 0)return Wn("GRPC error has no .code"),$.UNKNOWN;switch(t){case be.OK:return $.OK;case be.CANCELLED:return $.CANCELLED;case be.UNKNOWN:return $.UNKNOWN;case be.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case be.INTERNAL:return $.INTERNAL;case be.UNAVAILABLE:return $.UNAVAILABLE;case be.UNAUTHENTICATED:return $.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case be.NOT_FOUND:return $.NOT_FOUND;case be.ALREADY_EXISTS:return $.ALREADY_EXISTS;case be.PERMISSION_DENIED:return $.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case be.ABORTED:return $.ABORTED;case be.OUT_OF_RANGE:return $.OUT_OF_RANGE;case be.UNIMPLEMENTED:return $.UNIMPLEMENTED;case be.DATA_LOSS:return $.DATA_LOSS;default:return Q()}}(se=be||(be={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=new ri([4294967295,4294967295],0);function Ry(t){const e=NA().encode(t),n=new oE;return n.update(e),new Uint8Array(n.digest())}function Ay(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ri([n,r],0),new ri([i,o],0)]}class Zd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new as(`Invalid padding: ${n}`);if(r<0)throw new as(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new as(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new as(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=ri.fromNumber(this.Te)}Ee(e,n,r){let i=e.add(n.multiply(ri.fromNumber(r)));return i.compare(DA)===1&&(i=new ri([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Ry(e),[r,i]=Ay(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Zd(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Te===0)return;const n=Ry(e),[r,i]=Ay(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class as extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wu(X.min(),i,new ke(ie),Hn(),re())}}class ua{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ua(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class FE{constructor(e,n){this.targetId=e,this.me=n}}class $E{constructor(e,n,r=nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xy{constructor(){this.fe=0,this.ge=Py(),this.pe=nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=re(),n=re(),r=re();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new ua(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Py()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,de(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class VA{constructor(e){this.Le=e,this.Be=new Map,this.ke=Hn(),this.qe=ol(),this.Qe=ol(),this.Ke=new ke(ie)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.je(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.me.count,i=this.Ye(n);if(i){const o=i.target;if(Rf(o))if(r===0){const s=new G(o.path);this.We(n,s,ht.newNoDocument(s,X.min()))}else de(r===1);else{const s=this.Ze(n);if(s!==r){const l=this.Xe(e),u=l?this.et(l,e,s):1;if(u!==0){this.He(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,c)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=xr(r).toUint8Array()}catch(u){if(u instanceof pE)return ao("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Zd(s,i,o)}catch(u){return ao(u instanceof as?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Te===0?null:l}et(e,n,r){return n.me.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.nt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.We(n,o,null),i++)}),i}it(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Ye(s);if(l){if(o.current&&Rf(l.target)){const u=new G(l.target.path);this.st(u).has(s)||this.ot(s,u)||this.We(s,u,ht.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=re();this.Qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const c=this.Ye(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Wu(e,n,this.Ke,this.ke,r);return this.ke=Hn(),this.qe=ol(),this.Qe=ol(),this.Ke=new ke(ie),i}Ue(e,n){if(!this.je(e))return;const r=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,n)?i.Fe(n,1):i.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new xy,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new ze(ie),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ze(ie),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new xy),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ol(){return new ke(G.comparator)}function Py(){return new ke(G.comparator)}const OA={asc:"ASCENDING",desc:"DESCENDING"},LA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bA={and:"AND",or:"OR"};class MA{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pf(t,e){return t.useProto3Json||Fu(e)?e:{value:e}}function cu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function FA(t,e){return cu(t,e.toTimestamp())}function vn(t){return de(!!t),X.fromTimestamp(function(n){const r=Ar(n);return new Be(r.seconds,r.nanos)}(t))}function ep(t,e){return kf(t,e).canonicalString()}function kf(t,e){const n=function(i){return new Se(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UE(t){const e=Se.fromString(t);return de(qE(e)),e}function Nf(t,e){return ep(t.databaseId,e.path)}function sh(t,e){const n=UE(e);if(n.get(1)!==t.databaseId.projectId)throw new H($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(zE(n))}function BE(t,e){return ep(t.databaseId,e)}function $A(t){const e=UE(t);return e.length===4?Se.emptyPath():zE(e)}function Df(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zE(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ky(t,e,n){return{name:Nf(t,e),fields:n.value.mapValue.fields}}function jA(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,f){return c.useProto3Json?(de(f===void 0||typeof f=="string"),nt.fromBase64String(f||"")):(de(f===void 0||f instanceof Buffer||f instanceof Uint8Array),nt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?$.UNKNOWN:ME(c.code);return new H(f,c.message||"")}(s);n=new $E(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=sh(t,r.document.name),o=vn(r.document.updateTime),s=r.document.createTime?vn(r.document.createTime):X.min(),l=new wt({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(i,o,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new Al(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=sh(t,r.document),o=r.readTime?vn(r.readTime):X.min(),s=ht.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Al([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=sh(t,r.document),o=r.removedTargetIds||[];n=new Al([],o,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new PA(i,o),l=r.targetId;n=new FE(l,s)}}return n}function UA(t,e){let n;if(e instanceof la)n={update:ky(t,e.key,e.value)};else if(e instanceof bE)n={delete:Nf(t,e.key)};else if(e instanceof Fr)n={update:ky(t,e.key,e.data),updateMask:XA(e.fieldMask)};else{if(!(e instanceof RA))return Q();n={verify:Nf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof lu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Qs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof uu)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:FA(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Q()}(t,e.precondition)),n}function BA(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?vn(i.updateTime):vn(o);return s.isEqual(X.min())&&(s=vn(o)),new SA(s,i.transformResults||[])}(n,e))):[]}function zA(t,e){return{documents:[BE(t,e.path)]}}function WA(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(t,i);const o=function(c){if(c.length!==0)return HE(on.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(f=>function(m){return{field:ki(m.field),direction:KA(m.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Pf(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ct:n,parent:i}}function HA(t){let e=$A(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){de(r===1);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(p){const m=WE(p);return m instanceof on&&_E(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(C){return new au(Ni(C.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(m))}(n.orderBy));let l=null;n.limit&&(l=function(p){let m;return m=typeof p=="object"?p.value:p,Fu(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){const m=!!p.before,v=p.values||[];return new su(v,m)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const m=!p.before,v=p.values||[];return new su(v,m)}(n.endAt)),cA(e,i,s,o,l,"F",u,c)}function qA(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function WE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ni(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ni(n.unaryFilter.field);return Fe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ni(n.unaryFilter.field);return Fe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ni(n.unaryFilter.field);return Fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return Fe.create(Ni(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return on.create(n.compositeFilter.filters.map(r=>WE(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function KA(t){return OA[t]}function GA(t){return LA[t]}function QA(t){return bA[t]}function ki(t){return{fieldPath:t.canonicalString()}}function Ni(t){return Je.fromServerFormat(t.fieldPath)}function HE(t){return t instanceof Fe?function(n){if(n.op==="=="){if(yy(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NAN"}};if(gy(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(yy(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NAN"}};if(gy(n.value))return{unaryFilter:{field:ki(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ki(n.field),op:GA(n.op),value:n.value}}}(t):t instanceof on?function(n){const r=n.getFilters().map(i=>HE(i));return r.length===1?r[0]:{compositeFilter:{op:QA(n.op),filters:r}}}(t):Q()}function XA(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function qE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n,r,i,o=X.min(),s=X.min(),l=nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e){this.ht=e}}function JA(t){const e=HA({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.ln=new ex}addToCollectionParentIndex(e,n){return this.ln.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Rr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Rr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class ex{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ze(Se.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ze(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _t{static withCacheSize(e){return new _t(e,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_t.DEFAULT_COLLECTION_PERCENTILE=10,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_t.DEFAULT=new _t(41943040,_t.DEFAULT_COLLECTION_PERCENTILE,_t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_t.DISABLED=new _t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ho(0)}static Qn(){return new ho(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class tx{constructor(e){this.Gn=e,this.buffer=new ze(Dy),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Dy(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nx{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Io(n)?z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Yn(3e5)})}}class rx{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Mu.oe);const r=new tx(n);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Zn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(z("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Ny)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let r,i,o,s,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),xi()<=ne.DEBUG&&z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}}function ix(t,e){return new rx(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.changes=new gi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ts(r.mutation,i,Dt.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const i=Zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=ss();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=Hn();const s=ws(),l=function(){return ws()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof Fr)?o=o.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),Ts(f.mutation,c,f.mutation.getFieldMask(),Be.now())):s.set(c.key,Dt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var p;return l.set(c,new sx(f,(p=s.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ws();let i=new ke((s,l)=>s-l),o=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Dt.empty();f=l.applyToLocalView(c,f),r.set(u,f);const p=(i.get(l.batchId)||re()).add(u);i=i.insert(l.batchId,p)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,p=xE();f.forEach(m=>{if(!o.has(m)){const v=OE(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):SE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):F.resolve(Zr());let l=-1,u=o;return s.next(c=>F.forEach(c,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(f)?F.resolve():this.remoteDocumentCache.getEntry(e,f).next(m=>{u=u.insert(f,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,re())).next(f=>({batchId:l,changes:AE(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=ss();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=ss();return this.indexManager.getCollectionParents(e,o).next(l=>F.forEach(l,u=>{const c=function(p,m){return new aa(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,ht.newInvalidDocument(f)))});let l=ss();return s.forEach((u,c)=>{const f=o.get(u);f!==void 0&&Ts(f.mutation,c,Dt.empty(),Be.now()),Uu(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return F.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(i){return{name:i.name,query:JA(i.bundledQuery),readTime:vn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.overlays=new ke(G.comparator),this.Er=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zr();return F.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.Tt(e,n,o)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Er.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=Zr(),o=n.length+1,s=new G(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ke((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=o.get(c.largestBatchId);f===null&&(f=Zr(),o=o.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Zr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return F.resolve(l)}Tt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xA(n,r));let o=this.Er.get(n);o===void 0&&(o=re(),this.Er.set(n,o)),this.Er.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.sessionToken=nt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this.dr=new ze(He.Ar),this.Rr=new ze(He.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const r=new He(e,n);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.gr(new He(e,n))}pr(e,n){e.forEach(r=>this.removeReference(r,n))}yr(e){const n=new G(new Se([])),r=new He(n,e),i=new He(n,e+1),o=[];return this.Rr.forEachInRange([r,i],s=>{this.gr(s),o.push(s.key)}),o}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new G(new Se([])),r=new He(n,e),i=new He(n,e+1);let o=re();return this.Rr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new He(e,0),r=this.dr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return G.comparator(e.key,n.key)||ie(e.br,n.br)}static Vr(e,n){return ie(e.br,n.br)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new ze(He.Ar)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new AA(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.vr=this.vr.add(new He(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,n){return F.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Fr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),i=new He(n,Number.POSITIVE_INFINITY),o=[];return this.vr.forEachInRange([r,i],s=>{const l=this.Cr(s.br);o.push(l)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ze(ie);return n.forEach(i=>{const o=new He(i,0),s=new He(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([o,s],l=>{r=r.add(l.br)})}),F.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;G.isDocumentKey(o)||(o=o.child(""));const s=new He(new G(o),0);let l=new ze(ie);return this.vr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.br)),!0)},s),F.resolve(this.Mr(l))}Mr(e){const n=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){de(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return F.forEach(n.mutations,i=>{const o=new He(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,n){const r=new He(n,0),i=this.vr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.Nr=e,this.docs=function(){return new ke(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Nr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Hn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ht.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Hn();const s=n.path,l=new G(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||zR(BR(f),r)<=0||(i.has(f.key)||Uu(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Q()}Lr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new dx(this)}getSize(e){return F.resolve(this.size)}}class dx extends ox{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.persistence=e,this.Br=new gi(n=>Gd(n),Qd),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.kr=0,this.qr=new tp,this.targetCount=0,this.Qr=ho.qn()}forEachTarget(e,n){return this.Br.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.kr&&(this.kr=n),F.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new ho(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Un(n),F.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Br.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Br.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Br.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.qr.mr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.qr.pr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.qr.Sr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n){this.Kr={},this.overlays={},this.$r=new Mu(0),this.Ur=!1,this.Ur=!0,this.Wr=new cx,this.referenceDelegate=e(this),this.Gr=new px(this),this.indexManager=new ZA,this.remoteDocumentCache=function(i){return new fx(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new YA(n),this.jr=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ux,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Kr[e.toKey()];return r||(r=new hx(n,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);const i=new mx(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(o=>this.referenceDelegate.Jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Yr(e,n){return F.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,n)))}}class mx extends HR{constructor(e){super(),this.currentSequenceNumber=e}}class np{constructor(e){this.persistence=e,this.Zr=new tp,this.Xr=null}static ei(e){return new np(e)}get ti(){if(this.Xr)return this.Xr;throw Q()}addReference(e,n,r){return this.Zr.addReference(r,n),this.ti.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Zr.removeReference(r,n),this.ti.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),F.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.ti.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ti,r=>{const i=G.fromPath(r);return this.ni(e,i).next(o=>{o||n.removeEntry(i,X.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(r=>{r?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return F.or([()=>F.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class hu{constructor(e,n){this.persistence=e,this.ri=new gi(r=>GR(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=ix(this,n)}static ei(e,n){return new hu(e,n)}Hr(){}Jr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}nr(e){let n=0;return this.er(e,r=>{n++}).next(()=>n)}er(e,n){return F.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(o=>o?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Lr(e,s=>this.ir(e,s,n).next(l=>{l||(r++,o.removeEntry(s,X.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.ri.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),F.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Il(e.data.value)),n}ir(e,n,r){return F.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.ri.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Wi=r,this.Gi=i}static zi(e,n){let r=re(),i=re();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new rp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return yC()?8:qR(mC())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Xi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.es(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new gx;return this.ts(e,n,s).next(l=>{if(o.result=l,this.Hi)return this.ns(e,n,s,l.size)})}).next(()=>o.result)}ns(e,n,r,i){return r.documentReadCount<this.Ji?(xi()<=ne.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Pi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),F.resolve()):(xi()<=ne.DEBUG&&z("QueryEngine","Query:",Pi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(xi()<=ne.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Pi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gn(n))):F.resolve())}Xi(e,n){if(wy(n))return F.resolve(null);let r=gn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=xf(n,null,"F"),r=gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=re(...o);return this.Zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.rs(n,l);return this.ss(n,c,s,u.readTime)?this.Xi(e,xf(n,null,"F")):this.os(e,c,n,u)}))})))}es(e,n,r,i){return wy(n)||i.isEqual(X.min())?F.resolve(null):this.Zi.getDocuments(e,r).next(o=>{const s=this.rs(n,o);return this.ss(n,s,r,i)?F.resolve(null):(xi()<=ne.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Pi(n)),this.os(e,s,n,UR(i,-1)).next(l=>l))})}rs(e,n){let r=new ze(CE(e));return n.forEach((i,o)=>{Uu(e,o)&&(r=r.add(o))}),r}ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ts(e,n,r){return xi()<=ne.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Pi(n)),this.Zi.getDocumentsMatchingQuery(e,n,Rr.min(),r)}os(e,n,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n,r,i){this.persistence=e,this._s=n,this.serializer=i,this.us=new ke(ie),this.cs=new gi(o=>Gd(o),Qd),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ax(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function _x(t,e,n,r){return new vx(t,e,n,r)}async function GE(t,e){const n=Y(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.Ps(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=re();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of o){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ts:c,removedBatchIds:s,addedBatchIds:l}))})})}function Ex(t,e){const n=Y(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.hs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const p=c.batch,m=p.keys();let v=F.resolve();return m.forEach(C=>{v=v.next(()=>f.getEntry(u,C)).next(x=>{const P=c.docVersions.get(C);de(P!==null),x.version.compareTo(P)<0&&(p.applyToRemoteDocument(x,c),x.isValidDocument()&&(x.setReadTime(c.commitVersion),f.addEntry(x)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=re();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function QE(t){const e=Y(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function wx(t,e){const n=Y(t),r=e.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const l=[];e.targetChanges.forEach((f,p)=>{const m=i.get(p);if(!m)return;l.push(n.Gr.removeMatchingKeys(o,f.removedDocuments,p).next(()=>n.Gr.addMatchingKeys(o,f.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(nt.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),i=i.insert(p,v),function(x,P,w){return x.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(m,v,f)&&l.push(n.Gr.updateTargetData(o,v))});let u=Hn(),c=re();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,f))}),l.push(Tx(o,s,e.documentUpdates).next(f=>{u=f.Is,c=f.Es})),!r.isEqual(X.min())){const f=n.Gr.getLastRemoteSnapshotVersion(o).next(p=>n.Gr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(f)}return F.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.us=i,o))}function Tx(t,e,n){let r=re(),i=re();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=Hn();return n.forEach((l,u)=>{const c=o.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(X.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):z("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{Is:s,Es:i}})}function Sx(t,e){const n=Y(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ix(t,e){const n=Y(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Gr.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):n.Gr.allocateTargetId(r).next(s=>(i=new cr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.us.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.us=n.us.insert(r.targetId,r),n.cs.set(e,r.targetId)),r})}async function Vf(t,e,n){const r=Y(t),i=r.us.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Io(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.us=r.us.remove(e),r.cs.delete(i.target)}function Vy(t,e,n){const r=Y(t);let i=X.min(),o=re();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const p=Y(u),m=p.cs.get(f);return m!==void 0?F.resolve(p.us.get(m)):p.Gr.getTargetData(c,f)}(r,s,gn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r._s.getDocumentsMatchingQuery(s,e,n?i:X.min(),n?o:re())).next(l=>(Cx(r,fA(e),l),{documents:l,ds:o})))}function Cx(t,e,n){let r=t.ls.get(e)||X.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ls.set(e,r)}class Oy{constructor(){this.activeTargetIds=vA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Rx{constructor(){this._o=new Oy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,r){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Oy,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl=null;function ah(){return sl===null?sl=function(){return 268435456+Math.round(2147483648*Math.random())}():sl++,"0x"+sl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lt="WebChannelConnection";class kx extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+n.host,this.Mo=`projects/${i}/databases/${o}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Oo(n,r,i,o,s){const l=ah(),u=this.No(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const c={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(c,o,s),this.Bo(n,u,c,i).then(f=>(z("RestConnection",`Received RPC '${n}' ${l}: `,f),f),f=>{throw ao("RestConnection",`RPC '${n}' ${l} failed with error: `,f,"url: ",u,"request:",i),f})}ko(n,r,i,o,s,l){return this.Oo(n,r,i,o,s)}Lo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}No(n,r){const i=xx[n];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,r,i){const o=ah();return new Promise((s,l)=>{const u=new sE;u.setWithCredentials(!0),u.listenOnce(aE.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Sl.NO_ERROR:const f=u.getResponseJson();z(lt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Sl.TIMEOUT:z(lt,`RPC '${e}' ${o} timed out`),l(new H($.DEADLINE_EXCEEDED,"Request time out"));break;case Sl.HTTP_ERROR:const p=u.getStatus();if(z(lt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const v=m==null?void 0:m.error;if(v&&v.status&&v.message){const C=function(P){const w=P.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(w)>=0?w:$.UNKNOWN}(v.status);l(new H(C,v.message))}else l(new H($.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new H($.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{z(lt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);z(lt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}qo(e,n,r){const i=ah(),o=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=cE(),l=uE(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Lo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=o.join("");z(lt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const p=s.createWebChannel(f,u);let m=!1,v=!1;const C=new Px({Eo:P=>{v?z(lt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(m||(z(lt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),z(lt,`RPC '${e}' stream ${i} sending:`,P),p.send(P))},Ao:()=>p.close()}),x=(P,w,g)=>{P.listen(w,T=>{try{g(T)}catch(D){setTimeout(()=>{throw D},0)}})};return x(p,os.EventType.OPEN,()=>{v||(z(lt,`RPC '${e}' stream ${i} transport opened.`),C.So())}),x(p,os.EventType.CLOSE,()=>{v||(v=!0,z(lt,`RPC '${e}' stream ${i} transport closed`),C.Do())}),x(p,os.EventType.ERROR,P=>{v||(v=!0,ao(lt,`RPC '${e}' stream ${i} transport errored:`,P),C.Do(new H($.UNAVAILABLE,"The operation could not be completed")))}),x(p,os.EventType.MESSAGE,P=>{var w;if(!v){const g=P.data[0];de(!!g);const T=g,D=(T==null?void 0:T.error)||((w=T[0])===null||w===void 0?void 0:w.error);if(D){z(lt,`RPC '${e}' stream ${i} received error:`,D);const L=D.status;let b=function(I){const A=be[I];if(A!==void 0)return ME(A)}(L),S=D.message;b===void 0&&(b=$.INTERNAL,S="Unknown error status: "+L+" with message "+D.message),v=!0,C.Do(new H(b,S)),p.close()}else z(lt,`RPC '${e}' stream ${i} received:`,g),C.vo(g)}}),x(l,lE.STAT_EVENT,P=>{P.stat===wf.PROXY?z(lt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===wf.NOPROXY&&z(lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.bo()},0),C}}function lh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hu(t){return new MA(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(e,n,r=1e3,i=1.5,o=6e4){this.li=e,this.timerId=n,this.Qo=r,this.Ko=i,this.$o=o,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n,r,i,o,s,l,u){this.li=e,this.Yo=r,this.Zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new XE(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(Wn(n.toString()),Wn("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===n&&this.I_(r,i)},r=>{e(()=>{const i=new H($.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,n){const r=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Nx extends YE{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=jA(this.serializer,e),r=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?vn(s.readTime):X.min()}(e);return this.listener.R_(n,r)}V_(e){const n={};n.database=Df(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=Rf(u)?{documents:zA(o,u)}:{query:WA(o,u).ct},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=jE(o,s.resumeToken);const c=Pf(o,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(X.min())>0){l.readTime=cu(o,s.snapshotVersion.toTimestamp());const c=Pf(o,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=qA(this.serializer,e);r&&(n.labels=r),this.c_(n)}m_(e){const n={};n.database=Df(this.serializer),n.removeTarget=e,this.c_(n)}}class Dx extends YE{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return de(!!e.streamToken),this.lastStreamToken=e.streamToken,de(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=BA(e.writeResults,e.commitTime),r=vn(e.commitTime);return this.listener.y_(r,n)}w_(){const e={};e.database=Df(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>UA(this.serializer,r))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Oo(e,kf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H($.UNKNOWN,o.toString())})}ko(e,n,r,i,o){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.ko(e,kf(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H($.UNKNOWN,s.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class Ox{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Wn(n),this.C_=!1):z("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=o,this.Q_.uo(s=>{r.enqueueAndForget(async()=>{yi(this)&&(z("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=Y(u);c.k_.add(4),await ca(c),c.K_.set("Unknown"),c.k_.delete(4),await qu(c)}(this))})}),this.K_=new Ox(r,i)}}async function qu(t){if(yi(t))for(const e of t.q_)await e(!0)}async function ca(t){for(const e of t.q_)await e(!1)}function JE(t,e){const n=Y(t);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),ap(n)?sp(n):Co(n).s_()&&op(n,e))}function ip(t,e){const n=Y(t),r=Co(n);n.B_.delete(e),r.s_()&&ZE(n,e),n.B_.size===0&&(r.s_()?r.a_():yi(n)&&n.K_.set("Unknown"))}function op(t,e){if(t.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(t).V_(e)}function ZE(t,e){t.U_.xe(e),Co(t).m_(e)}function sp(t){t.U_=new VA({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>t.B_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Co(t).start(),t.K_.F_()}function ap(t){return yi(t)&&!Co(t).i_()&&t.B_.size>0}function yi(t){return Y(t).k_.size===0}function ew(t){t.U_=void 0}async function bx(t){t.K_.set("Online")}async function Mx(t){t.B_.forEach((e,n)=>{op(t,e)})}async function Fx(t,e){ew(t),ap(t)?(t.K_.O_(e),sp(t)):t.K_.set("Unknown")}async function $x(t,e,n){if(t.K_.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.B_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.B_.delete(l),i.U_.removeTarget(l))}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await fu(t,r)}else if(e instanceof Al?t.U_.$e(e):e instanceof FE?t.U_.Je(e):t.U_.Ge(e),!n.isEqual(X.min()))try{const r=await QE(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.U_.it(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=o.B_.get(c);f&&o.B_.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=o.B_.get(u);if(!f)return;o.B_.set(u,f.withResumeToken(nt.EMPTY_BYTE_STRING,f.snapshotVersion)),ZE(o,u);const p=new cr(f.target,u,c,f.sequenceNumber);op(o,p)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){z("RemoteStore","Failed to raise snapshot:",r),await fu(t,r)}}async function fu(t,e,n){if(!Io(e))throw e;t.k_.add(1),await ca(t),t.K_.set("Offline"),n||(n=()=>QE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{z("RemoteStore","Retrying IndexedDB access"),await n(),t.k_.delete(1),await qu(t)})}function tw(t,e){return e().catch(n=>fu(t,n,e))}async function Ku(t){const e=Y(t),n=kr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;jx(e);)try{const i=await Sx(e.localStore,r);if(i===null){e.L_.length===0&&n.a_();break}r=i.batchId,Ux(e,i)}catch(i){await fu(e,i)}nw(e)&&rw(e)}function jx(t){return yi(t)&&t.L_.length<10}function Ux(t,e){t.L_.push(e);const n=kr(t);n.s_()&&n.f_&&n.g_(e.mutations)}function nw(t){return yi(t)&&!kr(t).i_()&&t.L_.length>0}function rw(t){kr(t).start()}async function Bx(t){kr(t).w_()}async function zx(t){const e=kr(t);for(const n of t.L_)e.g_(n.mutations)}async function Wx(t,e,n){const r=t.L_.shift(),i=Jd.from(r,e,n);await tw(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Ku(t)}async function Hx(t,e){e&&kr(t).f_&&await async function(r,i){if(function(s){return kA(s)&&s!==$.ABORTED}(i.code)){const o=r.L_.shift();kr(r).__(),await tw(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Ku(r)}}(t,e),nw(t)&&rw(t)}async function by(t,e){const n=Y(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");const r=yi(n);n.k_.add(3),await ca(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await qu(n)}async function qx(t,e){const n=Y(t);e?(n.k_.delete(2),await qu(n)):e||(n.k_.add(2),await ca(n),n.K_.set("Unknown"))}function Co(t){return t.W_||(t.W_=function(n,r,i){const o=Y(n);return o.b_(),new Nx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:bx.bind(null,t),mo:Mx.bind(null,t),po:Fx.bind(null,t),R_:$x.bind(null,t)}),t.q_.push(async e=>{e?(t.W_.__(),ap(t)?sp(t):t.K_.set("Unknown")):(await t.W_.stop(),ew(t))})),t.W_}function kr(t){return t.G_||(t.G_=function(n,r,i){const o=Y(n);return o.b_(),new Dx(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Ro:()=>Promise.resolve(),mo:Bx.bind(null,t),po:Hx.bind(null,t),p_:zx.bind(null,t),y_:Wx.bind(null,t)}),t.q_.push(async e=>{e?(t.G_.__(),await Ku(t)):(await t.G_.stop(),t.L_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.L_.length} pending writes`),t.L_=[]))})),t.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ln,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new lp(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H($.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(t,e){if(Wn("AsyncQueue",`${e}: ${t}`),Io(t))return new H($.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{static emptySet(e){return new Ji(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=ss(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ji)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ji;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{constructor(){this.z_=new ke(G.comparator)}track(e){const n=e.doc.key,r=this.z_.get(n);r?e.type!==0&&r.type===3?this.z_=this.z_.insert(n,e):e.type===3&&r.type!==1?this.z_=this.z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.z_=this.z_.remove(n):e.type===1&&r.type===2?this.z_=this.z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Q():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fo{constructor(e,n,r,i,o,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new fo(e,n,Ji.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ju(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class Gx{constructor(){this.queries=Fy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,r){const i=Y(n),o=i.queries;i.queries=Fy(),o.forEach((s,l)=>{for(const u of l.J_)u.onError(r)})})(this,new H($.ABORTED,"Firestore shutting down"))}}function Fy(){return new gi(t=>IE(t),ju)}async function iw(t,e){const n=Y(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Y_()&&e.Z_()&&(r=2):(o=new Kx,r=e.Z_()?0:1);try{switch(r){case 0:o.H_=await n.onListen(i,!0);break;case 1:o.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=up(s,`Initialization of query '${Pi(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.J_.push(e),e.ea(n.onlineState),o.H_&&e.ta(o.H_)&&cp(n)}async function ow(t,e){const n=Y(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.J_.indexOf(e);s>=0&&(o.J_.splice(s,1),o.J_.length===0?i=e.Z_()?0:1:!o.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qx(t,e){const n=Y(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.J_)l.ta(i)&&(r=!0);s.H_=i}}r&&cp(n)}function Xx(t,e,n){const r=Y(t),i=r.queries.get(e);if(i)for(const o of i.J_)o.onError(n);r.queries.delete(e)}function cp(t){t.X_.forEach(e=>{e.next()})}var Of,$y;($y=Of||(Of={})).na="default",$y.Cache="cache";class sw{constructor(e,n,r){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const r=n!=="Offline";return(!this.options.ua||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=fo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.key=e}}class lw{constructor(e){this.key=e}}class Yx{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=re(),this.mutatedKeys=re(),this.Va=CE(e),this.ma=new Ji(this.Va)}get fa(){return this.da}ga(e,n){const r=n?n.pa:new My,i=n?n.ma:this.ma;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,p)=>{const m=i.get(f),v=Uu(this.query,p)?p:null,C=!!m&&this.mutatedKeys.has(m.key),x=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;m&&v?m.data.isEqual(v.data)?C!==x&&(r.track({type:3,doc:v}),P=!0):this.ya(m,v)||(r.track({type:2,doc:v}),P=!0,(u&&this.Va(v,u)>0||c&&this.Va(v,c)<0)&&(l=!0)):!m&&v?(r.track({type:0,doc:v}),P=!0):m&&!v&&(r.track({type:1,doc:m}),P=!0,(u||c)&&(l=!0)),P&&(v?(s=s.add(v),o=x?o.add(f):o.delete(f)):(s=s.delete(f),o=o.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{ma:s,pa:r,ss:l,mutatedKeys:o}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort((f,p)=>function(v,C){const x=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return x(v)-x(C)}(f.type,p.type)||this.Va(f.doc,p.doc)),this.wa(r),i=i!=null&&i;const l=n&&!i?this.Sa():[],u=this.Ra.size===0&&this.current&&!i?1:0,c=u!==this.Aa;return this.Aa=u,s.length!==0||c?{snapshot:new fo(this.query,e.ma,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:l}:{ba:l}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new My,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=re(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const n=[];return e.forEach(r=>{this.Ra.has(r)||n.push(new lw(r))}),this.Ra.forEach(r=>{e.has(r)||n.push(new aw(r))}),n}va(e){this.da=e.ds,this.Ra=re();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return fo.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Jx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Zx{constructor(e){this.key=e,this.Fa=!1}}class eP{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new gi(l=>IE(l),ju),this.Oa=new Map,this.Na=new Set,this.La=new ke(G.comparator),this.Ba=new Map,this.ka=new tp,this.qa={},this.Qa=new Map,this.Ka=ho.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function tP(t,e,n=!0){const r=pw(t);let i;const o=r.xa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Ca()):i=await uw(r,e,n,!0),i}async function nP(t,e){const n=pw(t);await uw(n,e,!0,!1)}async function uw(t,e,n,r){const i=await Ix(t.localStore,gn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await rP(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&JE(t.remoteStore,i),l}async function rP(t,e,n,r,i){t.Ua=(p,m,v)=>async function(x,P,w,g){let T=P.view.ga(w);T.ss&&(T=await Vy(x.localStore,P.query,!1).then(({documents:S})=>P.view.ga(S,T)));const D=g&&g.targetChanges.get(P.targetId),L=g&&g.targetMismatches.get(P.targetId)!=null,b=P.view.applyChanges(T,x.isPrimaryClient,D,L);return Uy(x,P.targetId,b.ba),b.snapshot}(t,p,m,v);const o=await Vy(t.localStore,e,!0),s=new Yx(e,o.ds),l=s.ga(o.documents),u=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);Uy(t,n,c.ba);const f=new Jx(e,n,s);return t.xa.set(e,f),t.Oa.has(n)?t.Oa.get(n).push(e):t.Oa.set(n,[e]),c.snapshot}async function iP(t,e,n){const r=Y(t),i=r.xa.get(e),o=r.Oa.get(i.targetId);if(o.length>1)return r.Oa.set(i.targetId,o.filter(s=>!ju(s,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ip(r.remoteStore,i.targetId),Lf(r,i.targetId)}).catch(So)):(Lf(r,i.targetId),await Vf(r.localStore,i.targetId,!0))}async function oP(t,e){const n=Y(t),r=n.xa.get(e),i=n.Oa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ip(n.remoteStore,r.targetId))}async function sP(t,e,n){const r=dP(t);try{const i=await function(s,l){const u=Y(s),c=Be.now(),f=l.reduce((v,C)=>v.add(C.key),re());let p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let C=Hn(),x=re();return u.hs.getEntries(v,f).next(P=>{C=P,C.forEach((w,g)=>{g.isValidDocument()||(x=x.add(w))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,C)).next(P=>{p=P;const w=[];for(const g of l){const T=CA(g,p.get(g.key).overlayedDocument);T!=null&&w.push(new Fr(g.key,T,gE(T.value.mapValue),yn.exists(!0)))}return u.mutationQueue.addMutationBatch(v,c,w,l)}).next(P=>{m=P;const w=P.applyToLocalDocumentSet(p,x);return u.documentOverlayCache.saveOverlays(v,P.batchId,w)})}).then(()=>({batchId:m.batchId,changes:AE(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.qa[s.currentUser.toKey()];c||(c=new ke(ie)),c=c.insert(l,u),s.qa[s.currentUser.toKey()]=c}(r,i.batchId,n),await ha(r,i.changes),await Ku(r.remoteStore)}catch(i){const o=up(i,"Failed to persist write");n.reject(o)}}async function cw(t,e){const n=Y(t);try{const r=await wx(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Ba.get(o);s&&(de(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.Fa=!0:i.modifiedDocuments.size>0?de(s.Fa):i.removedDocuments.size>0&&(de(s.Fa),s.Fa=!1))}),await ha(n,r,e)}catch(r){await So(r)}}function jy(t,e,n){const r=Y(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.xa.forEach((o,s)=>{const l=s.view.ea(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Y(s);u.onlineState=l;let c=!1;u.queries.forEach((f,p)=>{for(const m of p.J_)m.ea(l)&&(c=!0)}),c&&cp(u)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aP(t,e,n){const r=Y(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ba.get(e),o=i&&i.key;if(o){let s=new ke(G.comparator);s=s.insert(o,ht.newNoDocument(o,X.min()));const l=re().add(o),u=new Wu(X.min(),new Map,new ke(ie),s,l);await cw(r,u),r.La=r.La.remove(o),r.Ba.delete(e),hp(r)}else await Vf(r.localStore,e,!1).then(()=>Lf(r,e,n)).catch(So)}async function lP(t,e){const n=Y(t),r=e.batch.batchId;try{const i=await Ex(n.localStore,e);fw(n,r,null),hw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ha(n,i)}catch(i){await So(i)}}async function uP(t,e,n){const r=Y(t);try{const i=await function(s,l){const u=Y(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(p=>(de(p!==null),f=p.keys(),u.mutationQueue.removeMutationBatch(c,p))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);fw(r,e,n),hw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ha(r,i)}catch(i){await So(i)}}function hw(t,e){(t.Qa.get(e)||[]).forEach(n=>{n.resolve()}),t.Qa.delete(e)}function fw(t,e,n){const r=Y(t);let i=r.qa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}function Lf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Oa.get(e))t.xa.delete(r),n&&t.Ma.Wa(r,n);t.Oa.delete(e),t.isPrimaryClient&&t.ka.yr(e).forEach(r=>{t.ka.containsKey(r)||dw(t,r)})}function dw(t,e){t.Na.delete(e.path.canonicalString());const n=t.La.get(e);n!==null&&(ip(t.remoteStore,n),t.La=t.La.remove(e),t.Ba.delete(n),hp(t))}function Uy(t,e,n){for(const r of n)r instanceof aw?(t.ka.addReference(r.key,e),cP(t,r)):r instanceof lw?(z("SyncEngine","Document no longer in limbo: "+r.key),t.ka.removeReference(r.key,e),t.ka.containsKey(r.key)||dw(t,r.key)):Q()}function cP(t,e){const n=e.key,r=n.path.canonicalString();t.La.get(n)||t.Na.has(r)||(z("SyncEngine","New document in limbo: "+n),t.Na.add(r),hp(t))}function hp(t){for(;t.Na.size>0&&t.La.size<t.maxConcurrentLimboResolutions;){const e=t.Na.values().next().value;t.Na.delete(e);const n=new G(Se.fromString(e)),r=t.Ka.next();t.Ba.set(r,new Zx(n)),t.La=t.La.insert(n,r),JE(t.remoteStore,new cr(gn(Xd(n.path)),r,"TargetPurposeLimboResolution",Mu.oe))}}async function ha(t,e,n){const r=Y(t),i=[],o=[],s=[];r.xa.isEmpty()||(r.xa.forEach((l,u)=>{s.push(r.Ua(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){i.push(c);const p=rp.zi(u.targetId,c);o.push(p)}}))}),await Promise.all(s),r.Ma.R_(i),await async function(u,c){const f=Y(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(c,m=>F.forEach(m.Wi,v=>f.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>F.forEach(m.Gi,v=>f.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Io(p))throw p;z("LocalStore","Failed to update sequence numbers: "+p)}for(const p of c){const m=p.targetId;if(!p.fromCache){const v=f.us.get(m),C=v.snapshotVersion,x=v.withLastLimboFreeSnapshotVersion(C);f.us=f.us.insert(m,x)}}}(r.localStore,o))}async function hP(t,e){const n=Y(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());const r=await GE(n.localStore,e);n.currentUser=e,function(o,s){o.Qa.forEach(l=>{l.forEach(u=>{u.reject(new H($.CANCELLED,s))})}),o.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ha(n,r.Ts)}}function fP(t,e){const n=Y(t),r=n.Ba.get(e);if(r&&r.Fa)return re().add(r.key);{let i=re();const o=n.Oa.get(e);if(!o)return i;for(const s of o){const l=n.xa.get(s);i=i.unionWith(l.view.fa)}return i}}function pw(t){const e=Y(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=cw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aP.bind(null,e),e.Ma.R_=Qx.bind(null,e.eventManager),e.Ma.Wa=Xx.bind(null,e.eventManager),e}function dP(t){const e=Y(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uP.bind(null,e),e}class du{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return _x(this.persistence,new yx,e.initialUser,this.serializer)}ja(e){return new KE(np.ei,this.serializer)}za(e){return new Rx}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}du.provider={build:()=>new du};class pP extends du{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){de(this.persistence.referenceDelegate instanceof hu);const r=this.persistence.referenceDelegate.garbageCollector;return new nx(r,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?_t.withCacheSize(this.cacheSizeBytes):_t.DEFAULT;return new KE(r=>hu.ei(r,n),this.serializer)}}class bf{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>jy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hP.bind(null,this.syncEngine),await qx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Gx}()}createDatastore(e){const n=Hu(e.databaseInfo.databaseId),r=function(o){return new kx(o)}(e.databaseInfo);return function(o,s,l,u){return new Vx(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new Lx(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>jy(this.syncEngine,n,0),function(){return Ly.p()?new Ly:new Ax}())}createSyncEngine(e,n){return function(i,o,s,l,u,c,f){const p=new eP(i,o,s,l,u,c);return f&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=Y(i);z("RemoteStore","RemoteStore shutting down."),o.k_.add(5),await ca(o),o.Q_.shutdown(),o.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bf.provider={build:()=>new bf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Wn("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ut.UNAUTHENTICATED,this.clientId=fE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{z("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ln;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=up(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function uh(t,e){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await GE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function By(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gP(t);z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>by(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>by(e.remoteStore,i)),t._onlineComponents=e}async function gP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{await uh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===$.FAILED_PRECONDITION||i.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await uh(t,new du)}}else z("FirestoreClient","Using default OfflineComponentProvider"),await uh(t,new pP(void 0));return t._offlineComponents}async function gw(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),await By(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),await By(t,new bf))),t._onlineComponents}function yP(t){return gw(t).then(e=>e.syncEngine)}async function yw(t){const e=await gw(t),n=e.eventManager;return n.onListen=tP.bind(null,e.syncEngine),n.onUnlisten=iP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nP.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oP.bind(null,e.syncEngine),n}function vP(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new mw({next:m=>{f.eu(),s.enqueueAndForget(()=>ow(o,p));const v=m.docs.has(l);!v&&m.fromCache?c.reject(new H($.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&m.fromCache&&u&&u.source==="server"?c.reject(new H($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new sw(Xd(l.path),f,{includeMetadataChanges:!0,ua:!0});return iw(o,p)}(await yw(t),t.asyncQueue,e,n,r)),r.promise}function _P(t,e,n={}){const r=new Ln;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,l,u,c){const f=new mw({next:m=>{f.eu(),s.enqueueAndForget(()=>ow(o,p)),m.fromCache&&u.source==="server"?c.reject(new H($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),p=new sw(l,f,{includeMetadataChanges:!0,ua:!0});return iw(o,p)}(await yw(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e,n){if(!n)throw new H($.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EP(t,e,n,r){if(e===!0&&r===!0)throw new H($.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Wy(t){if(!G.isDocumentKey(t))throw new H($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hy(t){if(G.isDocumentKey(t))throw new H($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function Nr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gu(t);throw new H($.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qy=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vw((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H($.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};class Qu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qy(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DR;switch(r.type){case"firstParty":return new bR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=zy.get(n);r&&(z("ComponentProvider","Removing Datastore"),zy.delete(n),r.terminate())}(this),Promise.resolve()}}function wP(t,e,n,r={}){var i;const o=(t=Nr(t,Qu))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ut.MOCK_USER;else{l=pC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new H($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new VR(new hE(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class Rt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rt(this.firestore,e,this._key)}}class Sr extends Ro{constructor(e,n,r){super(e,n,Xd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new G(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function Mf(t,e,...n){if(t=Bn(t),_w("collection","path",e),t instanceof Qu){const r=Se.fromString(e,...n);return Hy(r),new Sr(t,null,r)}{if(!(t instanceof Rt||t instanceof Sr))throw new H($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Hy(r),new Sr(t.firestore,null,r)}}function Xu(t,e,...n){if(t=Bn(t),arguments.length===1&&(e=fE.newId()),_w("doc","path",e),t instanceof Qu){const r=Se.fromString(e,...n);return Wy(r),new Rt(t,null,new G(r))}{if(!(t instanceof Rt||t instanceof Sr))throw new H($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return Wy(r),new Rt(t.firestore,t instanceof Sr?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new XE(this,"async_queue_retry"),this.fu=()=>{const r=lh();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const n=lh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=lh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Ln;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Io(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw Wn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=n,n}enqueueAfterDelay(e,n,r){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const i=lp.createAndSchedule(this,e,n,r,o=>this.Su(o));return this.du.push(i),i}pu(){this.Au&&Q()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}let fa=class extends Qu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Ky,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ky(e),this._firestoreClient=void 0,await e}}};function Yu(t,e){const n=TR(),r="(default)",i=_R(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=fC("firestore");o&&wP(i,...o)}return i}function fp(t){if(t._terminated)throw new H($.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TP(t),t._firestoreClient}function TP(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,c,f){return new YR(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,vw(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mP(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(nt.fromBase64String(e))}catch(n){throw new H($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=/^__.*__$/;class IP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Fr(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}class Ew{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Fr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ww(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class gp{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Fu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return pu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(ww(this.Mu)&&SP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class CP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hu(e)}$u(e,n,r,i=!1){return new gp({Mu:e,methodName:n,Ku:r,path:Je.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yp(t){const e=t._freezeSettings(),n=Hu(t._databaseId);return new CP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function RP(t,e,n,r,i,o={}){const s=t.$u(o.merge||o.mergeFields?2:0,e,n,i);vp("Data must be an object, but it was:",s,r);const l=Tw(r,s);let u,c;if(o.merge)u=new Dt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const f=[];for(const p of o.mergeFields){const m=Ff(e,p,n);if(!s.contains(m))throw new H($.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);Iw(f,m)||f.push(m)}u=new Dt(f),c=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,c=s.fieldTransforms;return new IP(new wt(l),u,c)}class Zu extends dp{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zu}}function AP(t,e,n,r){const i=t.$u(1,e,n);vp("Data must be an object, but it was:",i,r);const o=[],s=wt.empty();Mr(r,(u,c)=>{const f=_p(e,u,n);c=Bn(c);const p=i.Bu(f);if(c instanceof Zu)o.push(f);else{const m=da(c,p);m!=null&&(o.push(f),s.set(f,m))}});const l=new Dt(o);return new Ew(s,l,i.fieldTransforms)}function xP(t,e,n,r,i,o){const s=t.$u(1,e,n),l=[Ff(e,r,n)],u=[i];if(o.length%2!=0)throw new H($.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)l.push(Ff(e,o[m])),u.push(o[m+1]);const c=[],f=wt.empty();for(let m=l.length-1;m>=0;--m)if(!Iw(c,l[m])){const v=l[m];let C=u[m];C=Bn(C);const x=s.Bu(v);if(C instanceof Zu)c.push(v);else{const P=da(C,x);P!=null&&(c.push(v),f.set(v,P))}}const p=new Dt(c);return new Ew(f,p,s.fieldTransforms)}function PP(t,e,n,r=!1){return da(n,t.$u(r?4:3,e))}function da(t,e){if(Sw(t=Bn(t)))return vp("Unsupported field value:",e,t),Tw(t,e);if(t instanceof dp)return function(r,i){if(!ww(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=da(l,i.ku(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Bn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _A(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Be.fromDate(r);return{timestampValue:cu(i.serializer,o)}}if(r instanceof Be){const o=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cu(i.serializer,o)}}if(r instanceof pp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:jE(i.serializer,r._byteString)};if(r instanceof Rt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.qu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:ep(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mp)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw l.qu("VectorValues must only contain numeric values.");return Yd(l.serializer,u)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Gu(r)}`)}(t,e)}function Tw(t,e){const n={};return dE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(t,(r,i)=>{const o=da(i,e.Ou(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Sw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof pp||t instanceof po||t instanceof Rt||t instanceof dp||t instanceof mp)}function vp(t,e,n){if(!Sw(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Gu(n);throw r==="an object"?e.qu(t+" a custom object"):e.qu(t+" "+r)}}function Ff(t,e,n){if((e=Bn(e))instanceof Ju)return e._internalPath;if(typeof e=="string")return _p(t,e);throw pu("Field path arguments must be of type string or ",t,!1,void 0,n)}const kP=new RegExp("[~\\*/\\[\\]]");function _p(t,e,n){if(e.search(kP)>=0)throw pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ju(...e.split("."))._internalPath}catch{throw pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H($.INVALID_ARGUMENT,l+t+u)}function Iw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new NP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ep("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class NP extends Cw{data(){return super.data()}}function Ep(t,e){return typeof e=="string"?_p(t,e):e instanceof Ju?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wp{}class VP extends wp{}function OP(t,e,...n){let r=[];e instanceof wp&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof Tp).length,l=o.filter(u=>u instanceof ec).length;if(s>1||s>0&&l>0)throw new H($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class ec extends VP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ec(e,n,r)}_apply(e){const n=this._parse(e);return Rw(e._query,n),new Ro(e.firestore,e.converter,Af(e._query,n))}_parse(e){const n=yp(e.firestore);return function(o,s,l,u,c,f,p){let m;if(c.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new H($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){Qy(p,f);const v=[];for(const C of p)v.push(Gy(u,o,C));m={arrayValue:{values:v}}}else m=Gy(u,o,p)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||Qy(p,f),m=PP(l,s,p,f==="in"||f==="not-in");return Fe.create(c,f,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LP(t,e,n){const r=e,i=Ep("where",t);return ec._create(i,r,n)}class Tp extends wp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Tp(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:on.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)Rw(s,u),s=Af(s,u)}(e._query,n),new Ro(e.firestore,e.converter,Af(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gy(t,e,n){if(typeof(n=Bn(n))=="string"){if(n==="")throw new H($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!SE(e)&&n.indexOf("/")!==-1)throw new H($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!G.isDocumentKey(r))throw new H($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return my(t,new G(r))}if(n instanceof Rt)return my(t,n._key);throw new H($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gu(n)}.`)}function Qy(t,e){if(!Array.isArray(t)||t.length===0)throw new H($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Rw(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H($.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class bP{convertValue(e,n="none"){switch(Pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Mr(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new mp(o)}convertGeoPoint(e){return new pp(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=$u(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(qs(e));default:return null}}convertTimestamp(e){const n=Ar(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);de(qE(r));const i=new mE(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||Wn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Aw extends Cw{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new xl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ep("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class xl extends Aw{data(e={}){return super.data(e)}}class FP{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new xl(this._firestore,this._userDataWriter,r.key,r,new ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new xl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ls(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new xl(i._firestore,i._userDataWriter,l.doc.key,l.doc,new ls(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:$P(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $P(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(t){t=Nr(t,Rt);const e=Nr(t.firestore,fa);return vP(fp(e),t._key).then(n=>zP(e,t,n))}class Pw extends bP{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,n)}}function jP(t){t=Nr(t,Ro);const e=Nr(t.firestore,fa),n=fp(e),r=new Pw(e);return DP(t._query),_P(n,t._query).then(i=>new FP(e,r,t,i))}function UP(t,e,n,...r){t=Nr(t,Rt);const i=Nr(t.firestore,fa),o=yp(i);let s;return s=typeof(e=Bn(e))=="string"||e instanceof Ju?xP(o,"updateDoc",t._key,e,n,r):AP(o,"updateDoc",t._key,e),kw(i,[s.toMutation(t._key,yn.exists(!0))])}function BP(t,e){const n=Nr(t.firestore,fa),r=Xu(t),i=MP(t.converter,e);return kw(n,[RP(yp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,yn.exists(!1))]).then(()=>r)}function kw(t,e){return function(r,i){const o=new Ln;return r.asyncQueue.enqueueAndForget(async()=>sP(await yP(r),i,o)),o.promise}(fp(t),e)}function zP(t,e,n){const r=n.docs.get(e._key),i=new Pw(t);return new Aw(t,i,e._key,r,new ls(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){To=i})(tE),zs(new so("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new fa(new OR(r.getProvider("auth-internal")),new FR(r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new H($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mE(c.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Tr(uy,"4.7.5",e),Tr(uy,"4.7.5","esm2017")})();var Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.parse=XP;Sp.serialize=YP;const WP=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,HP=/^[\u0021-\u003A\u003C-\u007E]*$/,qP=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,KP=/^[\u0020-\u003A\u003D-\u007E]*$/,GP=Object.prototype.toString,QP=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function XP(t,e){const n=new QP,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||JP;let o=0;do{const s=t.indexOf("=",o);if(s===-1)break;const l=t.indexOf(";",o),u=l===-1?r:l;if(s>u){o=t.lastIndexOf(";",s-1)+1;continue}const c=Xy(t,o,s),f=Yy(t,s,c),p=t.slice(c,f);if(n[p]===void 0){let m=Xy(t,s+1,u),v=Yy(t,u,m);const C=i(t.slice(m,v));n[p]=C}o=u+1}while(o<r);return n}function Xy(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Yy(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function YP(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!WP.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!HP.test(i))throw new TypeError(`argument val is invalid: ${e}`);let o=t+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!qP.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!KP.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!ZP(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function JP(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function ZP(t){return GP.call(t)==="[object Date]"}/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jy="popstate";function ek(t={}){function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return $f("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Xs(i)}return nk(e,n,null,t)}function xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Tn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tk(){return Math.random().toString(36).substring(2,10)}function Zy(t,e){return{usr:t.state,key:t.key,idx:e}}function $f(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||r||tk()}}function Xs({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function nk(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function p(){l="POP";let P=f(),w=P==null?null:P-c;c=P,u&&u({action:l,location:x.location,delta:w})}function m(P,w){l="PUSH";let g=$f(x.location,P,w);c=f()+1;let T=Zy(g,c),D=x.createHref(g);try{s.pushState(T,"",D)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(D)}o&&u&&u({action:l,location:x.location,delta:1})}function v(P,w){l="REPLACE";let g=$f(x.location,P,w);c=f();let T=Zy(g,c),D=x.createHref(g);s.replaceState(T,"",D),o&&u&&u({action:l,location:x.location,delta:0})}function C(P){let w=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof P=="string"?P:Xs(P);return g=g.replace(/ $/,"%20"),xe(w,`No window.location.(origin|href) available to create URL for href: ${g}`),new URL(g,w)}let x={get action(){return l},get location(){return t(i,s)},listen(P){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Jy,p),u=P,()=>{i.removeEventListener(Jy,p),u=null}},createHref(P){return e(i,P)},createURL:C,encodeLocation(P){let w=C(P);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:m,replace:v,go(P){return s.go(P)}};return x}function Nw(t,e,n="/"){return rk(t,e,n,!1)}function rk(t,e,n,r){let i=typeof e=="string"?Ao(e):e,o=Dr(i.pathname||"/",n);if(o==null)return null;let s=Dw(t);ik(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=mk(o);l=dk(s[u],c,r)}return l}function Dw(t,e=[],n=[],r=""){let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(xe(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=bn([r,u.relativePath]),f=n.concat(u);o.children&&o.children.length>0&&(xe(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),Dw(o.children,e,f,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:hk(c,o.index),routesMeta:f})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of Vw(o.path))i(o,s,u)}),e}function Vw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=Vw(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function ik(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ok=/^:[\w-]+$/,sk=3,ak=2,lk=1,uk=10,ck=-2,ev=t=>t==="*";function hk(t,e){let n=t.split("/"),r=n.length;return n.some(ev)&&(r+=ck),e&&(r+=ak),n.filter(i=>!ev(i)).reduce((i,o)=>i+(ok.test(o)?sk:o===""?lk:uk),r)}function fk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dk(t,e,n=!1){let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=o==="/"?e:e.slice(o.length)||"/",p=mu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=mu({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:bn([o,p.pathname]),pathnameBase:_k(bn([o,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(o=bn([o,p.pathnameBase]))}return s}function mu(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pk(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:p},m)=>{if(f==="*"){let C=l[m]||"";s=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const v=l[m];return p&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function pk(t,e=!1,n=!0){Tn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Dr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gk(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ao(t):t;return{pathname:n?n.startsWith("/")?n:yk(n,e):e,search:Ek(r),hash:wk(i)}}function yk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function ch(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ow(t){let e=vk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Lw(t,e,n,r=!1){let i;typeof t=="string"?i=Ao(t):(i={...t},xe(!i.pathname||!i.pathname.includes("?"),ch("?","pathname","search",i)),xe(!i.pathname||!i.pathname.includes("#"),ch("#","pathname","hash",i)),xe(!i.search||!i.search.includes("#"),ch("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let u=gk(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var bn=t=>t.join("/").replace(/\/\/+/g,"/"),_k=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ek=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var bw=["POST","PUT","PATCH","DELETE"];new Set(bw);var Sk=["GET",...bw];new Set(Sk);var xo=_.createContext(null);xo.displayName="DataRouter";var tc=_.createContext(null);tc.displayName="DataRouterState";var Mw=_.createContext({isTransitioning:!1});Mw.displayName="ViewTransition";var Ik=_.createContext(new Map);Ik.displayName="Fetchers";var Ck=_.createContext(null);Ck.displayName="Await";var Sn=_.createContext(null);Sn.displayName="Navigation";var pa=_.createContext(null);pa.displayName="Location";var In=_.createContext({outlet:null,matches:[],isDataRoute:!1});In.displayName="Route";var Ip=_.createContext(null);Ip.displayName="RouteError";function Rk(t,{relative:e}={}){xe(ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=_.useContext(Sn),{hash:i,pathname:o,search:s}=ga(t,{relative:e}),l=o;return n!=="/"&&(l=o==="/"?n:bn([n,o])),r.createHref({pathname:l,search:s,hash:i})}function ma(){return _.useContext(pa)!=null}function vi(){return xe(ma(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(pa).location}var Fw="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $w(t){_.useContext(Sn).static||_.useLayoutEffect(t)}function Ak(){let{isDataRoute:t}=_.useContext(In);return t?jk():xk()}function xk(){xe(ma(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(xo),{basename:e,navigator:n}=_.useContext(Sn),{matches:r}=_.useContext(In),{pathname:i}=vi(),o=JSON.stringify(Ow(r)),s=_.useRef(!1);return $w(()=>{s.current=!0}),_.useCallback((u,c={})=>{if(Tn(s.current,Fw),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=Lw(u,JSON.parse(o),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,o,i,t])}_.createContext(null);function jw(){let{matches:t}=_.useContext(In),e=t[t.length-1];return e?e.params:{}}function ga(t,{relative:e}={}){let{matches:n}=_.useContext(In),{pathname:r}=vi(),i=JSON.stringify(Ow(n));return _.useMemo(()=>Lw(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function Pk(t,e){return Uw(t,e)}function Uw(t,e,n,r){var w;xe(ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(Sn),{matches:o}=_.useContext(In),s=o[o.length-1],l=s?s.params:{},u=s?s.pathname:"/",c=s?s.pathnameBase:"/",f=s&&s.route;{let g=f&&f.path||"";Bw(u,!f||g.endsWith("*")||g.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${g}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${g}"> to <Route path="${g==="/"?"*":`${g}/*`}">.`)}let p=vi(),m;if(e){let g=typeof e=="string"?Ao(e):e;xe(c==="/"||((w=g.pathname)==null?void 0:w.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${g.pathname}" was given in the \`location\` prop.`),m=g}else m=p;let v=m.pathname||"/",C=v;if(c!=="/"){let g=c.replace(/^\//,"").split("/");C="/"+v.replace(/^\//,"").split("/").slice(g.length).join("/")}let x=Nw(t,{pathname:C});Tn(f||x!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),Tn(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=Ok(x&&x.map(g=>Object.assign({},g,{params:Object.assign({},l,g.params),pathname:bn([c,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:bn([c,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n,r);return e&&P?_.createElement(pa.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},P):P}function kk(){let t=$k(),e=Tk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:o},"ErrorBoundary")," or"," ",_.createElement("code",{style:o},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:i},n):null,s)}var Nk=_.createElement(kk,null),Dk=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?_.createElement(In.Provider,{value:this.props.routeContext},_.createElement(Ip.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Vk({routeContext:t,match:e,children:n}){let r=_.useContext(xo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(In.Provider,{value:t},n)}function Ok(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,o=n==null?void 0:n.errors;if(o!=null){let u=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);xe(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:p}=n,m=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||m){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,f)=>{let p,m=!1,v=null,C=null;n&&(p=o&&c.route.id?o[c.route.id]:void 0,v=c.route.errorElement||Nk,s&&(l<0&&f===0?(Bw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),m=!0,C=null):l===f&&(m=!0,C=c.route.hydrateFallbackElement||null)));let x=e.concat(i.slice(0,f+1)),P=()=>{let w;return p?w=v:m?w=C:c.route.Component?w=_.createElement(c.route.Component,null):c.route.element?w=c.route.element:w=u,_.createElement(Vk,{match:c,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:w})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?_.createElement(Dk,{location:n.location,revalidation:n.revalidation,component:v,error:p,children:P(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):P()},null)}function Cp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lk(t){let e=_.useContext(xo);return xe(e,Cp(t)),e}function bk(t){let e=_.useContext(tc);return xe(e,Cp(t)),e}function Mk(t){let e=_.useContext(In);return xe(e,Cp(t)),e}function Rp(t){let e=Mk(t),n=e.matches[e.matches.length-1];return xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Fk(){return Rp("useRouteId")}function $k(){var r;let t=_.useContext(Ip),e=bk("useRouteError"),n=Rp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function jk(){let{router:t}=Lk("useNavigate"),e=Rp("useNavigate"),n=_.useRef(!1);return $w(()=>{n.current=!0}),_.useCallback(async(i,o={})=>{Tn(n.current,Fw),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...o}))},[t,e])}var tv={};function Bw(t,e,n){!e&&!tv[t]&&(tv[t]=!0,Tn(!1,n))}_.memo(Uk);function Uk({routes:t,future:e,state:n}){return Uw(t,void 0,n,e)}function Di(t){xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){xe(!ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=_.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Ao(n));let{pathname:u="/",search:c="",hash:f="",state:p=null,key:m="default"}=n,v=_.useMemo(()=>{let C=Dr(u,s);return C==null?null:{location:{pathname:C,search:c,hash:f,state:p,key:m},navigationType:r}},[s,u,c,f,p,m,r]);return Tn(v!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(Sn.Provider,{value:l},_.createElement(pa.Provider,{children:e,value:v}))}function zk({children:t,location:e}){return Pk(jf(t),e)}function jf(t,e=[]){let n=[];return _.Children.forEach(t,(r,i)=>{if(!_.isValidElement(r))return;let o=[...e,i];if(r.type===_.Fragment){n.push.apply(n,jf(r.props.children,o));return}xe(r.type===Di,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xe(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=jf(r.props.children,o)),n.push(s)}),n}var Pl="get",kl="application/x-www-form-urlencoded";function nc(t){return t!=null&&typeof t.tagName=="string"}function Wk(t){return nc(t)&&t.tagName.toLowerCase()==="button"}function Hk(t){return nc(t)&&t.tagName.toLowerCase()==="form"}function qk(t){return nc(t)&&t.tagName.toLowerCase()==="input"}function Kk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gk(t,e){return t.button===0&&(!e||e==="_self")&&!Kk(t)}var al=null;function Qk(){if(al===null)try{new FormData(document.createElement("form"),0),al=!1}catch{al=!0}return al}var Xk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hh(t){return t!=null&&!Xk.has(t)?(Tn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kl}"`),null):t}function Yk(t,e){let n,r,i,o,s;if(Hk(t)){let l=t.getAttribute("action");r=l?Dr(l,e):null,n=t.getAttribute("method")||Pl,i=hh(t.getAttribute("enctype"))||kl,o=new FormData(t)}else if(Wk(t)||qk(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Dr(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Pl,i=hh(t.getAttribute("formenctype"))||hh(l.getAttribute("enctype"))||kl,o=new FormData(l,t),!Qk()){let{name:c,type:f,value:p}=t;if(f==="image"){let m=c?`${c}.`:"";o.append(`${m}x`,"0"),o.append(`${m}y`,"0")}else c&&o.append(c,p)}}else{if(nc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Pl,r=null,i=kl,s=t}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function Ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Jk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function eN(t,e,n){let r=await Promise.all(t.map(async i=>{let o=e.routes[i.route.id];if(o){let s=await Jk(o,n);return s.links?s.links():[]}return[]}));return iN(r.flat(1).filter(Zk).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function nv(t,e,n,r,i,o){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return o==="assets"?e.filter((u,c)=>s(u,c)||l(u,c)):o==="data"?e.filter((u,c)=>{var p;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let m=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function tN(t,e){return nN(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function nN(t){return[...new Set(t)]}function rN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function iN(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let o=JSON.stringify(rN(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}function oN(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function sN(){let t=_.useContext(xo);return Ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function aN(){let t=_.useContext(tc);return Ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var xp=_.createContext(void 0);xp.displayName="FrameworkContext";function zw(){let t=_.useContext(xp);return Ap(t,"You must render this element inside a <HydratedRouter> element"),t}function lN(t,e){let n=_.useContext(xp),[r,i]=_.useState(!1),[o,s]=_.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:p}=e,m=_.useRef(null);_.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let x=w=>{w.forEach(g=>{s(g.isIntersecting)})},P=new IntersectionObserver(x,{threshold:.5});return m.current&&P.observe(m.current),()=>{P.disconnect()}}},[t]),_.useEffect(()=>{if(r){let x=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(x)}}},[r]);let v=()=>{i(!0)},C=()=>{i(!1),s(!1)};return n?t!=="intent"?[o,m,{}]:[o,m,{onFocus:Jo(l,v),onBlur:Jo(u,C),onMouseEnter:Jo(c,v),onMouseLeave:Jo(f,C),onTouchStart:Jo(p,v)}]:[!1,m,{}]}function Jo(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function uN({page:t,...e}){let{router:n}=sN(),r=_.useMemo(()=>Nw(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?_.createElement(hN,{page:t,matches:r,...e}):null}function cN(t){let{manifest:e,routeModules:n}=zw(),[r,i]=_.useState([]);return _.useEffect(()=>{let o=!1;return eN(t,e,n).then(s=>{o||i(s)}),()=>{o=!0}},[t,e,n]),r}function hN({page:t,matches:e,...n}){let r=vi(),{manifest:i,routeModules:o}=zw(),{loaderData:s,matches:l}=aN(),u=_.useMemo(()=>nv(t,e,l,i,r,"data"),[t,e,l,i,r]),c=_.useMemo(()=>nv(t,e,l,i,r,"assets"),[t,e,l,i,r]),f=_.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let v=new Set,C=!1;if(e.forEach(P=>{var g;let w=i.routes[P.route.id];!w||!w.hasLoader||(!u.some(T=>T.route.id===P.route.id)&&P.route.id in s&&((g=o[P.route.id])!=null&&g.shouldRevalidate)||w.hasClientLoader?C=!0:v.add(P.route.id))}),v.size===0)return[];let x=oN(t);return C&&v.size>0&&x.searchParams.set("_routes",e.filter(P=>v.has(P.route.id)).map(P=>P.route.id).join(",")),[x.pathname+x.search]},[s,r,i,u,e,t,o]),p=_.useMemo(()=>tN(c,i),[c,i]),m=cN(c);return _.createElement(_.Fragment,null,f.map(v=>_.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),p.map(v=>_.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),m.map(({key:v,link:C})=>_.createElement("link",{key:v,...C})))}function fN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Ww=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ww&&(window.__reactRouterVersion="7.1.0")}catch{}function dN({basename:t,children:e,window:n}){let r=_.useRef();r.current==null&&(r.current=ek({window:n,v5Compat:!0}));let i=r.current,[o,s]=_.useState({action:i.action,location:i.location}),l=_.useCallback(u=>{_.startTransition(()=>s(u))},[s]);return _.useLayoutEffect(()=>i.listen(l),[i,l]),_.createElement(Bk,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i})}var Hw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rc=_.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:p,...m},v){let{basename:C}=_.useContext(Sn),x=typeof c=="string"&&Hw.test(c),P,w=!1;if(typeof c=="string"&&x&&(P=c,Ww))try{let I=new URL(window.location.href),A=c.startsWith("//")?new URL(I.protocol+c):new URL(c),k=Dr(A.pathname,C);A.origin===I.origin&&k!=null?c=k+A.search+A.hash:w=!0}catch{Tn(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let g=Rk(c,{relative:i}),[T,D,L]=lN(r,m),b=gN(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:p});function S(I){e&&e(I),I.defaultPrevented||b(I)}let y=_.createElement("a",{...m,...L,href:P||g,onClick:w||o?e:S,ref:fN(v,D),target:u,"data-discover":!x&&n==="render"?"true":void 0});return T&&!x?_.createElement(_.Fragment,null,y,_.createElement(uN,{page:g})):y});rc.displayName="Link";var Nl=_.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:l,children:u,...c},f){let p=ga(s,{relative:c.relative}),m=vi(),v=_.useContext(tc),{navigator:C,basename:x}=_.useContext(Sn),P=v!=null&&wN(p)&&l===!0,w=C.encodeLocation?C.encodeLocation(p).pathname:p.pathname,g=m.pathname,T=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;n||(g=g.toLowerCase(),T=T?T.toLowerCase():null,w=w.toLowerCase()),T&&x&&(T=Dr(T,x)||T);const D=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let L=g===w||!i&&g.startsWith(w)&&g.charAt(D)==="/",b=T!=null&&(T===w||!i&&T.startsWith(w)&&T.charAt(w.length)==="/"),S={isActive:L,isPending:b,isTransitioning:P},y=L?e:void 0,I;typeof r=="function"?I=r(S):I=[r,L?"active":null,b?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let A=typeof o=="function"?o(S):o;return _.createElement(rc,{...c,"aria-current":y,className:I,ref:f,style:A,to:s,viewTransition:l},typeof u=="function"?u(S):u)});Nl.displayName="NavLink";var pN=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Pl,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:p,...m},v)=>{let C=_N(),x=EN(l,{relative:c}),P=s.toLowerCase()==="get"?"get":"post",w=typeof l=="string"&&Hw.test(l),g=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,L=(D==null?void 0:D.getAttribute("formmethod"))||s;C(D||T.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:o,relative:c,preventScrollReset:f,viewTransition:p})};return _.createElement("form",{ref:v,method:P,action:x,onSubmit:r?u:g,...m,"data-discover":!w&&t==="render"?"true":void 0})});pN.displayName="Form";function mN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qw(t){let e=_.useContext(xo);return xe(e,mN(t)),e}function gN(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let l=Ak(),u=vi(),c=ga(t,{relative:o});return _.useCallback(f=>{if(Gk(f,e)){f.preventDefault();let p=n!==void 0?n:Xs(u)===Xs(c);l(t,{replace:p,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[u,l,c,n,r,e,t,i,o,s])}var yN=0,vN=()=>`__${String(++yN)}__`;function _N(){let{router:t}=qw("useSubmit"),{basename:e}=_.useContext(Sn),n=Fk();return _.useCallback(async(r,i={})=>{let{action:o,method:s,encType:l,formData:u,body:c}=Yk(r,e);if(i.navigate===!1){let f=i.fetcherKey||vN();await t.fetch(f,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function EN(t,{relative:e}={}){let{basename:n}=_.useContext(Sn),r=_.useContext(In);xe(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...ga(t||".",{relative:e})},s=vi();if(t==null){o.search=s.search;let l=new URLSearchParams(o.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let f=l.toString();o.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bn([n,o.pathname])),Xs(o)}function wN(t,e={}){let n=_.useContext(Mw);xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qw("useViewTransitionState"),i=ga(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=Dr(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Dr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return mu(i.pathname,s)!=null||mu(i.pathname,o)!=null}new TextEncoder;var Kw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var l=arguments[s];l&&(o=i(o,r(l)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var l in o)e.call(o,l)&&o[l]&&(s=i(s,l));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Kw);var TN=Kw.exports;const Ee=ta(TN);function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(null,arguments)}function Gw(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function rv(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function SN(t){var e=IN(t,"string");return typeof e=="symbol"?e:String(e)}function IN(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function CN(t,e,n){var r=_.useRef(t!==void 0),i=_.useState(e),o=i[0],s=i[1],l=t!==void 0,u=r.current;return r.current=l,!l&&u&&o!==e&&s(e),[l?t:o,_.useCallback(function(c){for(var f=arguments.length,p=new Array(f>1?f-1:0),m=1;m<f;m++)p[m-1]=arguments[m];n&&n.apply(void 0,[c].concat(p)),s(c)},[n])]}function Pp(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[rv(r)],l=o[r],u=Gw(o,[rv(r),r].map(SN)),c=e[r],f=CN(l,s,t[c]),p=f[0],m=f[1];return Uf({},u,(i={},i[r]=p,i[c]=m,i))},t)}function Bf(t,e){return Bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Bf(t,e)}function RN(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Bf(t,e)}const AN=["xxl","xl","lg","md","sm","xs"],xN="xs",Qw=_.createContext({prefixes:{},breakpoints:AN,minBreakpoint:xN});function Ve(t,e){const{prefixes:n}=_.useContext(Qw);return t||n[e]||e}function PN(){const{dir:t}=_.useContext(Qw);return t==="rtl"}function ic(t){return t&&t.ownerDocument||document}function kN(t){var e=ic(t);return e&&e.defaultView||window}function NN(t,e){return kN(t).getComputedStyle(t,e)}var DN=/([A-Z])/g;function VN(t){return t.replace(DN,"-$1").toLowerCase()}var ON=/^ms-/;function ll(t){return VN(t).replace(ON,"-ms-")}var LN=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function bN(t){return!!(t&&LN.test(t))}function Mn(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(ll(e))||NN(t).getPropertyValue(ll(e));Object.keys(e).forEach(function(i){var o=e[i];!o&&o!==0?t.style.removeProperty(ll(i)):bN(i)?r+=i+"("+o+") ":n+=ll(i)+": "+o+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}var Xw={exports:{}},MN="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",FN=MN,$N=FN;function Yw(){}function Jw(){}Jw.resetWarningCache=Yw;var jN=function(){function t(r,i,o,s,l,u){if(u!==$N){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Jw,resetWarningCache:Yw};return n.PropTypes=n,n};Xw.exports=jN();var UN=Xw.exports;const fh=ta(UN),iv={disabled:!1},Zw=Ze.createContext(null);var BN=function(e){return e.scrollTop},us="unmounted",ir="exited",en="entering",Nn="entered",Ys="exiting",Gn=function(t){RN(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,l=s&&!s.isMounting?r.enter:r.appear,u;return o.appearStatus=null,r.in?l?(u=ir,o.appearStatus=en):u=Nn:r.unmountOnExit||r.mountOnEnter?u=us:u=ir,o.state={status:u},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===us?{status:ir}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==en&&s!==Nn&&(o=en):(s===en||s===Nn)&&(o=Ys)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,l;return o=s=l=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,l=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:l}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===en){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:Hi.findDOMNode(this);s&&BN(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ir&&this.setState({status:us})},n.performEnter=function(i){var o=this,s=this.props.enter,l=this.context?this.context.isMounting:i,u=this.props.nodeRef?[l]:[Hi.findDOMNode(this),l],c=u[0],f=u[1],p=this.getTimeouts(),m=l?p.appear:p.enter;if(!i&&!s||iv.disabled){this.safeSetState({status:Nn},function(){o.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:en},function(){o.props.onEntering(c,f),o.onTransitionEnd(m,function(){o.safeSetState({status:Nn},function(){o.props.onEntered(c,f)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:Hi.findDOMNode(this);if(!o||iv.disabled){this.safeSetState({status:ir},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Ys},function(){i.props.onExiting(l),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:ir},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,o.nextCallback=null,i(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:Hi.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],c=u[0],f=u[1];this.props.addEndListener(c,f)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===us)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var l=Gw(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ze.createElement(Zw.Provider,{value:null},typeof s=="function"?s(i,l):Ze.cloneElement(Ze.Children.only(s),l))},e}(Ze.Component);Gn.contextType=Zw;Gn.propTypes={};function Ri(){}Gn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ri,onEntering:Ri,onEntered:Ri,onExit:Ri,onExiting:Ri,onExited:Ri};Gn.UNMOUNTED=us;Gn.EXITED=ir;Gn.ENTERING=en;Gn.ENTERED=Nn;Gn.EXITING=Ys;function zN(t){return t.code==="Escape"||t.keyCode===27}function WN(){const t=_.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}function oc(t){if(!t||typeof t=="function")return null;const{major:e}=WN();return e>=19?t.props.ref:t.ref}const sc=!!(typeof window<"u"&&window.document&&window.document.createElement);var zf=!1,Wf=!1;try{var dh={get passive(){return zf=!0},get once(){return Wf=zf=!0}};sc&&(window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,!0))}catch{}function e1(t,e,n,r){if(r&&typeof r!="boolean"&&!Wf){var i=r.once,o=r.capture,s=n;!Wf&&i&&(s=n.__once||function l(u){this.removeEventListener(e,l,o),n.call(this,u)},n.__once=s),t.addEventListener(e,s,zf?r:o)}t.addEventListener(e,n,r)}function HN(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function hr(t,e,n,r){return e1(t,e,n,r),function(){HN(t,e,n,r)}}function qN(t,e,n,r){if(r===void 0&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}function KN(t){var e=Mn(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function GN(t,e,n){n===void 0&&(n=5);var r=!1,i=setTimeout(function(){r||qN(t,"transitionend",!0)},e+n),o=hr(t,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(i),o()}}function QN(t,e,n,r){n==null&&(n=KN(t)||0);var i=GN(t,n,r),o=hr(t,"transitionend",e);return function(){i(),o()}}function ov(t,e){const n=Mn(t,e)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function kp(t,e){const n=ov(t,"transitionDuration"),r=ov(t,"transitionDelay"),i=QN(t,o=>{o.target===t&&(i(),e(o))},n+r)}function Zo(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...i){e.apply(this,i),n.apply(this,i)}},null)}function t1(t){t.offsetHeight}const sv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function XN(t,e){const n=sv(t),r=sv(e);return i=>{n&&n(i),r&&r(i)}}function Np(t,e){return _.useMemo(()=>XN(t,e),[t,e])}function YN(t){return t&&"setState"in t?Hi.findDOMNode(t):t??null}const Dp=Ze.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,onExited:o,addEndListener:s,children:l,childRef:u,...c},f)=>{const p=_.useRef(null),m=Np(p,u),v=b=>{m(YN(b))},C=b=>S=>{b&&p.current&&b(p.current,S)},x=_.useCallback(C(t),[t]),P=_.useCallback(C(e),[e]),w=_.useCallback(C(n),[n]),g=_.useCallback(C(r),[r]),T=_.useCallback(C(i),[i]),D=_.useCallback(C(o),[o]),L=_.useCallback(C(s),[s]);return V.jsx(Gn,{ref:f,...c,onEnter:x,onEntered:w,onEntering:P,onExit:g,onExited:D,onExiting:T,addEndListener:L,nodeRef:p,children:typeof l=="function"?(b,S)=>l(b,{...S,ref:v}):Ze.cloneElement(l,{ref:v})})}),JN={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function ZN(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,r=e[n],i=JN[t];return r+parseInt(Mn(e,i[0]),10)+parseInt(Mn(e,i[1]),10)}const eD={[ir]:"collapse",[Ys]:"collapsing",[en]:"collapsing",[Nn]:"collapse show"},tD=Ze.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:r,onExiting:i,className:o,children:s,dimension:l="height",in:u=!1,timeout:c=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:m=!1,getDimensionValue:v=ZN,...C},x)=>{const P=typeof l=="function"?l():l,w=_.useMemo(()=>Zo(b=>{b.style[P]="0"},t),[P,t]),g=_.useMemo(()=>Zo(b=>{const S=`scroll${P[0].toUpperCase()}${P.slice(1)}`;b.style[P]=`${b[S]}px`},e),[P,e]),T=_.useMemo(()=>Zo(b=>{b.style[P]=null},n),[P,n]),D=_.useMemo(()=>Zo(b=>{b.style[P]=`${v(P,b)}px`,t1(b)},r),[r,v,P]),L=_.useMemo(()=>Zo(b=>{b.style[P]=null},i),[P,i]);return V.jsx(Dp,{ref:x,addEndListener:kp,...C,"aria-expanded":C.role?u:null,onEnter:w,onEntering:g,onEntered:T,onExit:D,onExiting:L,childRef:oc(s),in:u,timeout:c,mountOnEnter:f,unmountOnExit:p,appear:m,children:(b,S)=>Ze.cloneElement(s,{...S,className:Ee(o,s.props.className,eD[b],P==="width"&&"collapse-horizontal")})})});function nD(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function ya(t){const e=nD(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const rD=t=>_.forwardRef((e,n)=>V.jsx("div",{...e,ref:n,className:Ee(e.className,t)}));function iD(){return _.useState(null)}function oD(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t},[t]),e}function ft(t){const e=oD(t);return _.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function sD(t,e,n,r=!1){const i=ft(n);_.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}function n1(){const t=_.useRef(!0),e=_.useRef(()=>t.current);return _.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function r1(t){const e=_.useRef(null);return _.useEffect(()=>{e.current=t}),e.current}const aD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",lD=typeof document<"u",av=lD||aD?_.useLayoutEffect:_.useEffect,uD=["as","disabled"];function cD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hD(t){return!t||t.trim()==="#"}function Vp({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:l=0,type:u}){t||(n!=null||r!=null||i!=null?t="a":t="button");const c={tagName:t};if(t==="button")return[{type:u||"button",disabled:e},c];const f=m=>{if((e||t==="a"&&hD(n))&&m.preventDefault(),e){m.stopPropagation();return}s==null||s(m)},p=m=>{m.key===" "&&(m.preventDefault(),f(m))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:l,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:f,onKeyDown:p},c]}const Op=_.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=cD(t,uD);const[o,{tagName:s}]=Vp(Object.assign({tagName:n,disabled:r},i));return V.jsx(s,Object.assign({},i,o,{ref:e}))});Op.displayName="Button";const fD=["onKeyDown"];function dD(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pD(t){return!t||t.trim()==="#"}const Lp=_.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=dD(t,fD);const[i]=Vp(Object.assign({tagName:"a"},r)),o=ft(s=>{i.onKeyDown(s),n==null||n(s)});return pD(r.href)||r.role==="button"?V.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):V.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});Lp.displayName="Anchor";const mD={[en]:"show",[Nn]:"show"},i1=_.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:r,...i},o)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...i},l=_.useCallback((u,c)=>{t1(u),r==null||r(u,c)},[r]);return V.jsx(Dp,{ref:o,addEndListener:kp,...s,onEnter:l,childRef:oc(e),children:(u,c)=>_.cloneElement(e,{...c,className:Ee("fade",t,e.props.className,mD[u],n[u])})})});i1.displayName="Fade";const gD={"aria-label":fh.string,onClick:fh.func,variant:fh.oneOf(["white"])},bp=_.forwardRef(({className:t,variant:e,"aria-label":n="Close",...r},i)=>V.jsx("button",{ref:i,type:"button",className:Ee("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...r}));bp.displayName="CloseButton";bp.propTypes=gD;const o1=_.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...l},u)=>{const c=Ve(e,"btn"),[f,{tagName:p}]=Vp({tagName:t,disabled:o,...l}),m=p;return V.jsx(m,{...f,...l,ref:u,disabled:o,className:Ee(s,c,i&&"active",n&&`${c}-${n}`,r&&`${c}-${r}`,l.href&&o&&"disabled")})});o1.displayName="Button";const s1=_.createContext(null);s1.displayName="CardHeaderContext";var yD=Function.prototype.bind.call(Function.prototype.call,[].slice);function kn(t,e){return yD(t.querySelectorAll(e))}function vD(t,e,n){const r=_.useRef(t!==void 0),[i,o]=_.useState(e),s=t!==void 0,l=r.current;return r.current=s,!s&&l&&i!==e&&o(e),[s?t:i,_.useCallback((...u)=>{const[c,...f]=u;let p=n==null?void 0:n(c,...f);return o(c),p},[n])]}function a1(){const[,t]=_.useReducer(e=>e+1,0);return t}const ac=_.createContext(null);var lv=Object.prototype.hasOwnProperty;function uv(t,e,n){for(n of t.keys())if(Ss(n,e))return n}function Ss(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Ss(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=uv(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=uv(e,i),!i)||!Ss(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(lv.call(t,n)&&++r&&!lv.call(e,n)||!(n in e)||!Ss(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function _D(t){const e=n1();return[t[0],_.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var At="top",Ht="bottom",qt="right",xt="left",Mp="auto",va=[At,Ht,qt,xt],mo="start",Js="end",ED="clippingParents",l1="viewport",es="popper",wD="reference",cv=va.reduce(function(t,e){return t.concat([e+"-"+mo,e+"-"+Js])},[]),u1=[].concat(va,[Mp]).reduce(function(t,e){return t.concat([e,e+"-"+mo,e+"-"+Js])},[]),TD="beforeRead",SD="read",ID="afterRead",CD="beforeMain",RD="main",AD="afterMain",xD="beforeWrite",PD="write",kD="afterWrite",ND=[TD,SD,ID,CD,RD,AD,xD,PD,kD];function _n(t){return t.split("-")[0]}function Lt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function hi(t){var e=Lt(t).Element;return t instanceof e||t instanceof Element}function En(t){var e=Lt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Fp(t){if(typeof ShadowRoot>"u")return!1;var e=Lt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var ii=Math.max,gu=Math.min,go=Math.round;function Hf(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function c1(){return!/^((?!chrome|android).)*safari/i.test(Hf())}function yo(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&En(t)&&(i=t.offsetWidth>0&&go(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&go(r.height)/t.offsetHeight||1);var s=hi(t)?Lt(t):window,l=s.visualViewport,u=!c1()&&n,c=(r.left+(u&&l?l.offsetLeft:0))/i,f=(r.top+(u&&l?l.offsetTop:0))/o,p=r.width/i,m=r.height/o;return{width:p,height:m,top:f,right:c+p,bottom:f+m,left:c,x:c,y:f}}function $p(t){var e=yo(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function h1(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Fp(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vr(t){return t?(t.nodeName||"").toLowerCase():null}function qn(t){return Lt(t).getComputedStyle(t)}function DD(t){return["table","td","th"].indexOf(Vr(t))>=0}function $r(t){return((hi(t)?t.ownerDocument:t.document)||window.document).documentElement}function lc(t){return Vr(t)==="html"?t:t.assignedSlot||t.parentNode||(Fp(t)?t.host:null)||$r(t)}function hv(t){return!En(t)||qn(t).position==="fixed"?null:t.offsetParent}function VD(t){var e=/firefox/i.test(Hf()),n=/Trident/i.test(Hf());if(n&&En(t)){var r=qn(t);if(r.position==="fixed")return null}var i=lc(t);for(Fp(i)&&(i=i.host);En(i)&&["html","body"].indexOf(Vr(i))<0;){var o=qn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function _a(t){for(var e=Lt(t),n=hv(t);n&&DD(n)&&qn(n).position==="static";)n=hv(n);return n&&(Vr(n)==="html"||Vr(n)==="body"&&qn(n).position==="static")?e:n||VD(t)||e}function jp(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Is(t,e,n){return ii(t,gu(e,n))}function OD(t,e,n){var r=Is(t,e,n);return r>n?n:r}function f1(){return{top:0,right:0,bottom:0,left:0}}function d1(t){return Object.assign({},f1(),t)}function p1(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var LD=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,d1(typeof e!="number"?e:p1(e,va))};function bD(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,l=_n(n.placement),u=jp(l),c=[xt,qt].indexOf(l)>=0,f=c?"height":"width";if(!(!o||!s)){var p=LD(i.padding,n),m=$p(o),v=u==="y"?At:xt,C=u==="y"?Ht:qt,x=n.rects.reference[f]+n.rects.reference[u]-s[u]-n.rects.popper[f],P=s[u]-n.rects.reference[u],w=_a(o),g=w?u==="y"?w.clientHeight||0:w.clientWidth||0:0,T=x/2-P/2,D=p[v],L=g-m[f]-p[C],b=g/2-m[f]/2+T,S=Is(D,b,L),y=u;n.modifiersData[r]=(e={},e[y]=S,e.centerOffset=S-b,e)}}function MD(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||h1(e.elements.popper,i)&&(e.elements.arrow=i))}const FD={name:"arrow",enabled:!0,phase:"main",fn:bD,effect:MD,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vo(t){return t.split("-")[1]}var $D={top:"auto",right:"auto",bottom:"auto",left:"auto"};function jD(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:go(n*i)/i||0,y:go(r*i)/i||0}}function fv(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,l=t.position,u=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,p=t.isFixed,m=s.x,v=m===void 0?0:m,C=s.y,x=C===void 0?0:C,P=typeof f=="function"?f({x:v,y:x}):{x:v,y:x};v=P.x,x=P.y;var w=s.hasOwnProperty("x"),g=s.hasOwnProperty("y"),T=xt,D=At,L=window;if(c){var b=_a(n),S="clientHeight",y="clientWidth";if(b===Lt(n)&&(b=$r(n),qn(b).position!=="static"&&l==="absolute"&&(S="scrollHeight",y="scrollWidth")),b=b,i===At||(i===xt||i===qt)&&o===Js){D=Ht;var I=p&&b===L&&L.visualViewport?L.visualViewport.height:b[S];x-=I-r.height,x*=u?1:-1}if(i===xt||(i===At||i===Ht)&&o===Js){T=qt;var A=p&&b===L&&L.visualViewport?L.visualViewport.width:b[y];v-=A-r.width,v*=u?1:-1}}var k=Object.assign({position:l},c&&$D),N=f===!0?jD({x:v,y:x},Lt(n)):{x:v,y:x};if(v=N.x,x=N.y,u){var R;return Object.assign({},k,(R={},R[D]=g?"0":"",R[T]=w?"0":"",R.transform=(L.devicePixelRatio||1)<=1?"translate("+v+"px, "+x+"px)":"translate3d("+v+"px, "+x+"px, 0)",R))}return Object.assign({},k,(e={},e[D]=g?x+"px":"",e[T]=w?v+"px":"",e.transform="",e))}function UD(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,l=n.roundOffsets,u=l===void 0?!0:l,c={placement:_n(e.placement),variation:vo(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,fv(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,fv(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const BD={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UD,data:{}};var ul={passive:!0};function zD(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,l=s===void 0?!0:s,u=Lt(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach(function(f){f.addEventListener("scroll",n.update,ul)}),l&&u.addEventListener("resize",n.update,ul),function(){o&&c.forEach(function(f){f.removeEventListener("scroll",n.update,ul)}),l&&u.removeEventListener("resize",n.update,ul)}}const WD={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zD,data:{}};var HD={left:"right",right:"left",bottom:"top",top:"bottom"};function Dl(t){return t.replace(/left|right|bottom|top/g,function(e){return HD[e]})}var qD={start:"end",end:"start"};function dv(t){return t.replace(/start|end/g,function(e){return qD[e]})}function Up(t){var e=Lt(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Bp(t){return yo($r(t)).left+Up(t).scrollLeft}function KD(t,e){var n=Lt(t),r=$r(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,l=0,u=0;if(i){o=i.width,s=i.height;var c=c1();(c||!c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:l+Bp(t),y:u}}function GD(t){var e,n=$r(t),r=Up(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ii(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ii(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),l=-r.scrollLeft+Bp(t),u=-r.scrollTop;return qn(i||n).direction==="rtl"&&(l+=ii(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:l,y:u}}function zp(t){var e=qn(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function m1(t){return["html","body","#document"].indexOf(Vr(t))>=0?t.ownerDocument.body:En(t)&&zp(t)?t:m1(lc(t))}function Cs(t,e){var n;e===void 0&&(e=[]);var r=m1(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Lt(r),s=i?[o].concat(o.visualViewport||[],zp(r)?r:[]):r,l=e.concat(s);return i?l:l.concat(Cs(lc(s)))}function qf(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function QD(t,e){var n=yo(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function pv(t,e,n){return e===l1?qf(KD(t,n)):hi(e)?QD(e,n):qf(GD($r(t)))}function XD(t){var e=Cs(lc(t)),n=["absolute","fixed"].indexOf(qn(t).position)>=0,r=n&&En(t)?_a(t):t;return hi(r)?e.filter(function(i){return hi(i)&&h1(i,r)&&Vr(i)!=="body"}):[]}function YD(t,e,n,r){var i=e==="clippingParents"?XD(t):[].concat(e),o=[].concat(i,[n]),s=o[0],l=o.reduce(function(u,c){var f=pv(t,c,r);return u.top=ii(f.top,u.top),u.right=gu(f.right,u.right),u.bottom=gu(f.bottom,u.bottom),u.left=ii(f.left,u.left),u},pv(t,s,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function g1(t){var e=t.reference,n=t.element,r=t.placement,i=r?_n(r):null,o=r?vo(r):null,s=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,u;switch(i){case At:u={x:s,y:e.y-n.height};break;case Ht:u={x:s,y:e.y+e.height};break;case qt:u={x:e.x+e.width,y:l};break;case xt:u={x:e.x-n.width,y:l};break;default:u={x:e.x,y:e.y}}var c=i?jp(i):null;if(c!=null){var f=c==="y"?"height":"width";switch(o){case mo:u[c]=u[c]-(e[f]/2-n[f]/2);break;case Js:u[c]=u[c]+(e[f]/2-n[f]/2);break}}return u}function Zs(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,l=n.boundary,u=l===void 0?ED:l,c=n.rootBoundary,f=c===void 0?l1:c,p=n.elementContext,m=p===void 0?es:p,v=n.altBoundary,C=v===void 0?!1:v,x=n.padding,P=x===void 0?0:x,w=d1(typeof P!="number"?P:p1(P,va)),g=m===es?wD:es,T=t.rects.popper,D=t.elements[C?g:m],L=YD(hi(D)?D:D.contextElement||$r(t.elements.popper),u,f,s),b=yo(t.elements.reference),S=g1({reference:b,element:T,strategy:"absolute",placement:i}),y=qf(Object.assign({},T,S)),I=m===es?y:b,A={top:L.top-I.top+w.top,bottom:I.bottom-L.bottom+w.bottom,left:L.left-I.left+w.left,right:I.right-L.right+w.right},k=t.modifiersData.offset;if(m===es&&k){var N=k[i];Object.keys(A).forEach(function(R){var ee=[qt,Ht].indexOf(R)>=0?1:-1,me=[At,Ht].indexOf(R)>=0?"y":"x";A[R]+=N[me]*ee})}return A}function JD(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,l=n.flipVariations,u=n.allowedAutoPlacements,c=u===void 0?u1:u,f=vo(r),p=f?l?cv:cv.filter(function(C){return vo(C)===f}):va,m=p.filter(function(C){return c.indexOf(C)>=0});m.length===0&&(m=p);var v=m.reduce(function(C,x){return C[x]=Zs(t,{placement:x,boundary:i,rootBoundary:o,padding:s})[_n(x)],C},{});return Object.keys(v).sort(function(C,x){return v[C]-v[x]})}function ZD(t){if(_n(t)===Mp)return[];var e=Dl(t);return[dv(t),e,dv(e)]}function e2(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!0:s,u=n.fallbackPlacements,c=n.padding,f=n.boundary,p=n.rootBoundary,m=n.altBoundary,v=n.flipVariations,C=v===void 0?!0:v,x=n.allowedAutoPlacements,P=e.options.placement,w=_n(P),g=w===P,T=u||(g||!C?[Dl(P)]:ZD(P)),D=[P].concat(T).reduce(function(fe,ve){return fe.concat(_n(ve)===Mp?JD(e,{placement:ve,boundary:f,rootBoundary:p,padding:c,flipVariations:C,allowedAutoPlacements:x}):ve)},[]),L=e.rects.reference,b=e.rects.popper,S=new Map,y=!0,I=D[0],A=0;A<D.length;A++){var k=D[A],N=_n(k),R=vo(k)===mo,ee=[At,Ht].indexOf(N)>=0,me=ee?"width":"height",le=Zs(e,{placement:k,boundary:f,rootBoundary:p,altBoundary:m,padding:c}),he=ee?R?qt:xt:R?Ht:At;L[me]>b[me]&&(he=Dl(he));var j=Dl(he),K=[];if(o&&K.push(le[N]<=0),l&&K.push(le[he]<=0,le[j]<=0),K.every(function(fe){return fe})){I=k,y=!1;break}S.set(k,K)}if(y)for(var q=C?3:1,te=function(ve){var Ge=D.find(function(rt){var Kt=S.get(rt);if(Kt)return Kt.slice(0,ve).every(function(Cn){return Cn})});if(Ge)return I=Ge,"break"},J=q;J>0;J--){var oe=te(J);if(oe==="break")break}e.placement!==I&&(e.modifiersData[r]._skip=!0,e.placement=I,e.reset=!0)}}const t2={name:"flip",enabled:!0,phase:"main",fn:e2,requiresIfExists:["offset"],data:{_skip:!1}};function mv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function gv(t){return[At,qt,Ht,xt].some(function(e){return t[e]>=0})}function n2(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Zs(e,{elementContext:"reference"}),l=Zs(e,{altBoundary:!0}),u=mv(s,r),c=mv(l,i,o),f=gv(u),p=gv(c);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const r2={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:n2};function i2(t,e,n){var r=_n(t),i=[xt,At].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],l=o[1];return s=s||0,l=(l||0)*i,[xt,qt].indexOf(r)>=0?{x:l,y:s}:{x:s,y:l}}function o2(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=u1.reduce(function(f,p){return f[p]=i2(p,e.rects,o),f},{}),l=s[e.placement],u=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=s}const s2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:o2};function a2(t){var e=t.state,n=t.name;e.modifiersData[n]=g1({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const l2={name:"popperOffsets",enabled:!0,phase:"read",fn:a2,data:{}};function u2(t){return t==="x"?"y":"x"}function c2(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,l=s===void 0?!1:s,u=n.boundary,c=n.rootBoundary,f=n.altBoundary,p=n.padding,m=n.tether,v=m===void 0?!0:m,C=n.tetherOffset,x=C===void 0?0:C,P=Zs(e,{boundary:u,rootBoundary:c,padding:p,altBoundary:f}),w=_n(e.placement),g=vo(e.placement),T=!g,D=jp(w),L=u2(D),b=e.modifiersData.popperOffsets,S=e.rects.reference,y=e.rects.popper,I=typeof x=="function"?x(Object.assign({},e.rects,{placement:e.placement})):x,A=typeof I=="number"?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),k=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(b){if(o){var R,ee=D==="y"?At:xt,me=D==="y"?Ht:qt,le=D==="y"?"height":"width",he=b[D],j=he+P[ee],K=he-P[me],q=v?-y[le]/2:0,te=g===mo?S[le]:y[le],J=g===mo?-y[le]:-S[le],oe=e.elements.arrow,fe=v&&oe?$p(oe):{width:0,height:0},ve=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:f1(),Ge=ve[ee],rt=ve[me],Kt=Is(0,S[le],fe[le]),Cn=T?S[le]/2-q-Kt-Ge-A.mainAxis:te-Kt-Ge-A.mainAxis,sn=T?-S[le]/2+q+Kt+rt+A.mainAxis:J+Kt+rt+A.mainAxis,an=e.elements.arrow&&_a(e.elements.arrow),Qn=an?D==="y"?an.clientTop||0:an.clientLeft||0:0,ln=(R=k==null?void 0:k[D])!=null?R:0,un=he+Cn-ln-Qn,ge=he+sn-ln,Xn=Is(v?gu(j,un):j,he,v?ii(K,ge):K);b[D]=Xn,N[D]=Xn-he}if(l){var Yn,dc=D==="x"?At:xt,Ta=D==="x"?Ht:qt,Gt=b[L],jr=L==="y"?"height":"width",Sa=Gt+P[dc],Ei=Gt-P[Ta],Ur=[At,xt].indexOf(w)!==-1,ko=(Yn=k==null?void 0:k[L])!=null?Yn:0,$e=Ur?Sa:Gt-S[jr]-y[jr]-ko+A.altAxis,We=Ur?Gt+S[jr]+y[jr]-ko-A.altAxis:Ei,Br=v&&Ur?OD($e,Gt,We):Is(v?$e:Sa,Gt,v?We:Ei);b[L]=Br,N[L]=Br-Gt}e.modifiersData[r]=N}}const h2={name:"preventOverflow",enabled:!0,phase:"main",fn:c2,requiresIfExists:["offset"]};function f2(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function d2(t){return t===Lt(t)||!En(t)?Up(t):f2(t)}function p2(t){var e=t.getBoundingClientRect(),n=go(e.width)/t.offsetWidth||1,r=go(e.height)/t.offsetHeight||1;return n!==1||r!==1}function m2(t,e,n){n===void 0&&(n=!1);var r=En(e),i=En(e)&&p2(e),o=$r(e),s=yo(t,i,n),l={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Vr(e)!=="body"||zp(o))&&(l=d2(e)),En(e)?(u=yo(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=Bp(o))),{x:s.left+l.scrollLeft-u.x,y:s.top+l.scrollTop-u.y,width:s.width,height:s.height}}function g2(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!n.has(l)){var u=e.get(l);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function y2(t){var e=g2(t);return ND.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function v2(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _2(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var yv={placement:"bottom",modifiers:[],strategy:"absolute"};function vv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function E2(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?yv:i;return function(l,u,c){c===void 0&&(c=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},yv,o),modifiersData:{},elements:{reference:l,popper:u},attributes:{},styles:{}},p=[],m=!1,v={state:f,setOptions:function(w){var g=typeof w=="function"?w(f.options):w;x(),f.options=Object.assign({},o,f.options,g),f.scrollParents={reference:hi(l)?Cs(l):l.contextElement?Cs(l.contextElement):[],popper:Cs(u)};var T=y2(_2([].concat(r,f.options.modifiers)));return f.orderedModifiers=T.filter(function(D){return D.enabled}),C(),v.update()},forceUpdate:function(){if(!m){var w=f.elements,g=w.reference,T=w.popper;if(vv(g,T)){f.rects={reference:m2(g,_a(T),f.options.strategy==="fixed"),popper:$p(T)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(A){return f.modifiersData[A.name]=Object.assign({},A.data)});for(var D=0;D<f.orderedModifiers.length;D++){if(f.reset===!0){f.reset=!1,D=-1;continue}var L=f.orderedModifiers[D],b=L.fn,S=L.options,y=S===void 0?{}:S,I=L.name;typeof b=="function"&&(f=b({state:f,options:y,name:I,instance:v})||f)}}}},update:v2(function(){return new Promise(function(P){v.forceUpdate(),P(f)})}),destroy:function(){x(),m=!0}};if(!vv(l,u))return v;v.setOptions(c).then(function(P){!m&&c.onFirstUpdate&&c.onFirstUpdate(P)});function C(){f.orderedModifiers.forEach(function(P){var w=P.name,g=P.options,T=g===void 0?{}:g,D=P.effect;if(typeof D=="function"){var L=D({state:f,name:w,instance:v,options:T}),b=function(){};p.push(L||b)}})}function x(){p.forEach(function(P){return P()}),p=[]}return v}}const w2=E2({defaultModifiers:[r2,l2,BD,WD,s2,t2,h2,FD]}),T2=["enabled","placement","strategy","modifiers"];function S2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const I2={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},C2={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},R2=[];function A2(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=R2}=n,l=S2(n,T2);const u=_.useRef(s),c=_.useRef(),f=_.useCallback(()=>{var P;(P=c.current)==null||P.update()},[]),p=_.useCallback(()=>{var P;(P=c.current)==null||P.forceUpdate()},[]),[m,v]=_D(_.useState({placement:i,update:f,forceUpdate:p,attributes:{},styles:{popper:{},arrow:{}}})),C=_.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:P})=>{const w={},g={};Object.keys(P.elements).forEach(T=>{w[T]=P.styles[T],g[T]=P.attributes[T]}),v({state:P,styles:w,attributes:g,update:f,forceUpdate:p,placement:P.placement})}}),[f,p,v]),x=_.useMemo(()=>(Ss(u.current,s)||(u.current=s),u.current),[s]);return _.useEffect(()=>{!c.current||!r||c.current.setOptions({placement:i,strategy:o,modifiers:[...x,C,I2]})},[o,i,C,r,x]),_.useEffect(()=>{if(!(!r||t==null||e==null))return c.current=w2(t,e,Object.assign({},l,{placement:i,strategy:o,modifiers:[...x,C2,C]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,v(P=>Object.assign({},P,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),m}function yu(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var x2=function(){},P2=x2;const k2=ta(P2),_v=()=>{};function N2(t){return t.button===0}function D2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const ph=t=>t&&("current"in t?t.current:t),Ev={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function V2(t,e=_v,{disabled:n,clickTrigger:r="click"}={}){const i=_.useRef(!1),o=_.useRef(!1),s=_.useCallback(c=>{const f=ph(t);k2(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!f||D2(c)||!N2(c)||!!yu(f,c.target)||o.current,o.current=!1},[t]),l=ft(c=>{const f=ph(t);f&&yu(f,c.target)?o.current=!0:o.current=!1}),u=ft(c=>{i.current||e(c)});_.useEffect(()=>{var c,f;if(n||t==null)return;const p=ic(ph(t)),m=p.defaultView||window;let v=(c=m.event)!=null?c:(f=m.parent)==null?void 0:f.event,C=null;Ev[r]&&(C=hr(p,Ev[r],l,!0));const x=hr(p,r,s,!0),P=hr(p,r,g=>{if(g===v){v=void 0;return}u(g)});let w=[];return"ontouchstart"in p.documentElement&&(w=[].slice.call(p.body.children).map(g=>hr(g,"mousemove",_v))),()=>{C==null||C(),x(),P(),w.forEach(g=>g())}},[t,n,r,s,l,u])}function O2(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function L2(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function b2({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:l,popperConfig:u={}}){var c,f,p,m,v;const C=O2(u.modifiers);return Object.assign({},u,{placement:n,enabled:t,strategy:o?"fixed":u.strategy,modifiers:L2(Object.assign({},C,{eventListeners:{enabled:e,options:(c=C.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},C.preventOverflow,{options:s?Object.assign({padding:s},(f=C.preventOverflow)==null?void 0:f.options):(p=C.preventOverflow)==null?void 0:p.options}),offset:{options:Object.assign({offset:i},(m=C.offset)==null?void 0:m.options)},arrow:Object.assign({},C.arrow,{enabled:!!l,options:Object.assign({},(v=C.arrow)==null?void 0:v.options,{element:l})}),flip:Object.assign({enabled:!!r},C.flip)}))})}const M2=["children","usePopper"];function F2(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const $2=()=>{};function y1(t={}){const e=_.useContext(ac),[n,r]=iD(),i=_.useRef(!1),{flip:o,offset:s,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:f={},enableEventListeners:p=!0,usePopper:m=!!e}=t,v=(e==null?void 0:e.show)==null?!!t.show:e.show;v&&!i.current&&(i.current=!0);const C=b=>{e==null||e.toggle(!1,b)},{placement:x,setMenu:P,menuElement:w,toggleElement:g}=e||{},T=A2(g,w,b2({placement:c||x||"bottom-start",enabled:m,enableEvents:p??v,offset:s,flip:o,fixed:u,arrowElement:n,popperConfig:f})),D=Object.assign({ref:P||$2,"aria-labelledby":g==null?void 0:g.id},T.attributes.popper,{style:T.styles.popper}),L={show:v,placement:x,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:m?T:null,arrowProps:m?Object.assign({ref:r},T.attributes.arrow,{style:T.styles.arrow}):{}};return V2(w,C,{clickTrigger:l,disabled:!v}),[D,L]}function v1(t){let{children:e,usePopper:n=!0}=t,r=F2(t,M2);const[i,o]=y1(Object.assign({},r,{usePopper:n}));return V.jsx(V.Fragment,{children:e(i,o)})}v1.displayName="DropdownMenu";const vu={prefix:String(Math.round(Math.random()*1e10)),current:0},_1=Ze.createContext(vu),j2=Ze.createContext(!1);let U2=!!(typeof window<"u"&&window.document&&window.document.createElement),mh=new WeakMap;function B2(t=!1){let e=_.useContext(_1),n=_.useRef(null);if(n.current===null&&!t){var r,i;let o=(i=Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=mh.get(o);s==null?mh.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,mh.delete(o))}n.current=++e.current}return n.current}function z2(t){let e=_.useContext(_1);e===vu&&!U2&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=B2(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function W2(t){let e=Ze.useId(),[n]=_.useState(Q2()),r=n?"react-aria":`react-aria${vu.prefix}`;return t||`${r}-${e}`}const H2=typeof Ze.useId=="function"?W2:z2;function q2(){return!1}function K2(){return!0}function G2(t){return()=>{}}function Q2(){return typeof Ze.useSyncExternalStore=="function"?Ze.useSyncExternalStore(G2,q2,K2):_.useContext(j2)}const E1=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},wv=()=>{};function w1(){const t=H2(),{show:e=!1,toggle:n=wv,setToggle:r,menuElement:i}=_.useContext(ac)||{},o=_.useCallback(l=>{n(!e,l)},[e,n]),s={id:t,ref:r||wv,onClick:o,"aria-expanded":!!e};return i&&E1(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function T1({children:t}){const[e,n]=w1();return V.jsx(V.Fragment,{children:t(e,n)})}T1.displayName="DropdownToggle";const fi=_.createContext(null),ea=(t,e=null)=>t!=null?String(t):e||null,uc=_.createContext(null);uc.displayName="NavContext";const X2="data-rr-ui-",Y2="rrUi";function Po(t){return`${X2}${t}`}function J2(t){return`${Y2}${t}`}const Z2=["eventKey","disabled","onClick","active","as"];function eV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function S1({key:t,href:e,active:n,disabled:r,onClick:i}){const o=_.useContext(fi),s=_.useContext(uc),{activeKey:l}=s||{},u=ea(t,e),c=n==null&&t!=null?ea(l)===u:n;return[{onClick:ft(p=>{r||(i==null||i(p),o&&!p.isPropagationStopped()&&o(u,p))}),"aria-disabled":r||void 0,"aria-selected":c,[Po("dropdown-item")]:""},{isActive:c}]}const I1=_.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=Op}=t,l=eV(t,Z2);const[u]=S1({key:n,href:l.href,disabled:r,onClick:i,active:o});return V.jsx(s,Object.assign({},l,{ref:e},u))});I1.displayName="DropdownItem";const C1=_.createContext(sc?window:void 0);C1.Provider;function cc(){return _.useContext(C1)}function Tv(){const t=a1(),e=_.useRef(null),n=_.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function Ea({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Po("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:l}){const u=cc(),[c,f]=vD(e,t,r),[p,m]=Tv(),v=p.current,[C,x]=Tv(),P=C.current,w=r1(c),g=_.useRef(null),T=_.useRef(!1),D=_.useContext(fi),L=_.useCallback((k,N,R=N==null?void 0:N.type)=>{f(k,{originalEvent:N,source:R})},[f]),b=ft((k,N)=>{n==null||n(k,N),L(!1,N,"select"),N.isPropagationStopped()||D==null||D(k,N)}),S=_.useMemo(()=>({toggle:L,placement:s,show:c,menuElement:v,toggleElement:P,setMenu:m,setToggle:x}),[L,s,c,v,P,m,x]);v&&w&&!c&&(T.current=v.contains(v.ownerDocument.activeElement));const y=ft(()=>{P&&P.focus&&P.focus()}),I=ft(()=>{const k=g.current;let N=o;if(N==null&&(N=p.current&&E1(p.current)?"keyboard":!1),N===!1||N==="keyboard"&&!/^key.+$/.test(k))return;const R=kn(p.current,i)[0];R&&R.focus&&R.focus()});_.useEffect(()=>{c?I():T.current&&(T.current=!1,y())},[c,T,y,I]),_.useEffect(()=>{g.current=null});const A=(k,N)=>{if(!p.current)return null;const R=kn(p.current,i);let ee=R.indexOf(k)+N;return ee=Math.max(0,Math.min(ee,R.length)),R[ee]};return sD(_.useCallback(()=>u.document,[u]),"keydown",k=>{var N,R;const{key:ee}=k,me=k.target,le=(N=p.current)==null?void 0:N.contains(me),he=(R=C.current)==null?void 0:R.contains(me);if(/input|textarea/i.test(me.tagName)&&(ee===" "||ee!=="Escape"&&le||ee==="Escape"&&me.type==="search")||!le&&!he||ee==="Tab"&&(!p.current||!c))return;g.current=k.type;const K={originalEvent:k,source:k.type};switch(ee){case"ArrowUp":{const q=A(me,-1);q&&q.focus&&q.focus(),k.preventDefault();return}case"ArrowDown":if(k.preventDefault(),!c)f(!0,K);else{const q=A(me,1);q&&q.focus&&q.focus()}return;case"Tab":e1(me.ownerDocument,"keyup",q=>{var te;(q.key==="Tab"&&!q.target||!((te=p.current)!=null&&te.contains(q.target)))&&f(!1,K)},{once:!0});break;case"Escape":ee==="Escape"&&(k.preventDefault(),k.stopPropagation()),f(!1,K);break}}),V.jsx(fi.Provider,{value:b,children:V.jsx(ac.Provider,{value:S,children:l})})}Ea.displayName="Dropdown";Ea.Menu=v1;Ea.Toggle=T1;Ea.Item=I1;const Wp=_.createContext({});Wp.displayName="DropdownContext";const R1=_.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},o)=>(e=Ve(e,"dropdown-divider"),V.jsx(n,{ref:o,className:Ee(t,e),role:r,...i})));R1.displayName="DropdownDivider";const A1=_.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},o)=>(e=Ve(e,"dropdown-header"),V.jsx(n,{ref:o,className:Ee(t,e),role:r,...i})));A1.displayName="DropdownHeader";const x1=_.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=Lp,...l},u)=>{const c=Ve(t,"dropdown-item"),[f,p]=S1({key:n,href:l.href,disabled:r,onClick:i,active:o});return V.jsx(s,{...l,...f,ref:u,className:Ee(e,c,p.isActive&&"active",r&&"disabled")})});x1.displayName="DropdownItem";const P1=_.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ve(e,"dropdown-item-text"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));P1.displayName="DropdownItemText";const tV=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",nV=typeof document<"u",k1=nV||tV?_.useLayoutEffect:_.useEffect,Hp=_.createContext(null);Hp.displayName="InputGroupContext";const _i=_.createContext(null);_i.displayName="NavbarContext";function N1(t,e){return t}function D1(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",l=n?"right-start":"left-start",u=n?"right-end":"left-end",c=n?"left-start":"right-start",f=n?"left-end":"right-end";let p=t?s:o;return e==="up"?p=t?i:r:e==="end"?p=t?f:c:e==="start"?p=t?u:l:e==="down-centered"?p="bottom":e==="up-centered"&&(p="top"),p}const V1=_.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:l="div",popperConfig:u,variant:c,...f},p)=>{let m=!1;const v=_.useContext(_i),C=Ve(t,"dropdown-menu"),{align:x,drop:P,isRTL:w}=_.useContext(Wp);n=n||x;const g=_.useContext(Hp),T=[];if(n)if(typeof n=="object"){const k=Object.keys(n);if(k.length){const N=k[0],R=n[N];m=R==="start",T.push(`${C}-${N}-${R}`)}}else n==="end"&&(m=!0);const D=D1(m,P,w),[L,{hasShown:b,popper:S,show:y,toggle:I}]=y1({flip:i,rootCloseEvent:r,show:o,usePopper:!v&&T.length===0,offset:[0,2],popperConfig:u,placement:D});if(L.ref=Np(N1(p),L.ref),k1(()=>{y&&(S==null||S.update())},[y]),!b&&!s&&!g)return null;typeof l!="string"&&(L.show=y,L.close=()=>I==null?void 0:I(!1),L.align=n);let A=f.style;return S!=null&&S.placement&&(A={...f.style,...L.style},f["x-placement"]=S.placement),V.jsx(l,{...f,...L,style:A,...(T.length||v)&&{"data-bs-popper":"static"},className:Ee(e,C,y&&"show",m&&`${C}-end`,c&&`${C}-${c}`,...T)})});V1.displayName="DropdownMenu";const O1=_.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=o1,...o},s)=>{const l=Ve(t,"dropdown-toggle"),u=_.useContext(ac);r!==void 0&&(o.bsPrefix=r);const[c]=w1();return c.ref=Np(c.ref,N1(s)),V.jsx(i,{className:Ee(n,l,e&&`${l}-split`,(u==null?void 0:u.show)&&"show"),...c,...o})});O1.displayName="DropdownToggle";const L1=_.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:l,onToggle:u,focusFirstItemOnShow:c,as:f="div",navbar:p,autoClose:m=!0,...v}=Pp(t,{show:"onToggle"}),C=_.useContext(Hp),x=Ve(n,"dropdown"),P=PN(),w=S=>m===!1?S==="click":m==="inside"?S!=="rootClose":m==="outside"?S!=="select":!0,g=ya((S,y)=>{var I;!((I=y.originalEvent)==null||(I=I.target)==null)&&I.classList.contains("dropdown-toggle")&&y.source==="mousedown"||(y.originalEvent.currentTarget===document&&(y.source!=="keydown"||y.originalEvent.key==="Escape")&&(y.source="rootClose"),w(y.source)&&(u==null||u(S,y)))}),D=D1(s==="end",r,P),L=_.useMemo(()=>({align:s,drop:r,isRTL:P}),[s,r,P]),b={down:x,"down-centered":`${x}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return V.jsx(Wp.Provider,{value:L,children:V.jsx(Ea,{placement:D,show:i,onSelect:l,onToggle:g,focusFirstItemOnShow:c,itemSelector:`.${x}-item:not(.disabled):not(:disabled)`,children:C?v.children:V.jsx(f,{...v,ref:e,className:Ee(o,i&&"show",b[r])})})})});L1.displayName="Dropdown";const ei=Object.assign(L1,{Toggle:O1,Menu:V1,Item:x1,ItemText:P1,Divider:R1,Header:A1}),Sv=t=>!t||typeof t=="function"?t:e=>{t.current=e};function rV(t,e){const n=Sv(t),r=Sv(e);return i=>{n&&n(i),r&&r(i)}}function hc(t,e){return _.useMemo(()=>rV(t,e),[t,e])}const b1=_.createContext(null),iV=["as","active","eventKey"];function oV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function M1({key:t,onClick:e,active:n,id:r,role:i,disabled:o}){const s=_.useContext(fi),l=_.useContext(uc),u=_.useContext(b1);let c=n;const f={role:i};if(l){!i&&l.role==="tablist"&&(f.role="tab");const p=l.getControllerId(t??null),m=l.getControlledId(t??null);f[Po("event-key")]=t,f.id=p||r,c=n==null&&t!=null?l.activeKey===t:n,(c||!(u!=null&&u.unmountOnExit)&&!(u!=null&&u.mountOnEnter))&&(f["aria-controls"]=m)}return f.role==="tab"&&(f["aria-selected"]=c,c||(f.tabIndex=-1),o&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=ft(p=>{o||(e==null||e(p),t!=null&&s&&!p.isPropagationStopped()&&s(t,p))}),[f,{isActive:c}]}const F1=_.forwardRef((t,e)=>{let{as:n=Op,active:r,eventKey:i}=t,o=oV(t,iV);const[s,l]=M1(Object.assign({key:ea(i,o.href),active:r},o));return s[Po("active")]=l.isActive,V.jsx(n,Object.assign({},o,s,{ref:e}))});F1.displayName="NavItem";const sV=["as","onSelect","activeKey","role","onKeyDown"];function aV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const Iv=()=>{},Cv=Po("event-key"),$1=_.forwardRef((t,e)=>{let{as:n="div",onSelect:r,activeKey:i,role:o,onKeyDown:s}=t,l=aV(t,sV);const u=a1(),c=_.useRef(!1),f=_.useContext(fi),p=_.useContext(b1);let m,v;p&&(o=o||"tablist",i=p.activeKey,m=p.getControlledId,v=p.getControllerId);const C=_.useRef(null),x=T=>{const D=C.current;if(!D)return null;const L=kn(D,`[${Cv}]:not([aria-disabled=true])`),b=D.querySelector("[aria-selected=true]");if(!b||b!==document.activeElement)return null;const S=L.indexOf(b);if(S===-1)return null;let y=S+T;return y>=L.length&&(y=0),y<0&&(y=L.length-1),L[y]},P=(T,D)=>{T!=null&&(r==null||r(T,D),f==null||f(T,D))},w=T=>{if(s==null||s(T),!p)return;let D;switch(T.key){case"ArrowLeft":case"ArrowUp":D=x(-1);break;case"ArrowRight":case"ArrowDown":D=x(1);break;default:return}D&&(T.preventDefault(),P(D.dataset[J2("EventKey")]||null,T),c.current=!0,u())};_.useEffect(()=>{if(C.current&&c.current){const T=C.current.querySelector(`[${Cv}][aria-selected=true]`);T==null||T.focus()}c.current=!1});const g=hc(e,C);return V.jsx(fi.Provider,{value:P,children:V.jsx(uc.Provider,{value:{role:o,activeKey:ea(i),getControlledId:m||Iv,getControllerId:v||Iv},children:V.jsx(n,Object.assign({},l,{onKeyDown:w,ref:g,role:o}))})})});$1.displayName="Nav";const lV=Object.assign($1,{Item:F1});function gh(t){t===void 0&&(t=ic());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function uV(t){const e=_.useRef(t);return e.current=t,e}function cV(t){const e=uV(t);_.useEffect(()=>()=>e.current(),[])}function hV(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Rv=Po("modal-open");class qp{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return hV(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style={overflow:i.style.overflow,[r]:i.style[r]},e.scrollBarWidth&&(n[r]=`${parseInt(Mn(i,r)||"0",10)+e.scrollBarWidth}px`),i.setAttribute(Rv,""),Mn(i,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Rv),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const yh=(t,e)=>sc?t==null?(e||ic()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function fV(t,e){const n=cc(),[r,i]=_.useState(()=>yh(t,n==null?void 0:n.document));if(!r){const o=yh(t);o&&i(o)}return _.useEffect(()=>{},[e,r]),_.useEffect(()=>{const o=yh(t);o!==r&&i(o)},[t,r]),r}function dV({children:t,in:e,onExited:n,mountOnEnter:r,unmountOnExit:i}){const o=_.useRef(null),s=_.useRef(e),l=ft(n);_.useEffect(()=>{e?s.current=!0:l(o.current)},[e,l]);const u=hc(o,t.ref),c=_.cloneElement(t,{ref:u});return e?c:i||!s.current&&r?null:c}const pV=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function mV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gV(t){let{onEnter:e,onEntering:n,onEntered:r,onExit:i,onExiting:o,onExited:s,addEndListener:l,children:u}=t,c=mV(t,pV);const f=_.useRef(null),p=hc(f,oc(u)),m=D=>L=>{D&&f.current&&D(f.current,L)},v=_.useCallback(m(e),[e]),C=_.useCallback(m(n),[n]),x=_.useCallback(m(r),[r]),P=_.useCallback(m(i),[i]),w=_.useCallback(m(o),[o]),g=_.useCallback(m(s),[s]),T=_.useCallback(m(l),[l]);return Object.assign({},c,{nodeRef:f},e&&{onEnter:v},n&&{onEntering:C},r&&{onEntered:x},i&&{onExit:P},o&&{onExiting:w},s&&{onExited:g},l&&{addEndListener:T},{children:typeof u=="function"?(D,L)=>u(D,Object.assign({},L,{ref:p})):_.cloneElement(u,{ref:p})})}const yV=["component"];function vV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const _V=_.forwardRef((t,e)=>{let{component:n}=t,r=vV(t,yV);const i=gV(r);return V.jsx(n,Object.assign({ref:e},i))});function EV({in:t,onTransition:e}){const n=_.useRef(null),r=_.useRef(!0),i=ft(e);return av(()=>{if(!n.current)return;let o=!1;return i({in:t,element:n.current,initial:r.current,isStale:()=>o}),()=>{o=!0}},[t,i]),av(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function wV({children:t,in:e,onExited:n,onEntered:r,transition:i}){const[o,s]=_.useState(!e);e&&o&&s(!1);const l=EV({in:!!e,onTransition:c=>{const f=()=>{c.isStale()||(c.in?r==null||r(c.element,c.initial):(s(!0),n==null||n(c.element)))};Promise.resolve(i(c)).then(f,p=>{throw c.in||s(!0),p})}}),u=hc(l,t.ref);return o&&!e?null:_.cloneElement(t,{ref:u})}function Av(t,e,n){return t?V.jsx(_V,Object.assign({},n,{component:t})):e?V.jsx(wV,Object.assign({},n,{transition:e})):V.jsx(dV,Object.assign({},n))}const TV=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function SV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}let vh;function IV(t){return vh||(vh=new qp({ownerDocument:t==null?void 0:t.document})),vh}function CV(t){const e=cc(),n=t||IV(e),r=_.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:_.useCallback(i=>{r.current.dialog=i},[]),setBackdropRef:_.useCallback(i=>{r.current.backdrop=i},[])})}const j1=_.forwardRef((t,e)=>{let{show:n=!1,role:r="dialog",className:i,style:o,children:s,backdrop:l=!0,keyboard:u=!0,onBackdropClick:c,onEscapeKeyDown:f,transition:p,runTransition:m,backdropTransition:v,runBackdropTransition:C,autoFocus:x=!0,enforceFocus:P=!0,restoreFocus:w=!0,restoreFocusOptions:g,renderDialog:T,renderBackdrop:D=ge=>V.jsx("div",Object.assign({},ge)),manager:L,container:b,onShow:S,onHide:y=()=>{},onExit:I,onExited:A,onExiting:k,onEnter:N,onEntering:R,onEntered:ee}=t,me=SV(t,TV);const le=cc(),he=fV(b),j=CV(L),K=n1(),q=r1(n),[te,J]=_.useState(!n),oe=_.useRef(null);_.useImperativeHandle(e,()=>j,[j]),sc&&!q&&n&&(oe.current=gh(le==null?void 0:le.document)),n&&te&&J(!1);const fe=ft(()=>{if(j.add(),sn.current=hr(document,"keydown",Kt),Cn.current=hr(document,"focus",()=>setTimeout(Ge),!0),S&&S(),x){var ge,Xn;const Yn=gh((ge=(Xn=j.dialog)==null?void 0:Xn.ownerDocument)!=null?ge:le==null?void 0:le.document);j.dialog&&Yn&&!yu(j.dialog,Yn)&&(oe.current=Yn,j.dialog.focus())}}),ve=ft(()=>{if(j.remove(),sn.current==null||sn.current(),Cn.current==null||Cn.current(),w){var ge;(ge=oe.current)==null||ge.focus==null||ge.focus(g),oe.current=null}});_.useEffect(()=>{!n||!he||fe()},[n,he,fe]),_.useEffect(()=>{te&&ve()},[te,ve]),cV(()=>{ve()});const Ge=ft(()=>{if(!P||!K()||!j.isTopModal())return;const ge=gh(le==null?void 0:le.document);j.dialog&&ge&&!yu(j.dialog,ge)&&j.dialog.focus()}),rt=ft(ge=>{ge.target===ge.currentTarget&&(c==null||c(ge),l===!0&&y())}),Kt=ft(ge=>{u&&zN(ge)&&j.isTopModal()&&(f==null||f(ge),ge.defaultPrevented||y())}),Cn=_.useRef(),sn=_.useRef(),an=(...ge)=>{J(!0),A==null||A(...ge)};if(!he)return null;const Qn=Object.assign({role:r,ref:j.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},me,{style:o,className:i,tabIndex:-1});let ln=T?T(Qn):V.jsx("div",Object.assign({},Qn,{children:_.cloneElement(s,{role:"document"})}));ln=Av(p,m,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:k,onExited:an,onEnter:N,onEntering:R,onEntered:ee,children:ln});let un=null;return l&&(un=D({ref:j.setBackdropRef,onClick:rt}),un=Av(v,C,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:un})),V.jsx(V.Fragment,{children:Hi.createPortal(V.jsxs(V.Fragment,{children:[un,ln]}),he)})});j1.displayName="Modal";const RV=Object.assign(j1,{Manager:qp});function AV(t,e){return t.classList?t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function xV(t,e){t.classList?t.classList.add(e):AV(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function xv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function PV(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=xv(t.className,e):t.setAttribute("class",xv(t.className&&t.className.baseVal||"",e))}const Ai={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class U1 extends qp{adjustAndStore(e,n,r){const i=n.style[e];n.dataset[e]=i,Mn(n,{[e]:`${parseFloat(Mn(n,e))+r}px`})}restore(e,n){const r=n.dataset[e];r!==void 0&&(delete n.dataset[e],Mn(n,{[e]:r}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(xV(n,"modal-open"),!e.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";kn(n,Ai.FIXED_CONTENT).forEach(o=>this.adjustAndStore(r,o,e.scrollBarWidth)),kn(n,Ai.STICKY_CONTENT).forEach(o=>this.adjustAndStore(i,o,-e.scrollBarWidth)),kn(n,Ai.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();PV(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";kn(n,Ai.FIXED_CONTENT).forEach(o=>this.restore(r,o)),kn(n,Ai.STICKY_CONTENT).forEach(o=>this.restore(i,o)),kn(n,Ai.NAVBAR_TOGGLER).forEach(o=>this.restore(i,o))}}let _h;function kV(t){return _h||(_h=new U1(t)),_h}const B1=_.createContext({onHide(){}}),NV=_.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:r,children:i,...o},s)=>{const l=_.useContext(B1),u=ya(()=>{l==null||l.onHide(),r==null||r()});return V.jsxs("div",{ref:s,...o,children:[i,n&&V.jsx(bp,{"aria-label":t,variant:e,onClick:u})]})}),z1=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ve(e,"nav-item"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));z1.displayName="NavItem";const Kp=_.forwardRef(({bsPrefix:t,className:e,as:n=Lp,active:r,eventKey:i,disabled:o=!1,...s},l)=>{t=Ve(t,"nav-link");const[u,c]=M1({key:ea(i,s.href),active:r,disabled:o,...s});return V.jsx(n,{...s,...u,ref:l,disabled:o,className:Ee(e,t,o&&"disabled",c.isActive&&"active")})});Kp.displayName="NavLink";const W1=_.forwardRef((t,e)=>{const{as:n="div",bsPrefix:r,variant:i,fill:o=!1,justify:s=!1,navbar:l,navbarScroll:u,className:c,activeKey:f,...p}=Pp(t,{activeKey:"onSelect"}),m=Ve(r,"nav");let v,C,x=!1;const P=_.useContext(_i),w=_.useContext(s1);return P?(v=P.bsPrefix,x=l??!0):w&&({cardHeaderBsPrefix:C}=w),V.jsx(lV,{as:n,ref:e,activeKey:f,className:Ee(c,{[m]:!x,[`${v}-nav`]:x,[`${v}-nav-scroll`]:x&&u,[`${C}-${i}`]:!!C,[`${m}-${i}`]:!!i,[`${m}-fill`]:o,[`${m}-justified`]:s}),...p})});W1.displayName="Nav";const Pv=Object.assign(W1,{Item:z1,Link:Kp}),H1=_.forwardRef(({bsPrefix:t,className:e,as:n,...r},i)=>{t=Ve(t,"navbar-brand");const o=n||(r.href?"a":"span");return V.jsx(o,{...r,ref:i,className:Ee(e,t)})});H1.displayName="NavbarBrand";const q1=_.forwardRef(({children:t,bsPrefix:e,...n},r)=>{e=Ve(e,"navbar-collapse");const i=_.useContext(_i);return V.jsx(tD,{in:!!(i&&i.expanded),...n,children:V.jsx("div",{ref:r,className:e,children:t})})});q1.displayName="NavbarCollapse";const K1=_.forwardRef(({bsPrefix:t,className:e,children:n,label:r="Toggle navigation",as:i="button",onClick:o,...s},l)=>{t=Ve(t,"navbar-toggler");const{onToggle:u,expanded:c}=_.useContext(_i)||{},f=ya(p=>{o&&o(p),u&&u()});return i==="button"&&(s.type="button"),V.jsx(i,{...s,ref:l,onClick:f,"aria-label":r,className:Ee(e,t,!c&&"collapsed"),children:n||V.jsx("span",{className:`${t}-icon`})})});K1.displayName="NavbarToggle";const Kf=new WeakMap,kv=(t,e)=>{if(!t||!e)return;const n=Kf.get(e)||new Map;Kf.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function DV(t,e=typeof window>"u"?void 0:window){const n=kv(t,e),[r,i]=_.useState(()=>n?n.matches:!1);return k1(()=>{let o=kv(t,e);if(!o)return i(!1);let s=Kf.get(e);const l=()=>{i(o.matches)};return o.refCount++,o.addListener(l),l(),()=>{o.removeListener(l),o.refCount--,o.refCount<=0&&(s==null||s.delete(o.media)),o=void 0}},[t]),r}function VV(t){const e=Object.keys(t);function n(l,u){return l===u?u:l?`${l} and ${u}`:u}function r(l){return e[Math.min(e.indexOf(l)+1,e.length-1)]}function i(l){const u=r(l);let c=t[u];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function o(l){let u=t[l];return typeof u=="number"&&(u=`${u}px`),`(min-width: ${u})`}function s(l,u,c){let f;typeof l=="object"?(f=l,c=u,u=!0):(u=u||!0,f={[l]:u});let p=_.useMemo(()=>Object.entries(f).reduce((m,[v,C])=>((C==="up"||C===!0)&&(m=n(m,o(v))),(C==="down"||C===!0)&&(m=n(m,i(v))),m),""),[JSON.stringify(f)]);return DV(p,c)}return s}const OV=VV({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),G1=_.forwardRef(({className:t,bsPrefix:e,as:n="div",...r},i)=>(e=Ve(e,"offcanvas-body"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));G1.displayName="OffcanvasBody";const LV={[en]:"show",[Nn]:"show"},Q1=_.forwardRef(({bsPrefix:t,className:e,children:n,in:r=!1,mountOnEnter:i=!1,unmountOnExit:o=!1,appear:s=!1,...l},u)=>(t=Ve(t,"offcanvas"),V.jsx(Dp,{ref:u,addEndListener:kp,in:r,mountOnEnter:i,unmountOnExit:o,appear:s,...l,childRef:oc(n),children:(c,f)=>_.cloneElement(n,{...f,className:Ee(e,n.props.className,(c===en||c===Ys)&&`${t}-toggling`,LV[c])})})));Q1.displayName="OffcanvasToggling";const X1=_.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:r=!1,...i},o)=>(t=Ve(t,"offcanvas-header"),V.jsx(NV,{ref:o,...i,className:Ee(e,t),closeLabel:n,closeButton:r})));X1.displayName="OffcanvasHeader";const bV=rD("h5"),Y1=_.forwardRef(({className:t,bsPrefix:e,as:n=bV,...r},i)=>(e=Ve(e,"offcanvas-title"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));Y1.displayName="OffcanvasTitle";function MV(t){return V.jsx(Q1,{...t})}function FV(t){return V.jsx(i1,{...t})}const J1=_.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":r,placement:i="start",responsive:o,show:s=!1,backdrop:l=!0,keyboard:u=!0,scroll:c=!1,onEscapeKeyDown:f,onShow:p,onHide:m,container:v,autoFocus:C=!0,enforceFocus:x=!0,restoreFocus:P=!0,restoreFocusOptions:w,onEntered:g,onExit:T,onExiting:D,onEnter:L,onEntering:b,onExited:S,backdropClassName:y,manager:I,renderStaticNode:A=!1,...k},N)=>{const R=_.useRef();t=Ve(t,"offcanvas");const[ee,me]=_.useState(!1),le=ya(m),he=OV(o||"xs","up");_.useEffect(()=>{me(o?s&&!he:s)},[s,o,he]);const j=_.useMemo(()=>({onHide:le}),[le]);function K(){return I||(c?(R.current||(R.current=new U1({handleContainerOverflow:!1})),R.current):kV())}const q=(fe,...ve)=>{fe&&(fe.style.visibility="visible"),L==null||L(fe,...ve)},te=(fe,...ve)=>{fe&&(fe.style.visibility=""),S==null||S(...ve)},J=_.useCallback(fe=>V.jsx("div",{...fe,className:Ee(`${t}-backdrop`,y)}),[y,t]),oe=fe=>V.jsx("div",{...fe,...k,className:Ee(e,o?`${t}-${o}`:t,`${t}-${i}`),"aria-labelledby":r,children:n});return V.jsxs(V.Fragment,{children:[!ee&&(o||A)&&oe({}),V.jsx(B1.Provider,{value:j,children:V.jsx(RV,{show:ee,ref:N,backdrop:l,container:v,keyboard:u,autoFocus:C,enforceFocus:x&&!c,restoreFocus:P,restoreFocusOptions:w,onEscapeKeyDown:f,onShow:p,onHide:le,onEnter:q,onEntering:b,onEntered:g,onExit:T,onExiting:D,onExited:te,manager:K(),transition:MV,backdropTransition:FV,renderBackdrop:J,renderDialog:oe})})]})});J1.displayName="Offcanvas";const $V=Object.assign(J1,{Body:G1,Header:X1,Title:Y1}),Z1=_.forwardRef(({onHide:t,...e},n)=>{const r=_.useContext(_i),i=ya(()=>{r==null||r.onToggle==null||r.onToggle(),t==null||t()});return V.jsx($V,{ref:n,show:!!(r!=null&&r.expanded),...e,renderStaticNode:!0,onHide:i})});Z1.displayName="NavbarOffcanvas";const eT=_.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Ve(e,"navbar-text"),V.jsx(n,{ref:i,className:Ee(t,e),...r})));eT.displayName="NavbarText";const tT=_.forwardRef((t,e)=>{const{bsPrefix:n,expand:r=!0,variant:i="light",bg:o,fixed:s,sticky:l,className:u,as:c="nav",expanded:f,onToggle:p,onSelect:m,collapseOnSelect:v=!1,...C}=Pp(t,{expanded:"onToggle"}),x=Ve(n,"navbar"),P=_.useCallback((...T)=>{m==null||m(...T),v&&f&&(p==null||p(!1))},[m,v,f,p]);C.role===void 0&&c!=="nav"&&(C.role="navigation");let w=`${x}-expand`;typeof r=="string"&&(w=`${w}-${r}`);const g=_.useMemo(()=>({onToggle:()=>p==null?void 0:p(!f),bsPrefix:x,expanded:!!f,expand:r}),[x,f,r,p]);return V.jsx(_i.Provider,{value:g,children:V.jsx(fi.Provider,{value:P,children:V.jsx(c,{ref:e,...C,className:Ee(u,x,r&&w,i&&`${x}-${i}`,o&&`bg-${o}`,l&&`sticky-${l}`,s&&`fixed-${s}`)})})})});tT.displayName="Navbar";const cl=Object.assign(tT,{Brand:H1,Collapse:q1,Offcanvas:Z1,Text:eT,Toggle:K1}),nT=_.forwardRef(({id:t,title:e,children:n,bsPrefix:r,className:i,rootCloseEvent:o,menuRole:s,disabled:l,active:u,renderMenuOnMount:c,menuVariant:f,...p},m)=>{const v=Ve(void 0,"nav-item");return V.jsxs(ei,{ref:m,...p,className:Ee(i,v),children:[V.jsx(ei.Toggle,{id:t,eventKey:null,active:u,disabled:l,childBsPrefix:r,as:Kp,children:e}),V.jsx(ei.Menu,{role:s,renderOnMount:c,rootCloseEvent:o,variant:f,children:n})]})});nT.displayName="NavDropdown";const Eh=Object.assign(nT,{Item:ei.Item,ItemText:ei.ItemText,Divider:ei.Divider,Header:ei.Header}),jV="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20fill='none'%20viewBox='0%200%2024%2024'%20strokeWidth='1.5'%20stroke='currentColor'%20className='icon-cart'%20%3e%3cpath%20strokeLinecap='round'%20strokeLinejoin='round'%20d='M15.75%2010.5V6a3.75%203.75%200%2010-7.5%200v4.5m11.356-1.993l1.263%2012c.07.665-.45%201.243-1.119%201.243H4.25a1.125%201.125%200%2001-1.12-1.243l1.264-12A1.125%201.125%200%20015.513%207.5h12.974c.576%200%201.059.435%201.119%201.007zM8.625%2010.5a.375.375%200%2011-.75%200%20.375.375%200%2001.75%200zm7.5%200a.375.375%200%2011-.75%200%20.375.375%200%2001.75%200z'%20/%3e%3c/svg%3e",wa=_.createContext(),UV=({children:t})=>{const[e,n]=_.useState([]),r=l=>{if(e.some(c=>c.id===l.id)){const c=e.map(f=>f.id==l.id?{...f,quantity:f.quantity+l.quantity}:f);n(c)}else n(c=>[...c,l])},i=()=>{n([])},o=l=>{const u=e.filter(c=>c.id!==l);n(u)},s=l=>e.reduce((u,c)=>{if(c.id==l)return u+c.quantity},0);return V.jsx(wa.Provider,{value:{items:e,addItem:r,reset:i,removeItems:o,getQuantity:s},children:t})},BV=()=>{const{items:t}=_.useContext(wa),e=t.reduce((n,r)=>n+r.quantity,0);return V.jsx(V.Fragment,{children:V.jsxs(rc,{to:"/cart",children:[V.jsx("img",{className:"imgCarrito",src:jV,style:{width:"30px",height:"auto"}}),V.jsx("span",{children:e>0&&e})]})})},zV=({allProducts:t,setAllProducts:e,total:n,countProducts:r,setCountProducts:i,setTotal:o})=>(_.useState(!1),V.jsxs(cl,{expand:"lg",style:{backgroundColor:"white",marginLeft:"1cm",marginRight:"1cm"},children:[V.jsx(cl.Brand,{as:Nl,to:"/",style:{fontFamily:"'Playfair Display', serif",fontSize:"60px"},children:"Ragnarok Store"}),V.jsx(cl.Toggle,{"aria-controls":"basic-navbar-nav"}),V.jsxs(cl.Collapse,{id:"basic-navbar-nav",children:[V.jsx(Pv,{className:"me-auto",children:V.jsxs(Eh,{id:"basic-nav-dropdown",children:[V.jsx(Eh.Item,{as:Nl,to:"/category/hombre",children:"Hombre"}),V.jsx(Eh.Item,{as:Nl,to:"/category/mujer",children:"Mujer"})]})}),V.jsx(Pv,{className:"ml-auto",children:V.jsx(BV,{})})]})]})),WV=({id:t,imageUrl:e,name:n,title:r,price:i})=>V.jsxs("div",{children:[V.jsx("figure",{children:V.jsx("img",{src:`/images/${e}`,alt:n})}),V.jsxs("div",{className:"info-product",children:[V.jsx("h2",{children:r}),V.jsxs("p",{className:"price",children:["$",i]}),V.jsx(rc,{to:`/items/${t}`,children:V.jsx("button",{children:"Ver ms"})})]})]}),HV=({allProducts:t,setAllProducts:e,countProducts:n,setCountProducts:r,total:i,setTotal:o})=>V.jsx("div",{className:"container-items",children:t.map(s=>V.jsx("div",{className:"item",children:V.jsx(WV,{id:s.id,imageUrl:s.imageUrl,name:s.productName,title:s.title,price:s.price})},s.id))}),Nv=()=>{const[t,e]=_.useState([]),[n,r]=_.useState(!0),{id:i}=jw();return _.useEffect(()=>{const o=Yu(),s=i?OP(Mf(o,"items"),LP("categoryId","==",i)):Mf(o,"items");jP(s).then(l=>{e(l.docs.map(u=>({id:u.id,...u.data()})))}).finally(()=>r(!1))},[i]),V.jsx(V.Fragment,{children:n?V.jsx("h5",{children:"Loading..."}):V.jsx(HV,{allProducts:t})})},qV="/ReactProyectoFinalMartinCuitino/assets/404-DBJzVZO4.png",rT=()=>V.jsx("div",{style:{textAlign:"center",padding:"50px"},children:V.jsx("img",{src:qV,alt:"404 Not Found"})}),KV=({categoryId:t,imageUrl:e,title:n,price:r,description:i,stock:o,handleAddToCart:s})=>V.jsxs("div",{children:[V.jsx("div",{children:V.jsxs("p",{children:["Category: ",t]})}),V.jsx("figure",{className:"image",children:V.jsx("img",{src:`/images/${e}`,alt:n})}),V.jsxs("div",{className:"info-product",children:[V.jsx("h2",{children:n}),V.jsxs("p",{className:"price",children:["$",r]}),V.jsx("p",{className:"description",children:i}),V.jsx("button",{onClick:s,children:"Agregar al carrito"}),V.jsxs("p",{children:["Stock: ",o]})]})]}),GV=()=>{const[t,e]=_.useState({}),[n,r]=_.useState(!0),{addItem:i,reset:o,getQuantity:s}=_.useContext(wa),[l,u]=_.useState(null),{id:c}=jw();_.useEffect(()=>{const p=Yu(),m=Xu(p,"items",c);xw(m).then(v=>{e({id:v.id,...v.data()})}).finally(()=>r(!1))},[c]);const f=()=>{t.stock<=s(t.id)?u("No hay mas stock de este producto"):i({id:t.id,quantity:1})};return V.jsx("div",{children:t&&!n&&Object.keys(t).length>1?V.jsxs("div",{children:[V.jsx(KV,{categoryId:t.categoryId,imageUrl:t.imageUrl,title:t.title,price:t.price,description:t.descripcion,stock:t.stock,handleAddToCart:f}),l&&V.jsx("div",{style:{color:"red",marginTop:"10px"},children:l})]}):!n&&V.jsx(rT,{})})},QV=({title:t,price:e,quantity:n})=>{const r=e*n;return V.jsxs("tr",{children:[V.jsx("td",{children:t}),V.jsxs("td",{children:["$",Number(e).toFixed(2)]}),V.jsx("td",{children:n}),V.jsxs("td",{children:["$",r.toFixed(2)]})]})},XV=({items:t})=>{const{reset:e}=_.useContext(wa),[n,r]=_.useState({name:"",lastName:"",phone:"",email:"",confirmEmail:""}),[i,o]=_.useState(""),[s,l]=_.useState(!1),u=t.reduce((m,v)=>m+v.price*v.quantity,0),c=_.useMemo(()=>!n.name||!n.lastName||!n.phone||!n.email||n.email!==n.confirmEmail?(o("Todos los campos son obligatorios y los emails deben coincidir. Ademas debe de haber al menos un item en el carrito"),!1):(o(""),!0),[n]),f=async()=>{if(!c)return;const m=Yu();l(!0);try{const v=t.map(async w=>{const g=Xu(m,"items",w.id);await UP(g,{stock:w.stock-w.quantity})});await Promise.all(v);const C=Mf(m,"orders"),x={buyer:{name:n.name,lastName:n.lastName,phone:n.phone,email:n.email},items:t.map(({id:w,title:g,quantity:T,price:D})=>({id:w,title:g,quantity:T,price:D})),total:u,date:new Date().toISOString()},P=await BP(C,x);alert(`Gracias por tu compra. Tu ID de orden es: ${P.id}`),e(),r({name:"",lastName:"",phone:"",email:"",confirmEmail:""})}catch(v){console.error("Error procesando la orden:",v),alert("Hubo un error al procesar tu compra. Intntalo de nuevo.")}finally{l(!1)}},p=m=>{r({...n,[m.target.name]:m.target.value})};return V.jsxs("div",{children:[V.jsxs("table",{border:"1",style:{width:"100%",textAlign:"left",marginBottom:"20px"},children:[V.jsx("thead",{children:V.jsxs("tr",{children:[V.jsx("th",{children:"Ttulo"}),V.jsx("th",{children:"Precio"}),V.jsx("th",{children:"Cantidad"}),V.jsx("th",{children:"Subtotal"})]})}),V.jsx("tbody",{children:t.map(m=>V.jsx(QV,{title:m.title,price:m.price,quantity:m.quantity},m.id))})]}),V.jsxs("h3",{children:["Total: $",u.toFixed(2)]}),V.jsxs("form",{style:{marginBottom:"20px"},children:[V.jsxs("div",{children:[V.jsx("label",{children:"Nombre: "}),V.jsx("input",{type:"text",name:"name",value:n.name,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Apellido: "}),V.jsx("input",{type:"text",name:"lastName",value:n.lastName,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Telfono: "}),V.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Email: "}),V.jsx("input",{type:"email",name:"email",value:n.email,onChange:p})]}),V.jsxs("div",{children:[V.jsx("label",{children:"Confirmar Email: "}),V.jsx("input",{type:"email",name:"confirmEmail",value:n.confirmEmail,onChange:p})]}),i&&V.jsx("div",{style:{color:"red",marginTop:"10px"},children:i})]}),V.jsx("button",{onClick:f,disabled:s||!c||t.length==0,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:s?"gray":"#007BFF",color:"white",cursor:s?"not-allowed":"pointer"},children:s?"Procesando...":"Finalizar Checkout"})]})},YV=()=>{const{items:t}=_.useContext(wa),[e,n]=_.useState([]),[r,i]=_.useState(!0);return _.useEffect(()=>{const o=Yu(),s=t.map(async l=>{const u=Xu(o,"items",l.id);return xw(u).then(c=>({id:c.id,quantity:l.quantity,...c.data()}))});Promise.all(s).then(l=>{n(l),i(!1)})},[t]),V.jsx(XV,{items:e})};function JV(){const[t,e]=_.useState([]),[n,r]=_.useState(0),[i,o]=_.useState(0);return V.jsx(V.Fragment,{children:V.jsx(UV,{children:V.jsxs(dN,{basename:"/",children:[V.jsx(zV,{allProducts:t,setAllProducts:e,total:n,setTotal:r,countProducts:i,setCountProducts:o}),V.jsxs(zk,{children:[V.jsx(Di,{path:"/",element:V.jsx(Nv,{})}),V.jsx(Di,{path:"/category/:id",element:V.jsx(Nv,{})}),V.jsx(Di,{path:"/items/:id",element:V.jsx(GV,{})}),V.jsx(Di,{path:"/cart",element:V.jsx(YV,{})}),V.jsx(Di,{path:"*",element:V.jsx(rT,{})})]})]})})})}var ZV="firebase",eO="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(ZV,eO,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _u=new zd("@firebase/firestore");function tO(t,...e){if(_u.logLevel<=ne.DEBUG){const n=e.map(iT);_u.debug(`Firestore (${fc}): ${t}`,...n)}}function nO(t,...e){if(_u.logLevel<=ne.ERROR){const n=e.map(iT);_u.error(`Firestore (${fc}): ${t}`,...n)}}function iT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t="Unexpected state"){const e=`FIRESTORE (${fc}) INTERNAL ASSERTION FAILED: `+t;throw nO(e),new Error(e)}function oT(t,e){t||rO()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="invalid-argument",Dv="failed-precondition";class fn extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class sO{constructor(e){this.auth=null,e.onInit(n=>{this.auth=n})}getToken(){return this.auth?this.auth.getToken().then(e=>e?(oT(typeof e.accessToken=="string"),new iO(e.accessToken,new Ft(this.auth.getUid()))):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class aO{constructor(e,n,r){this.t=e,this.i=n,this.o=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.u=new Map}l(){return this.o?this.o():null}get headers(){this.u.set("X-Goog-AuthUser",this.t);const e=this.l();return e&&this.u.set("Authorization",e),this.i&&this.u.set("X-Goog-Iam-Authorization-Token",this.i),this.u}}class lO{constructor(e,n,r){this.t=e,this.i=n,this.o=r}getToken(){return Promise.resolve(new aO(this.t,this.i,this.o))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cO{constructor(e){this.h=e,this.appCheck=null,e.onInit(n=>{this.appCheck=n})}getToken(){return this.appCheck?this.appCheck.getToken().then(e=>e?(oT(typeof e.token=="string"),new uO(e.token)):null):Promise.resolve(null)}invalidateToken(){}start(e,n){}shutdown(){}}class Eu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Eu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Eu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vv,ae;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ae=Vv||(Vv={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=new Map;class Lv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fn(or,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new fn(or,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(o,s,l,u){if(s===!0&&u===!0)throw new fn(or,`${o} and ${l} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new fn(or,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new fn(or,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new fn(or,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fO{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fn(Dv,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fn(Dv,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new oO;switch(r.type){case"firstParty":return new lO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fn(or,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Ov.get(n);r&&(tO("ComponentProvider","Removing Datastore"),Ov.delete(n),r.terminate())}(this),Promise.resolve()}}(function(){(function(n){fc=n})(`${tE}_lite`),zs(new so("firestore/lite",(e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new fO(new sO(e.getProvider("auth-internal")),new cO(e.getProvider("app-check-internal")),function(l,u){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new fn(or,'"projectId" not provided in firebase.initializeApp.');return new Eu(l.options.projectId,u)}(i,n),i);return r&&o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),Tr("firestore-lite","4.7.5",""),Tr("firestore-lite","4.7.5","esm2017")})();const dO={apiKey:"AIzaSyDTjGQNhyMzUwhAa2hz-pcYQS4SwfzE8a0",authDomain:"entrega-react-martin-c.firebaseapp.com",projectId:"entrega-react-martin-c",storageBucket:"entrega-react-martin-c.firebasestorage.app",messagingSenderId:"680212623764",appId:"1:680212623764:web:f7a35222db956fe9605f81"};nE(dO);wh.createRoot(document.getElementById("root")).render(V.jsx(Ze.StrictMode,{children:V.jsx(JV,{})}));
